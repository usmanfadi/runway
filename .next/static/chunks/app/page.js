/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["app/page"],{

/***/ "(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22D%3A%5C%5Cusman%5C%5Csrc%5C%5Ccomponents%5C%5CPageRenderer.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&server=false!":
/*!********************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22D%3A%5C%5Cusman%5C%5Csrc%5C%5Ccomponents%5C%5CPageRenderer.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&server=false! ***!
  \********************************************************************************************************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/components/PageRenderer.tsx */ \"(app-pages-browser)/./src/components/PageRenderer.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtZmxpZ2h0LWNsaWVudC1lbnRyeS1sb2FkZXIuanM/bW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyRCUzQSU1QyU1Q3VzbWFuJTVDJTVDc3JjJTVDJTVDY29tcG9uZW50cyU1QyU1Q1BhZ2VSZW5kZXJlci50c3glMjIlMkMlMjJpZHMlMjIlM0ElNUIlMjJkZWZhdWx0JTIyJTVEJTdEJnNlcnZlcj1mYWxzZSEiLCJtYXBwaW5ncyI6IkFBQUEsNExBQThHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8/MTQ5MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiwgd2VicGFja0V4cG9ydHM6IFtcImRlZmF1bHRcIl0gKi8gXCJEOlxcXFx1c21hblxcXFxzcmNcXFxcY29tcG9uZW50c1xcXFxQYWdlUmVuZGVyZXIudHN4XCIpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22D%3A%5C%5Cusman%5C%5Csrc%5C%5Ccomponents%5C%5CPageRenderer.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&server=false!\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/PageRenderer.tsx":
/*!*****************************************!*\
  !*** ./src/components/PageRenderer.tsx ***!
  \*****************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ PageRenderer; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n// Helper to extract filename from URL (handles query params)\nfunction getAssetFilename(url) {\n    try {\n        const urlObj = new URL(url, \"https://alluredigital.net\");\n        const pathParts = urlObj.pathname.split(\"/\").filter((p)=>p);\n        if (pathParts.length === 0) return null;\n        // For litespeed CSS/JS files, construct full path (matches scraped filename format)\n        if (urlObj.pathname.includes(\"/litespeed/\")) {\n            // Format: domain_path_to_file.css\n            const domain = urlObj.hostname.replace(\"www.\", \"\");\n            const fullPath = domain + urlObj.pathname;\n            // Replace slashes with underscores, keep dots and dashes\n            let filename = fullPath.replace(/\\//g, \"_\");\n            // Remove query params from filename (already handled by scraper)\n            filename = filename.split(\"?\")[0];\n            return filename || null;\n        }\n        // For wp-content/uploads files\n        if (urlObj.pathname.includes(\"/wp-content/uploads/\")) {\n            const domain = urlObj.hostname.replace(\"www.\", \"\");\n            const fullPath = domain + urlObj.pathname;\n            let filename = fullPath.replace(/\\//g, \"_\");\n            filename = filename.split(\"?\")[0];\n            return filename || null;\n        }\n        // For other files, construct domain_path format\n        const domain = urlObj.hostname.replace(\"www.\", \"\");\n        const fullPath = domain + urlObj.pathname;\n        let filename = fullPath.replace(/\\//g, \"_\");\n        filename = filename.split(\"?\")[0];\n        return filename || null;\n    } catch (e) {\n        return null;\n    }\n}\nfunction PageRenderer(param) {\n    let { html } = param;\n    _s();\n    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const scriptsLoadedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new Set());\n    const stylesLoadedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new Set());\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!containerRef.current || !html) return;\n        setIsLoading(true);\n        const parser = new DOMParser();\n        const doc = parser.parseFromString(html, \"text/html\");\n        // Extract and inject head content FIRST (before body)\n        const head = doc.querySelector(\"head\");\n        const stylePromises = [];\n        if (head) {\n            // Preload ALL assets first so browser caches them (won't reload on refresh)\n            const allAssets = [];\n            // Collect all CSS files\n            head.querySelectorAll('link[rel=\"stylesheet\"]').forEach((el)=>{\n                const href = el.getAttribute(\"href\") || \"\";\n                if (href.includes(\"alluredigital.net\") && !href.includes(\"fonts.googleapis.com\")) {\n                    const filename = getAssetFilename(href);\n                    if (filename) {\n                        allAssets.push({\n                            href: \"/assets/\".concat(filename),\n                            as: \"style\"\n                        });\n                    }\n                }\n            });\n            // Collect all script files\n            head.querySelectorAll(\"script[src]\").forEach((el)=>{\n                const src = el.getAttribute(\"src\") || \"\";\n                if (src && (src.includes(\"alluredigital.net\") || src.startsWith(\"/assets/\"))) {\n                    const filename = getAssetFilename(src);\n                    if (filename) {\n                        allAssets.push({\n                            href: \"/assets/\".concat(filename),\n                            as: \"script\"\n                        });\n                    }\n                }\n            });\n            // Collect critical images from body\n            const body = doc.querySelector(\"body\");\n            if (body) {\n                // Logo\n                allAssets.push({\n                    href: \"/rimal.png\",\n                    as: \"image\"\n                });\n                // Hero and important images (first 15)\n                let imageCount = 0;\n                body.querySelectorAll(\"img[src]\").forEach((el)=>{\n                    if (imageCount >= 15) return;\n                    const src = el.getAttribute(\"src\") || \"\";\n                    if (src && (src.includes(\"alluredigital.net\") || src.includes(\"rimalweb.net\") || src.startsWith(\"/assets/\"))) {\n                        const fixedSrc = src.includes(\"/assets/\") ? src : \"/assets/\".concat(getAssetFilename(src) || \"\");\n                        if (fixedSrc && fixedSrc !== \"/assets/\" && !allAssets.some((a)=>a.href === fixedSrc)) {\n                            allAssets.push({\n                                href: fixedSrc,\n                                as: \"image\"\n                            });\n                            imageCount++;\n                        }\n                    }\n                });\n            }\n            // Add preload links for ALL assets (browser will cache them)\n            allAssets.forEach((asset)=>{\n                if (asset.href && !document.querySelector('link[rel=\"preload\"][href=\"'.concat(asset.href, '\"]'))) {\n                    const preloadLink = document.createElement(\"link\");\n                    preloadLink.rel = \"preload\";\n                    preloadLink.as = asset.as;\n                    preloadLink.href = asset.href;\n                    // Add crossorigin for fonts if needed\n                    if (asset.as === \"font\") {\n                        preloadLink.crossOrigin = \"anonymous\";\n                    }\n                    document.head.appendChild(preloadLink);\n                }\n            });\n            // Inject ALL stylesheets (preserve order for animations)\n            head.querySelectorAll('link[rel=\"stylesheet\"], style').forEach((el)=>{\n                if (el.tagName === \"LINK\") {\n                    const href = el.getAttribute(\"href\") || \"\";\n                    const styleId = href;\n                    if (!stylesLoadedRef.current.has(styleId)) {\n                        const clone = el.cloneNode(true);\n                        // Only load local CSS - skip external fonts\n                        if (href.includes(\"fonts.googleapis.com\") || href.includes(\"googleapis.com\") || href.includes(\"gstatic.com\")) {\n                            // Skip external fonts - don't load them\n                            return;\n                        } else if (href.includes(\"alluredigital.net\") || href.startsWith(\"http\")) {\n                            const filename = getAssetFilename(href);\n                            if (filename) {\n                                clone.href = \"/assets/\".concat(filename);\n                            } else {\n                                // Skip if can't find local asset\n                                return;\n                            }\n                        }\n                        clone.setAttribute(\"data-injected\", \"true\");\n                        // Wait for stylesheet to load and be applied\n                        const stylePromise = new Promise((resolve)=>{\n                            let resolved = false;\n                            const resolveOnce = ()=>{\n                                if (!resolved) {\n                                    resolved = true;\n                                    // Wait a bit more to ensure CSS is applied to DOM\n                                    setTimeout(()=>resolve(), 100);\n                                }\n                            };\n                            clone.onload = resolveOnce;\n                            clone.onerror = resolveOnce // Continue even if stylesheet fails\n                            ;\n                            document.head.appendChild(clone);\n                            // Fallback: resolve after reasonable timeout\n                            setTimeout(()=>{\n                                if (!resolved) {\n                                    resolveOnce();\n                                }\n                            }, 2000);\n                        });\n                        stylePromises.push(stylePromise);\n                        stylesLoadedRef.current.add(styleId);\n                    }\n                } else if (el.tagName === \"STYLE\") {\n                    var _el_textContent;\n                    // Inline styles - inject directly\n                    const styleId = ((_el_textContent = el.textContent) === null || _el_textContent === void 0 ? void 0 : _el_textContent.substring(0, 50)) || Math.random().toString();\n                    if (!stylesLoadedRef.current.has(styleId)) {\n                        const clone = el.cloneNode(true);\n                        clone.setAttribute(\"data-injected\", \"true\");\n                        document.head.appendChild(clone);\n                        stylesLoadedRef.current.add(styleId);\n                    }\n                }\n            });\n            // Inject meta tags and title (with branding replacement)\n            head.querySelectorAll(\"meta, title\").forEach((el)=>{\n                if (el.tagName === \"TITLE\") {\n                    // Always update title, whether it exists or not\n                    const titleText = el.textContent || \"\";\n                    const replacedText = titleText.replace(/Allure Digital/gi, \"Rimalweb\").replace(/AllureDigital/gi, \"Rimalweb\").replace(/allure digital/gi, \"Rimalweb\").replace(/AllureDigital\\.net/gi, \"Rimalweb\").replace(/alluredigital\\.net/gi, \"Rimalweb\");\n                    // Update document.title directly (this is what shows in browser tab)\n                    document.title = replacedText || \"Rimalweb\";\n                    // Also update/create title tag in head\n                    let existingTitle = document.querySelector(\"title\");\n                    if (existingTitle) {\n                        existingTitle.textContent = replacedText || \"Rimalweb\";\n                    } else {\n                        const newTitle = document.createElement(\"title\");\n                        newTitle.textContent = replacedText || \"Rimalweb\";\n                        document.head.appendChild(newTitle);\n                    }\n                    // Force update after a small delay to ensure it persists\n                    setTimeout(()=>{\n                        document.title = replacedText || \"Rimalweb\";\n                        const titleEl = document.querySelector(\"title\");\n                        if (titleEl) {\n                            titleEl.textContent = replacedText || \"Rimalweb\";\n                        }\n                    }, 100);\n                } else if (el.tagName === \"META\") {\n                    // Handle meta tags\n                    const existing = document.querySelector('meta[name=\"'.concat(el.getAttribute(\"name\") || el.getAttribute(\"property\"), '\"]'));\n                    if (!existing) {\n                        const clone = el.cloneNode(true);\n                        const content = clone.getAttribute(\"content\");\n                        if (content) {\n                            clone.setAttribute(\"content\", content.replace(/Allure Digital/gi, \"Rimalweb\").replace(/AllureDigital/gi, \"Rimalweb\").replace(/allure digital/gi, \"Rimalweb\").replace(/alluredigital\\.net/gi, \"rimalweb.com\"));\n                        }\n                        document.head.appendChild(clone);\n                    } else {\n                        // Update existing meta tag\n                        const content = el.getAttribute(\"content\");\n                        if (content) {\n                            const replacedContent = content.replace(/Allure Digital/gi, \"Rimalweb\").replace(/AllureDigital/gi, \"Rimalweb\").replace(/allure digital/gi, \"Rimalweb\").replace(/alluredigital\\.net/gi, \"rimalweb.com\");\n                            existing.setAttribute(\"content\", replacedContent);\n                        }\n                    }\n                }\n            });\n        }\n        // Extract body and preserve ALL attributes and classes\n        const body = doc.querySelector(\"body\");\n        if (body && containerRef.current) {\n            // Apply body classes to container to preserve styling\n            const bodyClasses = body.className;\n            if (bodyClasses) {\n                containerRef.current.className = bodyClasses;\n            }\n            // Copy body attributes\n            Array.from(body.attributes).forEach((attr)=>{\n                if (attr.name !== \"class\") {\n                    var _containerRef_current;\n                    (_containerRef_current = containerRef.current) === null || _containerRef_current === void 0 ? void 0 : _containerRef_current.setAttribute(attr.name, attr.value);\n                }\n            });\n            // Check if asset file exists (async check)\n            const checkAssetExists = async (path)=>{\n                try {\n                    const response = await fetch(path, {\n                        method: \"HEAD\"\n                    });\n                    return response.ok;\n                } catch (e) {\n                    return false;\n                }\n            };\n            // Fix ALL asset URLs in body BEFORE setting innerHTML\n            const fixAssetUrl = (url)=>{\n                if (!url || url.startsWith(\"data:\") || url.startsWith(\"/assets/\")) return url;\n                if (url.includes(\"alluredigital.net\") || url.startsWith(\"http\")) {\n                    const filename = getAssetFilename(url);\n                    if (filename) {\n                        // WordPress adds size suffixes like -2048x903, -300x200, etc. to image URLs\n                        // but the actual files don't have these suffixes. Strip them from filename.\n                        const filenameWithoutSize = filename.replace(/-\\d+x\\d+(\\.[a-z]+)$/i, \"$1\");\n                        return \"/assets/\".concat(filenameWithoutSize);\n                    }\n                }\n                // Handle Rimalweb.net URLs - fallback to alluredigital.net filename\n                if (url.includes(\"rimalweb.net\") || url.includes(\"Rimalweb.net\")) {\n                    // Replace rimalweb.net with alluredigital.net in URL to get correct filename\n                    const originalUrl = url.replace(/rimalweb\\.net/gi, \"alluredigital.net\");\n                    const filename = getAssetFilename(originalUrl);\n                    if (filename) {\n                        // Strip WordPress size suffixes\n                        const filenameWithoutSize = filename.replace(/-\\d+x\\d+(\\.[a-z]+)$/i, \"$1\");\n                        return \"/assets/\".concat(filenameWithoutSize);\n                    }\n                }\n                return url;\n            };\n            // Fix images and replace logo images with custom SVG logo\n            body.querySelectorAll(\"img[src]\").forEach((img)=>{\n                const src = img.getAttribute(\"src\");\n                if (src) {\n                    var _img_closest, _welcomeSection_textContent, _welcomeSection_textContent1, _welcomeSection_textContent2;\n                    const fixedSrc = fixAssetUrl(src);\n                    img.setAttribute(\"src\", fixedSrc);\n                    // Check if image is in \"Welcome to Rimalweb\" section\n                    const welcomeSection = (_img_closest = img.closest(\"section, div\")) === null || _img_closest === void 0 ? void 0 : _img_closest.querySelector(\"h2, h1, .elementor-heading-title\");\n                    const isWelcomeSection = welcomeSection && (((_welcomeSection_textContent = welcomeSection.textContent) === null || _welcomeSection_textContent === void 0 ? void 0 : _welcomeSection_textContent.includes(\"Welcome to\")) || ((_welcomeSection_textContent1 = welcomeSection.textContent) === null || _welcomeSection_textContent1 === void 0 ? void 0 : _welcomeSection_textContent1.includes(\"Breaking Through\")) || ((_welcomeSection_textContent2 = welcomeSection.textContent) === null || _welcomeSection_textContent2 === void 0 ? void 0 : _welcomeSection_textContent2.includes(\"Digital Impasse\")));\n                    // Make images smaller in Welcome section\n                    if (isWelcomeSection) {\n                        const imgElement = img;\n                        const originalWidth = parseInt(img.getAttribute(\"width\") || (imgElement.offsetWidth ? imgElement.offsetWidth.toString() : \"200\"));\n                        const originalHeight = parseInt(img.getAttribute(\"height\") || (imgElement.offsetHeight ? imgElement.offsetHeight.toString() : \"50\"));\n                        // Reduce size by 30% for Welcome section images\n                        const width = Math.round(originalWidth * 0.7);\n                        const height = Math.round(originalHeight * 0.7);\n                        const currentStyle = img.getAttribute(\"style\") || \"\";\n                        img.setAttribute(\"width\", width.toString());\n                        img.setAttribute(\"height\", height.toString());\n                        img.setAttribute(\"style\", \"width: \".concat(width, \"px; height: \").concat(height, \"px; max-width: \").concat(width, \"px; object-fit: contain; \").concat(currentStyle));\n                    }\n                    // Replace logo images in header/footer with custom SVG logo\n                    const srcLower = src.toLowerCase();\n                    const isLogoImage = srcLower.includes(\"allure\") && (srcLower.includes(\"logo\") || srcLower.includes(\"asset-1\") || srcLower.includes(\"symbol\"));\n                    const isInHeader = img.closest(\"header\") !== null || img.closest('[data-elementor-type=\"header\"]') !== null || img.closest('[class*=\"elementor-location-header\" i]') !== null;\n                    const isInFooter = img.closest(\"footer\") !== null || img.closest('[class*=\"footer\" i]') !== null;\n                    const hasLogoClass = img.closest('[class*=\"logo\" i]') !== null || img.closest('[class*=\"brand\" i]') !== null || img.closest('[class*=\"site-logo\" i]') !== null || img.closest('[class*=\"elementor-widget-image\" i]') !== null;\n                    // Replace logo images with Rimalweb logo from public folder\n                    if (isLogoImage && (isInHeader || isInFooter || hasLogoClass)) {\n                        const parent = img.parentElement;\n                        if (parent) {\n                            const imgElement = img;\n                            const originalWidth = parseInt(img.getAttribute(\"width\") || (imgElement.offsetWidth ? imgElement.offsetWidth.toString() : \"200\"));\n                            const originalHeight = parseInt(img.getAttribute(\"height\") || (imgElement.offsetHeight ? imgElement.offsetHeight.toString() : \"50\"));\n                            // Increase size by 20% for header/footer logos\n                            const width = Math.round(originalWidth * 1.2);\n                            const height = Math.round(originalHeight * 1.2);\n                            const classes = img.getAttribute(\"class\") || \"\";\n                            const style = img.getAttribute(\"style\") || \"\";\n                            const alt = img.getAttribute(\"alt\") || \"Rimalweb\";\n                            // Create new image element with Rimalweb logo (bigger size)\n                            const newLogo = document.createElement(\"img\");\n                            newLogo.src = \"/rimal.png\";\n                            newLogo.setAttribute(\"width\", width.toString());\n                            newLogo.setAttribute(\"height\", height.toString());\n                            newLogo.setAttribute(\"alt\", alt);\n                            newLogo.setAttribute(\"class\", classes);\n                            // Make footer logo transparent\n                            const opacityStyle = isInFooter ? \"opacity: 0.5; \" : \"\";\n                            // Move header logo up a bit\n                            const headerPositionStyle = isInHeader ? \"margin-top: -10px; \" : \"\";\n                            // Add style to make it bigger while preserving original\n                            newLogo.setAttribute(\"style\", \"width: \".concat(width, \"px; height: \").concat(height, \"px; object-fit: contain; \").concat(opacityStyle).concat(headerPositionStyle).concat(style));\n                            // Preserve parent link if exists\n                            if (parent.tagName === \"A\") {\n                                var _parent_parentElement;\n                                const link = parent.cloneNode(false);\n                                Array.from(parent.attributes).forEach((attr)=>{\n                                    link.setAttribute(attr.name, attr.value);\n                                });\n                                link.appendChild(newLogo);\n                                (_parent_parentElement = parent.parentElement) === null || _parent_parentElement === void 0 ? void 0 : _parent_parentElement.replaceChild(link, parent);\n                            } else {\n                                parent.replaceChild(newLogo, img);\n                            }\n                        }\n                    }\n                }\n            });\n            // Fix CSS links in body\n            body.querySelectorAll(\"link[href]\").forEach((link)=>{\n                const href = link.getAttribute(\"href\");\n                if (href) {\n                    link.setAttribute(\"href\", fixAssetUrl(href));\n                }\n            });\n            // Fix background images in style attributes\n            body.querySelectorAll('[style*=\"background\"]').forEach((el)=>{\n                const style = el.getAttribute(\"style\") || \"\";\n                const newStyle = style.replace(/url\\(['\"]?([^'\")]+)['\"]?\\)/g, (match, url)=>{\n                    const fixed = fixAssetUrl(url);\n                    return \"url('\".concat(fixed, \"')\");\n                });\n                el.setAttribute(\"style\", newStyle);\n            });\n            // Fix internal links and replace contact links with dummy data\n            body.querySelectorAll(\"a[href]\").forEach((a)=>{\n                const href = a.getAttribute(\"href\");\n                // Remove Google Maps links and location links\n                if (href && (href.includes(\"maps.google.com\") || href.includes(\"maps.googleapis.com\") || href.includes(\"google.com/maps\") || href.includes(\"goo.gl/maps\") || href.includes(\"maps.app.goo.gl\") || href.toLowerCase().includes(\"find us on google map\") || href.toLowerCase().includes(\"find us on map\") || href.toLowerCase().includes(\"our location\") || href.toLowerCase().includes(\"get directions\") || href.includes(\"q=\") && (href.includes(\"Brooklyn\") || href.includes(\"5300\") || href.includes(\"Kings Highway\")))) {\n                    // Remove the link but keep the text\n                    a.removeAttribute(\"href\");\n                    const linkEl = a;\n                    linkEl.style.pointerEvents = \"none\";\n                    linkEl.style.cursor = \"default\";\n                    linkEl.style.textDecoration = \"none\";\n                    return;\n                }\n                // Replace tel: and mailto: links with dummy data\n                if (href && href.startsWith(\"tel:\")) {\n                    const dummyPhone = \"+1 (555) 123-4567\";\n                    a.setAttribute(\"href\", \"tel:\".concat(dummyPhone.replace(/\\s/g, \"\").replace(/[()]/g, \"\").replace(/-/g, \"\")));\n                } else if (href && href.startsWith(\"mailto:\")) {\n                    const dummyEmail = \"info@rimalweb.com\";\n                    // Replace old email with dummy email\n                    if (href.includes(\"alluredigital.net\")) {\n                        a.setAttribute(\"href\", \"mailto:\".concat(dummyEmail));\n                    } else {\n                        // Keep existing email if it's not alluredigital.net\n                        a.setAttribute(\"href\", href.replace(/mailto:[^@]+@alluredigital\\.net/gi, \"mailto:\".concat(dummyEmail)));\n                    }\n                } else if (href && href.includes(\"alluredigital.net\")) {\n                    // Convert alluredigital.net URLs to local Next.js routes\n                    try {\n                        const url = new URL(href);\n                        let path = url.pathname;\n                        // Remove trailing slash\n                        if (path.endsWith(\"/\") && path !== \"/\") {\n                            path = path.slice(0, -1);\n                        }\n                        // Convert common WordPress paths to Next.js routes\n                        const routeMap = {\n                            \"/social-media-management\": \"/social-media-management\",\n                            \"/social-media-marketing\": \"/social-media-management\",\n                            \"/appian-development\": \"/appian-development\",\n                            \"/software-development\": \"/appian-development\",\n                            \"/local-seo\": \"/local-seo\",\n                            \"/ppc-advertising\": \"/google-ads-management\",\n                            \"/google-ads-management\": \"/google-ads-management\",\n                            \"/wordpress-development\": \"/wordpress-development\",\n                            \"/shopify-development\": \"/shopify-development\",\n                            \"/bricks-builder-development\": \"/bricks-builder-development\",\n                            \"/crm-development\": \"/crm-development\",\n                            \"/google-map-optimization\": \"/google-map-optimization\",\n                            \"/small-business-seo-service\": \"/small-business-seo-service\",\n                            \"/local-business-citations-building\": \"/local-business-citations-building\",\n                            \"/landing-page-optimization\": \"/landing-page-optimization\",\n                            \"/technical-seo-service\": \"/technical-seo-service\",\n                            \"/contact-us\": \"/contact-us\",\n                            \"/who-we-are\": \"/who-we-are\",\n                            \"/portfolio\": \"/portfolio\",\n                            \"/work\": \"/work\",\n                            \"/blog\": \"/blog\",\n                            \"/careers\": \"/careers\"\n                        };\n                        // Check if path exists in route map\n                        if (routeMap[path]) {\n                            a.setAttribute(\"href\", routeMap[path]);\n                        } else if (path.startsWith(\"/blog/\")) {\n                            // Blog posts - keep the path as is\n                            a.setAttribute(\"href\", path);\n                        } else if (path === \"/\" || path === \"\") {\n                            a.setAttribute(\"href\", \"/\");\n                        } else {\n                            // For unknown routes, try to use the path directly\n                            a.setAttribute(\"href\", path);\n                        }\n                    } catch (e) {\n                        // If URL parsing fails, try to extract path manually\n                        const pathMatch = href.match(/alluredigital\\.net([^?#]*)/);\n                        if (pathMatch && pathMatch[1]) {\n                            let path = pathMatch[1];\n                            if (path.endsWith(\"/\") && path !== \"/\") {\n                                path = path.slice(0, -1);\n                            }\n                            a.setAttribute(\"href\", path || \"/\");\n                        }\n                    }\n                }\n            });\n            // Replace branding - Allure Digital to Rimalweb (ONLY visible text, NOT URLs or assets)\n            const replaceBranding = (html)=>{\n                // Replace in text content using DOM manipulation for safety\n                const tempDiv = document.createElement(\"div\");\n                tempDiv.innerHTML = html;\n                // Replace in all text nodes (but NOT in script, style, src, href, or URLs)\n                const walker = document.createTreeWalker(tempDiv, NodeFilter.SHOW_TEXT, null);\n                let node;\n                while(node = walker.nextNode()){\n                    const parent = node.parentElement;\n                    if (!parent) continue;\n                    // Skip script, style, and elements with src/href (images, links, etc.)\n                    // BUT allow text inside links (like breadcrumbs) to be replaced\n                    if (parent.tagName === \"SCRIPT\" || parent.tagName === \"STYLE\" || parent.tagName === \"NOSCRIPT\" || parent.hasAttribute(\"src\") && parent.tagName !== \"A\" || parent.closest(\"img\") && !parent.closest(\"a[href]\")) {\n                        continue;\n                    }\n                    // Allow replacement in link text (breadcrumbs, etc.) but not in href attributes\n                    if (parent.tagName === \"A\" && parent.hasAttribute(\"href\")) {\n                    // This is link text, we can replace it - continue to process\n                    } else if (parent.hasAttribute(\"href\") && parent.tagName !== \"A\") {\n                        continue;\n                    }\n                    if (node.textContent) {\n                        let text = node.textContent;\n                        // Don't trim - preserve whitespace for proper replacement\n                        // Only replace if it's plain text (not part of URL or path)\n                        if (!text.match(/https?:\\/\\//i) && !text.match(/\\/assets\\//) && !text.match(/\\.(png|jpg|jpeg|gif|svg|css|js)/i) && !text.match(/^\\/[^\\/]/)) {\n                            const originalText = text;\n                            // Replace only the company name text (case insensitive, word boundaries)\n                            text = text.replace(/\\bAllure Digital\\b/gi, \"Rimalweb\");\n                            text = text.replace(/\\bAllureDigital\\b/gi, \"Rimalweb\");\n                            text = text.replace(/\\ballure digital\\b/gi, \"Rimalweb\");\n                            if (text !== originalText) {\n                                node.textContent = text;\n                            }\n                        }\n                    }\n                }\n                // Replace in title tag (visible in browser tab)\n                tempDiv.querySelectorAll(\"title\").forEach((title)=>{\n                    if (title.textContent) {\n                        title.textContent = title.textContent.replace(/Allure Digital/gi, \"Rimalweb\").replace(/AllureDigital/gi, \"Rimalweb\");\n                    }\n                });\n                // Replace in alt attributes (for accessibility)\n                tempDiv.querySelectorAll(\"img[alt]\").forEach((img)=>{\n                    const alt = img.getAttribute(\"alt\");\n                    if (alt && (alt.includes(\"Allure\") || alt.includes(\"allure\"))) {\n                        img.setAttribute(\"alt\", alt.replace(/Allure Digital/gi, \"Rimalweb\").replace(/AllureDigital/gi, \"Rimalweb\"));\n                    }\n                });\n                // Replace in heading elements (h1, h2, h3, etc.) - important for hero sections\n                tempDiv.querySelectorAll('h1, h2, h3, h4, h5, h6, .elementor-heading-title, .bdt-ep-hover-box-title, [class*=\"heading\"]').forEach((heading)=>{\n                    if (heading.textContent) {\n                        const originalText = heading.textContent;\n                        let newText = originalText.replace(/\\bAllure Digital\\b/gi, \"Rimalweb\").replace(/\\bAllureDigital\\b/gi, \"Rimalweb\").replace(/\\ballure digital\\b/gi, \"Rimalweb\");\n                        if (newText !== originalText) {\n                            heading.textContent = newText;\n                        }\n                    }\n                });\n                // Replace in span and div elements that might contain company name (for hero sections)\n                tempDiv.querySelectorAll(\"span, div, p, li\").forEach((el)=>{\n                    // Skip if it's inside a link href or image src, but allow link text\n                    if (el.closest(\"img\") && !el.closest(\"a[href]\")) return;\n                    // Process if it has text content\n                    if (el.textContent) {\n                        const originalText = el.textContent;\n                        let newText = originalText.replace(/\\bAllure Digital\\b/gi, \"Rimalweb\").replace(/\\bAllureDigital\\b/gi, \"Rimalweb\").replace(/\\ballure digital\\b/gi, \"Rimalweb\");\n                        if (newText !== originalText) {\n                            // Only replace if it's a leaf node or has minimal children\n                            if (el.children.length === 0) {\n                                el.textContent = newText;\n                            } else {\n                                // For elements with children, replace in direct text nodes\n                                const directTextNodes = Array.from(el.childNodes).filter((node)=>node.nodeType === Node.TEXT_NODE);\n                                directTextNodes.forEach((textNode)=>{\n                                    if (textNode.textContent) {\n                                        const text = textNode.textContent;\n                                        const replaced = text.replace(/\\bAllure Digital\\b/gi, \"Rimalweb\").replace(/\\bAllureDigital\\b/gi, \"Rimalweb\").replace(/\\ballure digital\\b/gi, \"Rimalweb\");\n                                        if (replaced !== text) {\n                                            textNode.textContent = replaced;\n                                        }\n                                    }\n                                });\n                            }\n                        }\n                    }\n                });\n                // Replace in data attributes that might contain text\n                tempDiv.querySelectorAll(\"[data-title], [data-text], [data-content], [data-name], [data-label]\").forEach((el)=>{\n                    [\n                        \"data-title\",\n                        \"data-text\",\n                        \"data-content\",\n                        \"data-name\",\n                        \"data-label\"\n                    ].forEach((attr)=>{\n                        const value = el.getAttribute(attr);\n                        if (value && (value.includes(\"Allure\") || value.includes(\"allure\"))) {\n                            el.setAttribute(attr, value.replace(/Allure Digital/gi, \"Rimalweb\").replace(/AllureDigital/gi, \"Rimalweb\").replace(/allure digital/gi, \"Rimalweb\"));\n                        }\n                    });\n                });\n                // Replace in aria-labels and other accessibility attributes\n                tempDiv.querySelectorAll(\"[aria-label], [title], [placeholder]\").forEach((el)=>{\n                    [\n                        \"aria-label\",\n                        \"title\",\n                        \"placeholder\"\n                    ].forEach((attr)=>{\n                        const value = el.getAttribute(attr);\n                        if (value && (value.includes(\"Allure\") || value.includes(\"allure\"))) {\n                            el.setAttribute(attr, value.replace(/Allure Digital/gi, \"Rimalweb\").replace(/AllureDigital/gi, \"Rimalweb\").replace(/allure digital/gi, \"Rimalweb\"));\n                        }\n                    });\n                });\n                // Replace in script tags that contain JSON-LD or schema data\n                tempDiv.querySelectorAll('script[type=\"application/ld+json\"]').forEach((script)=>{\n                    if (script.textContent) {\n                        try {\n                            const jsonData = JSON.parse(script.textContent);\n                            const jsonString = JSON.stringify(jsonData);\n                            if (jsonString.includes(\"Allure\") || jsonString.includes(\"allure\")) {\n                                // Recursively replace in JSON object\n                                const replaceInObject = (obj)=>{\n                                    if (typeof obj === \"string\") {\n                                        return obj.replace(/Allure Digital/gi, \"Rimalweb\").replace(/AllureDigital/gi, \"Rimalweb\").replace(/allure digital/gi, \"Rimalweb\").replace(/alluredigital\\.net/gi, \"rimalweb.com\");\n                                    } else if (Array.isArray(obj)) {\n                                        return obj.map(replaceInObject);\n                                    } else if (obj && typeof obj === \"object\") {\n                                        const replaced = {};\n                                        for(const key in obj){\n                                            replaced[key] = replaceInObject(obj[key]);\n                                        }\n                                        return replaced;\n                                    }\n                                    return obj;\n                                };\n                                const replaced = replaceInObject(jsonData);\n                                script.textContent = JSON.stringify(replaced);\n                            }\n                        } catch (e) {\n                            // If JSON parsing fails, do simple string replacement\n                            if (script.textContent.includes(\"Allure\") || script.textContent.includes(\"allure\")) {\n                                script.textContent = script.textContent.replace(/Allure Digital/gi, \"Rimalweb\").replace(/AllureDigital/gi, \"Rimalweb\").replace(/allure digital/gi, \"Rimalweb\").replace(/alluredigital\\.net/gi, \"rimalweb.com\");\n                            }\n                        }\n                    }\n                });\n                // Replace in all other attributes (catch-all)\n                tempDiv.querySelectorAll(\"*\").forEach((el)=>{\n                    Array.from(el.attributes).forEach((attr)=>{\n                        // Skip src, href, and other URL attributes (already handled)\n                        if ([\n                            \"src\",\n                            \"href\",\n                            \"srcset\",\n                            \"data-src\",\n                            \"data-srcset\"\n                        ].includes(attr.name)) {\n                            return;\n                        }\n                        const value = attr.value;\n                        if (value && (value.includes(\"Allure\") || value.includes(\"allure\"))) {\n                            const replaced = value.replace(/Allure Digital/gi, \"Rimalweb\").replace(/AllureDigital/gi, \"Rimalweb\").replace(/allure digital/gi, \"Rimalweb\");\n                            if (replaced !== value) {\n                                el.setAttribute(attr.name, replaced);\n                            }\n                        }\n                    });\n                });\n                return tempDiv.innerHTML;\n            };\n            // Replace contact info (phone, email, address) with dummy data\n            const replaceContactInfo = (html)=>{\n                // Dummy contact data\n                const dummyPhone = \"+1 (555) 123-4567\";\n                const dummyEmail = \"info@rimalweb.com\";\n                const dummyAddress = \"123 Business Street, Suite 100, New York, NY 10001\";\n                // Replace phone numbers (all formats) with dummy phone\n                html = html.replace(/\\(212\\)\\s*301-7615/gi, dummyPhone);\n                html = html.replace(/212-301-7615/gi, dummyPhone);\n                html = html.replace(/\\(212\\)\\s*301\\s*7615/gi, dummyPhone);\n                html = html.replace(/212\\s*301\\s*7615/gi, dummyPhone);\n                html = html.replace(/tel:[\\d\\s\\-\\(\\)]+/gi, (match)=>{\n                    // Replace tel: links with dummy phone\n                    return match.replace(/[\\d\\s\\-\\(\\)]+/g, dummyPhone.replace(/\\s/g, \"-\").replace(/[()]/g, \"\"));\n                });\n                // Replace email addresses with dummy email\n                html = html.replace(/info@alluredigital\\.net/gi, dummyEmail);\n                html = html.replace(/[a-zA-Z0-9._%+-]+@alluredigital\\.net/gi, dummyEmail);\n                html = html.replace(/mailto:([a-zA-Z0-9._%+-]+@alluredigital\\.net)/gi, \"mailto:\".concat(dummyEmail));\n                // Replace addresses with dummy address\n                html = html.replace(/5300\\s*Kings\\s*Highway\\s*Brooklyn[^<]*/gi, dummyAddress);\n                html = html.replace(/Brooklyn,\\s*NY\\s*11234/gi, \"New York, NY 10001\");\n                html = html.replace(/1000\\s*Broadway,\\s*Brooklyn,\\s*NY\\s*11211/gi, dummyAddress);\n                // Replace contact info in text content\n                const tempDiv = document.createElement(\"div\");\n                tempDiv.innerHTML = html;\n                tempDiv.querySelectorAll(\"*\").forEach((el)=>{\n                    if (el.textContent) {\n                        let text = el.textContent;\n                        const originalText = text;\n                        // Replace phone numbers\n                        text = text.replace(/\\(212\\)\\s*301-7615/gi, dummyPhone);\n                        text = text.replace(/212-301-7615/gi, dummyPhone);\n                        text = text.replace(/\\(212\\)\\s*301\\s*7615/gi, dummyPhone);\n                        text = text.replace(/212\\s*301\\s*7615/gi, dummyPhone);\n                        // Replace emails\n                        text = text.replace(/info@alluredigital\\.net/gi, dummyEmail);\n                        text = text.replace(/[a-zA-Z0-9._%+-]+@alluredigital\\.net/gi, dummyEmail);\n                        // Replace addresses\n                        text = text.replace(/5300\\s*Kings\\s*Highway/gi, \"123 Business Street, Suite 100\");\n                        text = text.replace(/Brooklyn,\\s*NY\\s*11234/gi, \"New York, NY 10001\");\n                        text = text.replace(/1000\\s*Broadway,\\s*Brooklyn,\\s*NY\\s*11211/gi, dummyAddress);\n                        if (text !== originalText && el.childNodes.length === 1 && el.childNodes[0].nodeType === 3) {\n                            el.textContent = text.trim();\n                        } else if (text !== originalText) {\n                            // For elements with children, replace in direct text nodes\n                            const directTextNodes = Array.from(el.childNodes).filter((node)=>node.nodeType === Node.TEXT_NODE);\n                            directTextNodes.forEach((textNode)=>{\n                                if (textNode.textContent) {\n                                    let nodeText = textNode.textContent;\n                                    const originalNodeText = nodeText;\n                                    nodeText = nodeText.replace(/\\(212\\)\\s*301-7615/gi, dummyPhone);\n                                    nodeText = nodeText.replace(/212-301-7615/gi, dummyPhone);\n                                    nodeText = nodeText.replace(/info@alluredigital\\.net/gi, dummyEmail);\n                                    nodeText = nodeText.replace(/5300\\s*Kings\\s*Highway/gi, \"123 Business Street, Suite 100\");\n                                    nodeText = nodeText.replace(/Brooklyn,\\s*NY\\s*11234/gi, \"New York, NY 10001\");\n                                    if (nodeText !== originalNodeText) {\n                                        textNode.textContent = nodeText;\n                                    }\n                                }\n                            });\n                        }\n                    }\n                });\n                // Also replace in href attributes (tel: and mailto: links) and remove Google Maps links\n                tempDiv.querySelectorAll(\"a[href]\").forEach((a)=>{\n                    const href = a.getAttribute(\"href\") || \"\";\n                    // Remove Google Maps links\n                    if (href && (href.includes(\"maps.google.com\") || href.includes(\"maps.googleapis.com\") || href.includes(\"google.com/maps\") || href.includes(\"goo.gl/maps\") || href.includes(\"maps.app.goo.gl\") || href.toLowerCase().includes(\"find us on google map\") || href.toLowerCase().includes(\"find us on map\") || href.toLowerCase().includes(\"our location\") || href.toLowerCase().includes(\"get directions\") || href.includes(\"q=\") && (href.includes(\"Brooklyn\") || href.includes(\"5300\") || href.includes(\"Kings Highway\")))) {\n                        a.removeAttribute(\"href\");\n                        const htmlEl = a;\n                        htmlEl.style.pointerEvents = \"none\";\n                        htmlEl.style.cursor = \"default\";\n                        htmlEl.style.textDecoration = \"none\";\n                        return;\n                    }\n                    if (href.startsWith(\"tel:\")) {\n                        a.setAttribute(\"href\", \"tel:\".concat(dummyPhone.replace(/\\s/g, \"\").replace(/[()]/g, \"\").replace(/-/g, \"\")));\n                    } else if (href.startsWith(\"mailto:\") && href.includes(\"alluredigital.net\")) {\n                        a.setAttribute(\"href\", \"mailto:\".concat(dummyEmail));\n                    }\n                });\n                return tempDiv.innerHTML;\n            };\n            // Set body content - fix asset URLs first, then replace branding, then remove contact info\n            // First, fix all asset URLs in the body HTML string (BEFORE any text replacement)\n            let bodyHtml = body.innerHTML;\n            // Fix URLs in data-settings attributes (JSON strings) - CRITICAL: Must be done first\n            bodyHtml = bodyHtml.replace(/data-settings=\"([^\"]*)\"/gi, (match, jsonStr)=>{\n                try {\n                    // Decode HTML entities properly\n                    const decoded = jsonStr.replace(/&amp;/g, \"&\") // Must decode &amp; first\n                    .replace(/&quot;/g, '\"').replace(/&lt;/g, \"<\").replace(/&gt;/g, \">\").replace(/&#39;/g, \"'\").replace(/&#x27;/g, \"'\");\n                    // Try to parse JSON to validate structure\n                    let parsed = null;\n                    try {\n                        parsed = JSON.parse(decoded);\n                    } catch (parseError) {\n                        // If JSON is invalid, just fix URLs in the raw string without parsing\n                        let fixed = jsonStr.replace(/https?:\\/\\/([^\"\\/]+\\.)?(alluredigital|rimalweb)\\.net([^\"]*)/gi, (urlMatch, subdomain, domain, path)=>{\n                            const urlToFix = domain === \"rimalweb\" ? urlMatch.replace(/rimalweb\\.net/gi, \"alluredigital.net\") : urlMatch;\n                            const fixedUrl = fixAssetUrl(urlToFix);\n                            // Escape the fixed URL properly for JSON\n                            return fixedUrl.replace(/\\\\/g, \"\\\\\\\\\").replace(/\"/g, '\\\\\"');\n                        });\n                        return 'data-settings=\"'.concat(fixed, '\"');\n                    }\n                    // If JSON is valid, recursively fix URLs in all string values\n                    const fixUrlsInObject = (obj)=>{\n                        if (typeof obj === \"string\") {\n                            // Fix URLs in string values\n                            return obj.replace(/https?:\\/\\/([^\"\\/]+\\.)?(alluredigital|rimalweb)\\.net([^\"]*)/gi, (urlMatch, subdomain, domain, path)=>{\n                                const urlToFix = domain === \"rimalweb\" ? urlMatch.replace(/rimalweb\\.net/gi, \"alluredigital.net\") : urlMatch;\n                                return fixAssetUrl(urlToFix);\n                            });\n                        } else if (Array.isArray(obj)) {\n                            return obj.map(fixUrlsInObject);\n                        } else if (obj && typeof obj === \"object\") {\n                            const fixed = {};\n                            for(const key in obj){\n                                fixed[key] = fixUrlsInObject(obj[key]);\n                            }\n                            return fixed;\n                        }\n                        return obj;\n                    };\n                    // Replace home page hero slideshow with About Us banner image\n                    if (parsed.background_background === \"slideshow\" && parsed.background_slideshow_gallery && Array.isArray(parsed.background_slideshow_gallery)) {\n                        // Replace slideshow gallery with single about-banner image\n                        parsed.background_slideshow_gallery = [\n                            {\n                                id: 393,\n                                url: \"https://alluredigital.net/wp-content/uploads/2022/12/about-banner.png\"\n                            }\n                        ];\n                        // Change to classic background instead of slideshow\n                        parsed.background_background = \"classic\";\n                        parsed.background_image = {\n                            url: \"https://alluredigital.net/wp-content/uploads/2022/12/about-banner.png\"\n                        };\n                    }\n                    // Also fix classic background images\n                    if (parsed.background_background === \"classic\" && parsed.background_image && parsed.background_image.url) {\n                        parsed.background_image.url = fixUrlsInObject(parsed.background_image.url);\n                    }\n                    const fixedObj = fixUrlsInObject(parsed);\n                    const fixedJson = JSON.stringify(fixedObj);\n                    // Re-encode for HTML attribute (properly escape)\n                    const reEncoded = fixedJson.replace(/&/g, \"&amp;\") // Must encode & first\n                    .replace(/\"/g, \"&quot;\").replace(/'/g, \"&#39;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\");\n                    return 'data-settings=\"'.concat(reEncoded, '\"');\n                } catch (e) {\n                    // If anything fails, return original to prevent breaking the page\n                    console.warn(\"Failed to process data-settings attribute:\", e);\n                    return match;\n                }\n            });\n            // Fix URLs in src attributes (preserve exact URL format)\n            bodyHtml = bodyHtml.replace(/src=\"([^\"]*alluredigital\\.net[^\"]*)\"/gi, (match, url)=>{\n                const fixed = fixAssetUrl(url);\n                return 'src=\"'.concat(fixed, '\"');\n            });\n            // Fix URLs in srcset attributes\n            bodyHtml = bodyHtml.replace(/srcset=\"([^\"]*)\"/gi, (match, srcset)=>{\n                const fixedSrcset = srcset.split(\",\").map((src)=>{\n                    const parts = src.trim().split(/\\s+/);\n                    if (parts[0] && (parts[0].includes(\"alluredigital.net\") || parts[0].includes(\"rimalweb.net\"))) {\n                        // If already has rimalweb.net, convert back to alluredigital.net for filename\n                        const urlToFix = parts[0].includes(\"rimalweb.net\") ? parts[0].replace(/rimalweb\\.net/gi, \"alluredigital.net\") : parts[0];\n                        return fixAssetUrl(urlToFix) + (parts[1] ? \" \" + parts[1] : \"\");\n                    }\n                    return src.trim();\n                }).join(\", \");\n                return 'srcset=\"'.concat(fixedSrcset, '\"');\n            });\n            // Fix URLs in style background images (including inline styles in HTML)\n            bodyHtml = bodyHtml.replace(/url\\(['\"]?([^'\")]*(?:alluredigital|rimalweb)\\.net[^'\")]*)['\"]?\\)/gi, (match, url)=>{\n                // Convert rimalweb.net back to alluredigital.net for filename lookup\n                const urlToFix = url.includes(\"rimalweb.net\") ? url.replace(/rimalweb\\.net/gi, \"alluredigital.net\") : url;\n                const fixed = fixAssetUrl(urlToFix);\n                return \"url('\".concat(fixed, \"')\");\n            });\n            // Also fix background-image in style attributes directly\n            bodyHtml = bodyHtml.replace(/background-image:\\s*url\\(['\"]?([^'\")]*(?:alluredigital|rimalweb)\\.net[^'\")]*)['\"]?\\)/gi, (match, url)=>{\n                const urlToFix = url.includes(\"rimalweb.net\") ? url.replace(/rimalweb\\.net/gi, \"alluredigital.net\") : url;\n                const fixed = fixAssetUrl(urlToFix);\n                return \"background-image: url('\".concat(fixed, \"')\");\n            });\n            // Also fix any rimalweb.net URLs that might have been replaced in HTML\n            bodyHtml = bodyHtml.replace(/src=\"([^\"]*rimalweb\\.net[^\"]*)\"/gi, (match, url)=>{\n                // Convert back to alluredigital.net for filename\n                const urlToFix = url.replace(/rimalweb\\.net/gi, \"alluredigital.net\");\n                const fixed = fixAssetUrl(urlToFix);\n                return 'src=\"'.concat(fixed, '\"');\n            });\n            // Now replace branding (this won't affect already-fixed URLs)\n            let cleanedHtml = replaceBranding(bodyHtml);\n            cleanedHtml = replaceContactInfo(cleanedHtml);\n            // Modify homepage headings to avoid copyright (similar but different wording)\n            const modifyHomepageHeadings = (html)=>{\n                const tempDiv = document.createElement(\"div\");\n                tempDiv.innerHTML = html;\n                // Heading replacements (similar meaning, different wording)\n                const headingReplacements = {\n                    \"Let Us Help You\": \"We're Here to Assist You\",\n                    \"Get a Tailored Approach with our Digital Marketing Agency in Brooklyn\": \"Experience Customized Solutions with our Digital Marketing Agency in New York\",\n                    \"Get a Tailored Approach with our Digital Marketing Agency in Brooklyn NY\": \"Experience Customized Solutions with our Digital Marketing Agency in New York\",\n                    \"Providing Innovative Digital Solutions for Clients since 2010\": \"Delivering Cutting-Edge Digital Solutions for Businesses since 2015\",\n                    \"A Glimpse into the Brands That Became Successful with Us\": \"Discover the Companies That Achieved Success with Us\",\n                    \"Our Working Philosophy\": \"Our Approach to Success\",\n                    \"SEO - Turn Your Web Traffic Into Profits with SEO\": \"SEO - Transform Your Website Visitors Into Revenue with SEO\",\n                    \"Unleash Your Business's Digital Potential with Our Services\": \"Unlock Your Company's Digital Growth with Our Services\",\n                    \"WE SPECIALIZE IN\": \"OUR EXPERTISE INCLUDES\",\n                    \"How Our Digital Marketing Creates a Strong Impact\": \"How Our Digital Marketing Drives Powerful Results\",\n                    \"Think Big\\nPlan Smart\\nExecute Flawlessly\": \"Dream Big\\nStrategize Wisely\\nDeliver Excellence\"\n                };\n                // Replace in all heading elements\n                tempDiv.querySelectorAll(\"h1, h2, h3, h4, h5, h6, .elementor-heading-title, .ha-gradient-heading, .ep-heading\").forEach((heading)=>{\n                    if (heading.textContent) {\n                        let text = heading.textContent.trim();\n                        const originalText = text;\n                        // Check for exact matches first\n                        if (headingReplacements[text]) {\n                            heading.textContent = headingReplacements[text];\n                            return;\n                        }\n                        // Check for partial matches and replace\n                        for (const [original, replacement] of Object.entries(headingReplacements)){\n                            if (text.includes(original)) {\n                                text = text.replace(original, replacement);\n                                if (text !== originalText) {\n                                    heading.textContent = text;\n                                    return;\n                                }\n                            }\n                        }\n                    }\n                });\n                // Also replace in data attributes that might contain heading text (like animated headlines)\n                tempDiv.querySelectorAll(\"[data-settings]\").forEach((el)=>{\n                    const settings = el.getAttribute(\"data-settings\");\n                    if (settings && settings.includes(\"rotating_text\")) {\n                        try {\n                            const decoded = settings.replace(/&amp;/g, \"&\").replace(/&quot;/g, '\"').replace(/&lt;/g, \"<\").replace(/&gt;/g, \">\").replace(/&#39;/g, \"'\");\n                            const parsed = JSON.parse(decoded);\n                            if (parsed.rotating_text) {\n                                let rotatingText = parsed.rotating_text;\n                                if (rotatingText.includes(\"Think Big\")) {\n                                    rotatingText = rotatingText.replace(/Think Big[\\s\\n]*Plan Smart[\\s\\n]*Execute Flawlessly/gi, \"Dream Big\\nStrategize Wisely\\nDeliver Excellence\");\n                                    parsed.rotating_text = rotatingText;\n                                    const fixedJson = JSON.stringify(parsed);\n                                    const reEncoded = fixedJson.replace(/&/g, \"&amp;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&#39;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\");\n                                    el.setAttribute(\"data-settings\", reEncoded);\n                                }\n                            }\n                        } catch (e) {\n                        // Silently continue if JSON parsing fails\n                        }\n                    }\n                });\n                return tempDiv.innerHTML;\n            };\n            // Check if this is the homepage (by checking URL or specific homepage content)\n            const isHomepage =  true && (window.location.pathname === \"/\" || window.location.pathname === \"\" || bodyHtml.includes(\"Get a Tailored Approach\") || bodyHtml.includes(\"Welcome to\") && bodyHtml.includes(\"Breaking Through\"));\n            // Only modify headings on homepage\n            if (isHomepage) {\n                cleanedHtml = modifyHomepageHeadings(cleanedHtml);\n            }\n            containerRef.current.innerHTML = cleanedHtml;\n            // Remove elementor-invisible class from footer elements so they show immediately\n            if (containerRef.current) {\n                const footer = containerRef.current.querySelector(\"footer\");\n                if (footer) {\n                    // Remove invisible class from all footer elements\n                    footer.querySelectorAll(\".elementor-invisible\").forEach((el)=>{\n                        el.classList.remove(\"elementor-invisible\");\n                        // Also ensure visibility\n                        const htmlEl = el;\n                        if (htmlEl.style) {\n                            htmlEl.style.visibility = \"visible\";\n                            htmlEl.style.opacity = \"1\";\n                        }\n                    });\n                    // Also remove from footer sections\n                    footer.querySelectorAll('[class*=\"elementor-invisible\"]').forEach((el)=>{\n                        el.classList.remove(\"elementor-invisible\");\n                        const htmlEl = el;\n                        if (htmlEl.style) {\n                            htmlEl.style.visibility = \"visible\";\n                            htmlEl.style.opacity = \"1\";\n                        }\n                    });\n                }\n            }\n            // Handle missing images - add placeholders for all missing images\n            if (containerRef.current) {\n                // Helper function to create a nice placeholder SVG\n                const createPlaceholderSvg = (width, height)=>{\n                    const w = typeof width === \"string\" ? parseInt(width) || 400 : width || 400;\n                    const h = typeof height === \"string\" ? parseInt(height) || 300 : height || 300;\n                    return 'data:image/svg+xml,%3Csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"'.concat(w, '\" height=\"').concat(h, '\"%3E%3Crect width=\"100%25\" height=\"100%25\" fill=\"%23f5f5f5\"/%3E%3Crect x=\"0\" y=\"0\" width=\"100%25\" height=\"100%25\" fill=\"url(%23gradient)\"/%3E%3Cdefs%3E%3ClinearGradient id=\"gradient\" x1=\"0%25\" y1=\"0%25\" x2=\"100%25\" y2=\"100%25\"%3E%3Cstop offset=\"0%25\" style=\"stop-color:%23f0f0f0;stop-opacity:1\" /%3E%3Cstop offset=\"100%25\" style=\"stop-color:%23e0e0e0;stop-opacity:1\" /%3E%3C/linearGradient%3E%3C/defs%3E%3Ctext x=\"50%25\" y=\"50%25\" text-anchor=\"middle\" dy=\".3em\" font-family=\"Arial, sans-serif\" font-size=\"16\" fill=\"%23999\"%3EImage%3C/text%3E%3C/svg%3E');\n                };\n                // Handle img tags - add error handlers for missing images\n                containerRef.current.querySelectorAll(\"img[src]\").forEach((img)=>{\n                    const imgElement = img;\n                    const src = imgElement.getAttribute(\"src\") || \"\";\n                    // Skip if already a placeholder\n                    if (src.includes(\"data:image/svg+xml\")) return;\n                    // Add error handler for missing images\n                    imgElement.onerror = function() {\n                        // Only replace if it's a local asset that failed\n                        if ((src.includes(\"/assets/\") || src.includes(\"alluredigital.net\") || src.includes(\"rimalweb.net\")) && !src.includes(\"data:\")) {\n                            // Get original dimensions\n                            const width = imgElement.getAttribute(\"width\") || imgElement.offsetWidth || 400;\n                            const height = imgElement.getAttribute(\"height\") || imgElement.offsetHeight || 300;\n                            // Create placeholder SVG\n                            const placeholderSvg = createPlaceholderSvg(width, height);\n                            // Prevent infinite loop\n                            imgElement.onerror = null;\n                            imgElement.src = placeholderSvg;\n                            imgElement.style.objectFit = \"contain\";\n                            imgElement.style.backgroundColor = \"#f5f5f5\";\n                        }\n                    };\n                    // Pre-check image existence for local assets\n                    if ((src.includes(\"/assets/\") || src.includes(\"alluredigital.net\") || src.includes(\"rimalweb.net\")) && !src.includes(\"data:\")) {\n                        const testImg = new Image();\n                        testImg.onerror = function() {\n                            const width = imgElement.getAttribute(\"width\") || imgElement.offsetWidth || 400;\n                            const height = imgElement.getAttribute(\"height\") || imgElement.offsetHeight || 300;\n                            const placeholderSvg = createPlaceholderSvg(width, height);\n                            imgElement.src = placeholderSvg;\n                            imgElement.style.objectFit = \"contain\";\n                            imgElement.style.backgroundColor = \"#f5f5f5\";\n                        };\n                        testImg.src = src;\n                    }\n                });\n                // Handle background images - add fallback for missing background images\n                containerRef.current.querySelectorAll('[style*=\"background-image\"], .bdt-scroll-image').forEach((el)=>{\n                    var _element_closest_querySelector_textContent, _element_closest_querySelector, _element_closest, _element_closest_querySelector_textContent1, _element_closest_querySelector1, _element_closest1, _element_closest_querySelector_textContent2, _element_closest_querySelector2, _element_closest2;\n                    const element = el;\n                    // Check if this is the Welcome section desktop image\n                    const isWelcomeSection = ((_element_closest = element.closest(\"section, div\")) === null || _element_closest === void 0 ? void 0 : (_element_closest_querySelector = _element_closest.querySelector(\"h2, h1\")) === null || _element_closest_querySelector === void 0 ? void 0 : (_element_closest_querySelector_textContent = _element_closest_querySelector.textContent) === null || _element_closest_querySelector_textContent === void 0 ? void 0 : _element_closest_querySelector_textContent.includes(\"Welcome to\")) || ((_element_closest1 = element.closest(\"section, div\")) === null || _element_closest1 === void 0 ? void 0 : (_element_closest_querySelector1 = _element_closest1.querySelector(\"h2, h1\")) === null || _element_closest_querySelector1 === void 0 ? void 0 : (_element_closest_querySelector_textContent1 = _element_closest_querySelector1.textContent) === null || _element_closest_querySelector_textContent1 === void 0 ? void 0 : _element_closest_querySelector_textContent1.includes(\"Breaking Through\")) || ((_element_closest2 = element.closest(\"section, div\")) === null || _element_closest2 === void 0 ? void 0 : (_element_closest_querySelector2 = _element_closest2.querySelector(\"h2, h1\")) === null || _element_closest_querySelector2 === void 0 ? void 0 : (_element_closest_querySelector_textContent2 = _element_closest_querySelector2.textContent) === null || _element_closest_querySelector_textContent2 === void 0 ? void 0 : _element_closest_querySelector_textContent2.includes(\"Digital Impasse\"));\n                    // Directly replace Welcome section desktop image with MACBOOK\n                    if (isWelcomeSection && element.classList.contains(\"bdt-scroll-image\")) {\n                        const desktopImages = [\n                            \"/assets/alluredigital.net_wp-content_uploads_2023_01_MACBOOK.png\",\n                            \"/assets/alluredigital.net_wp-content_uploads_2023_01_imac.png\",\n                            \"/assets/alluredigital.net_wp-content_uploads_2023_01_IPAD-VER.png\",\n                            \"/assets/alluredigital.net_wp-content_uploads_2023_01_responsive-devices.png\"\n                        ];\n                        // Try to load MACBOOK image first\n                        let imageIndex = 0;\n                        const tryNextImage = ()=>{\n                            if (imageIndex < desktopImages.length) {\n                                const testImg = new Image();\n                                testImg.onload = function() {\n                                    element.style.backgroundImage = \"url('\".concat(desktopImages[imageIndex], \"')\");\n                                    element.style.backgroundSize = \"cover\";\n                                    element.style.backgroundPosition = \"center\";\n                                    element.style.backgroundRepeat = \"no-repeat\";\n                                };\n                                testImg.onerror = function() {\n                                    imageIndex++;\n                                    tryNextImage();\n                                };\n                                testImg.src = desktopImages[imageIndex];\n                            }\n                        };\n                        tryNextImage();\n                        return; // Skip the rest for this element\n                    }\n                    // For other background images, check if they exist\n                    const style = element.getAttribute(\"style\") || \"\";\n                    const bgMatch = style.match(/background-image:\\s*url\\(['\"]?([^'\")]+)['\"]?\\)/i);\n                    if (bgMatch && bgMatch[1]) {\n                        const bgUrl = bgMatch[1];\n                        // Preload background image to check if it exists\n                        if ((bgUrl.includes(\"/assets/\") || bgUrl.includes(\"alluredigital.net\") || bgUrl.includes(\"rimalweb.net\")) && !bgUrl.includes(\"data:\")) {\n                            const testImg = new Image();\n                            testImg.onerror = function() {\n                                // If image fails to load, set a fallback gradient background\n                                const currentStyle = element.getAttribute(\"style\") || \"\";\n                                const fallbackStyle = currentStyle.replace(/background-image:\\s*url\\([^)]+\\)/gi, \"background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #f5f5f5 100%); background-color: #f5f5f5\");\n                                element.setAttribute(\"style\", fallbackStyle);\n                            };\n                            testImg.src = bgUrl;\n                        }\n                    }\n                });\n                // Also handle data-settings background slideshow images - FORCE display\n                // First, find homepage hero section and force about-banner image\n                const homepageHeroSection = containerRef.current.querySelector('[data-settings*=\"background_slideshow_gallery\"], [data-settings*=\"about-banner\"]');\n                if (homepageHeroSection) {\n                    const heroEl = homepageHeroSection;\n                    let aboutBannerUrl = fixAssetUrl(\"https://alluredigital.net/wp-content/uploads/2022/12/about-banner.png\");\n                    // Add cache-busting parameter to force reload\n                    aboutBannerUrl += (aboutBannerUrl.includes(\"?\") ? \"&\" : \"?\") + \"v=\" + Date.now();\n                    // Force remove slideshow\n                    const slideshow = heroEl.querySelector(\".elementor-background-slideshow\");\n                    if (slideshow) {\n                        slideshow.remove();\n                    }\n                    // Force set background image - medium size (45%) with cache-busting\n                    heroEl.style.setProperty(\"background-image\", \"url('\".concat(aboutBannerUrl, \"')\"), \"important\");\n                    heroEl.style.setProperty(\"background-size\", \"45%\", \"important\");\n                    heroEl.style.setProperty(\"background-position\", \"center\", \"important\");\n                    heroEl.style.setProperty(\"background-repeat\", \"no-repeat\", \"important\");\n                    heroEl.style.setProperty(\"min-height\", \"500px\", \"important\");\n                    // Preload image with cache-busting\n                    const heroImg = new Image();\n                    heroImg.onload = function() {\n                        heroEl.style.setProperty(\"background-image\", \"url('\".concat(aboutBannerUrl, \"')\"), \"important\");\n                        heroEl.style.setProperty(\"background-size\", \"45%\", \"important\");\n                    };\n                    heroImg.src = aboutBannerUrl;\n                }\n                containerRef.current.querySelectorAll(\"[data-settings]\").forEach((el)=>{\n                    const settings = el.getAttribute(\"data-settings\");\n                    if (settings && (settings.includes(\"background_slideshow_gallery\") || settings.includes(\"background_image\"))) {\n                        try {\n                            // Decode HTML entities properly\n                            const decoded = settings.replace(/&amp;/g, \"&\") // Must decode &amp; first\n                            .replace(/&quot;/g, '\"').replace(/&lt;/g, \"<\").replace(/&gt;/g, \">\").replace(/&#39;/g, \"'\");\n                            const parsed = JSON.parse(decoded);\n                            // Handle hero section background images - ensure they display properly\n                            const element = el;\n                            // Handle classic background images\n                            if (parsed.background_background === \"classic\" && parsed.background_image && parsed.background_image.url) {\n                                const bgUrl = fixAssetUrl(parsed.background_image.url);\n                                // Force background image to display immediately\n                                element.style.backgroundImage = \"url('\".concat(bgUrl, \"')\");\n                                element.style.backgroundSize = \"cover\";\n                                element.style.backgroundPosition = \"center\";\n                                element.style.backgroundRepeat = \"no-repeat\";\n                                element.style.minHeight = \"500px\" // Ensure section has height\n                                ;\n                                // Preload and verify image loads\n                                const testImg = new Image();\n                                testImg.onload = function() {\n                                    element.style.backgroundImage = \"url('\".concat(bgUrl, \"')\");\n                                    element.style.opacity = \"1\";\n                                };\n                                testImg.onerror = function() {\n                                    console.warn(\"Background image failed to load:\", bgUrl);\n                                    // Try alternative image paths\n                                    const altUrl = bgUrl.replace(/-\\d+x\\d+/, \"\") // Remove size suffix\n                                    ;\n                                    if (altUrl !== bgUrl) {\n                                        element.style.backgroundImage = \"url('\".concat(altUrl, \"')\");\n                                    }\n                                };\n                                testImg.src = bgUrl;\n                            }\n                            // Check if this is homepage hero section (has slideshow or about-banner)\n                            const isHomepageHero = parsed.background_background === \"slideshow\" && parsed.background_slideshow_gallery || parsed.background_background === \"classic\" && parsed.background_image && parsed.background_image.url && parsed.background_image.url.includes(\"about-banner\");\n                            // If this is the home page hero section, replace with about-banner\n                            if (isHomepageHero) {\n                                let aboutBannerUrl = fixAssetUrl(\"https://alluredigital.net/wp-content/uploads/2022/12/about-banner.png\");\n                                // Add cache-busting parameter to force reload\n                                aboutBannerUrl += (aboutBannerUrl.includes(\"?\") ? \"&\" : \"?\") + \"v=\" + Date.now();\n                                // Remove slideshow elements if they exist\n                                const slideshow = element.querySelector(\".elementor-background-slideshow\");\n                                if (slideshow) {\n                                    slideshow.remove();\n                                }\n                                // Force set static background image - medium size (45% size) with cache-busting\n                                element.style.setProperty(\"background-image\", \"url('\".concat(aboutBannerUrl, \"')\"), \"important\");\n                                element.style.setProperty(\"background-size\", \"45%\", \"important\");\n                                element.style.setProperty(\"background-position\", \"right center\", \"important\");\n                                element.style.setProperty(\"background-repeat\", \"no-repeat\", \"important\");\n                                element.style.setProperty(\"min-height\", \"500px\", \"important\");\n                                element.style.setProperty(\"opacity\", \"1\", \"important\");\n                                // Also set on the section element directly\n                                const section = element.closest(\".elementor-section\");\n                                if (section) {\n                                    const sectionEl = section;\n                                    sectionEl.style.setProperty(\"background-image\", \"url('\".concat(aboutBannerUrl, \"')\"), \"important\");\n                                    sectionEl.style.setProperty(\"background-size\", \"45%\", \"important\");\n                                    sectionEl.style.setProperty(\"background-position\", \"right center\", \"important\");\n                                    sectionEl.style.setProperty(\"background-repeat\", \"no-repeat\", \"important\");\n                                }\n                                // Preload image and verify with cache-busting\n                                const testImg = new Image();\n                                testImg.onload = function() {\n                                    element.style.setProperty(\"background-image\", \"url('\".concat(aboutBannerUrl, \"')\"), \"important\");\n                                    element.style.setProperty(\"background-size\", \"45%\", \"important\");\n                                    element.style.setProperty(\"opacity\", \"1\", \"important\");\n                                    if (section) {\n                                        const sectionEl = section;\n                                        sectionEl.style.setProperty(\"background-image\", \"url('\".concat(aboutBannerUrl, \"')\"), \"important\");\n                                        sectionEl.style.setProperty(\"background-size\", \"45%\", \"important\");\n                                    }\n                                };\n                                testImg.onerror = function() {\n                                    console.warn(\"About banner image failed to load:\", aboutBannerUrl);\n                                    // Try alternative path without size suffix\n                                    const altUrl = aboutBannerUrl.replace(/-\\d+x\\d+/, \"\");\n                                    if (altUrl !== aboutBannerUrl) {\n                                        element.style.setProperty(\"background-image\", \"url('\".concat(altUrl, \"')\"), \"important\");\n                                        testImg.src = altUrl;\n                                    }\n                                };\n                                testImg.src = aboutBannerUrl;\n                            } else if (parsed.background_background === \"slideshow\" && parsed.background_slideshow_gallery && Array.isArray(parsed.background_slideshow_gallery) && parsed.background_slideshow_gallery.length > 0) {\n                                // Handle slideshow background images - ensure first image shows immediately\n                                const firstImage = parsed.background_slideshow_gallery[0];\n                                if (firstImage && firstImage.url) {\n                                    const firstImageUrl = fixAssetUrl(firstImage.url);\n                                    // Force first image as background immediately (before slideshow starts)\n                                    element.style.backgroundImage = \"url('\".concat(firstImageUrl, \"')\");\n                                    element.style.backgroundSize = \"cover\";\n                                    element.style.backgroundPosition = \"center\";\n                                    element.style.backgroundRepeat = \"no-repeat\";\n                                    element.style.minHeight = \"500px\" // Ensure section has height\n                                    ;\n                                    // Verify first image loads\n                                    const firstImg = new Image();\n                                    firstImg.onload = function() {\n                                        element.style.backgroundImage = \"url('\".concat(firstImageUrl, \"')\");\n                                        element.style.opacity = \"1\";\n                                    };\n                                    firstImg.onerror = function() {\n                                        console.warn(\"First slideshow image failed:\", firstImageUrl);\n                                        // Try without size suffix\n                                        const altUrl = firstImageUrl.replace(/-\\d+x\\d+/, \"\");\n                                        if (altUrl !== firstImageUrl) {\n                                            element.style.backgroundImage = \"url('\".concat(altUrl, \"')\");\n                                            firstImg.src = altUrl;\n                                        }\n                                    };\n                                    firstImg.src = firstImageUrl;\n                                    // Preload all slideshow images\n                                    parsed.background_slideshow_gallery.forEach((item, index)=>{\n                                        if (item && item.url) {\n                                            const imageUrl = fixAssetUrl(item.url);\n                                            const testImg = new Image();\n                                            testImg.onload = function() {\n                                                // Image loaded successfully - update background if this is current slide\n                                                if (index === 0) {\n                                                    element.style.backgroundImage = \"url('\".concat(imageUrl, \"')\");\n                                                }\n                                            };\n                                            testImg.onerror = function() {\n                                                console.warn(\"Slideshow image failed to load:\", imageUrl);\n                                                // Try alternative path\n                                                const altUrl = imageUrl.replace(/-\\d+x\\d+/, \"\");\n                                                if (altUrl !== imageUrl) {\n                                                    testImg.src = altUrl;\n                                                }\n                                            };\n                                            testImg.src = imageUrl;\n                                        }\n                                    });\n                                }\n                            }\n                        } catch (e) {\n                            console.warn(\"Failed to parse data-settings for background:\", e);\n                        }\n                    }\n                });\n                // Fix slideshow slide images directly (they have inline styles)\n                containerRef.current.querySelectorAll(\".elementor-background-slideshow__slide__image, .swiper-slide\").forEach((slide)=>{\n                    const slideEl = slide;\n                    const bgImage = slideEl.style.backgroundImage || slideEl.getAttribute(\"style\");\n                    if (bgImage && bgImage.includes(\"alluredigital.net\")) {\n                        // Extract URL from style\n                        const urlMatch = bgImage.match(/url\\(['\"]?([^'\")]+)['\"]?\\)/);\n                        if (urlMatch && urlMatch[1]) {\n                            const fixedUrl = fixAssetUrl(urlMatch[1]);\n                            slideEl.style.backgroundImage = \"url('\".concat(fixedUrl, \"')\");\n                            slideEl.style.backgroundSize = \"cover\";\n                            slideEl.style.backgroundPosition = \"center\";\n                            // Preload image\n                            const testImg = new Image();\n                            testImg.onload = function() {\n                                slideEl.style.backgroundImage = \"url('\".concat(fixedUrl, \"')\");\n                                slideEl.style.opacity = \"1\";\n                            };\n                            testImg.onerror = function() {\n                                // Try without size suffix\n                                const altUrl = fixedUrl.replace(/-\\d+x\\d+/, \"\");\n                                if (altUrl !== fixedUrl) {\n                                    slideEl.style.backgroundImage = \"url('\".concat(altUrl, \"')\");\n                                }\n                            };\n                            testImg.src = fixedUrl;\n                        }\n                    }\n                });\n                // Also check for hero section by class/id and force background images\n                containerRef.current.querySelectorAll(\".elementor-section, section\").forEach((section)=>{\n                    const sectionEl = section;\n                    const computedStyle = window.getComputedStyle(sectionEl);\n                    const bgImage = computedStyle.backgroundImage;\n                    // If section has a background image URL that needs fixing\n                    if (bgImage && bgImage !== \"none\" && bgImage.includes(\"alluredigital.net\")) {\n                        const urlMatch = bgImage.match(/url\\(['\"]?([^'\")]+)['\"]?\\)/);\n                        if (urlMatch && urlMatch[1]) {\n                            const fixedUrl = fixAssetUrl(urlMatch[1]);\n                            sectionEl.style.backgroundImage = \"url('\".concat(fixedUrl, \"')\");\n                            sectionEl.style.backgroundSize = \"cover\";\n                            sectionEl.style.backgroundPosition = \"center\";\n                        }\n                    }\n                });\n            }\n            // Now load scripts AFTER body is set (preserve order)\n            const allScripts = doc.querySelectorAll(\"script\");\n            const scriptPromises = [];\n            allScripts.forEach((script)=>{\n                if (script.src) {\n                    const src = script.getAttribute(\"src\") || \"\";\n                    const scriptId = src;\n                    // Skip external APIs - only load local assets\n                    if (src.includes(\"maps.googleapis.com\") || src.includes(\"googleapis.com\") || src.includes(\"gstatic.com\") || src.includes(\"googletagmanager.com\") || src.includes(\"google-analytics.com\") || src.includes(\"facebook.net\") || src.includes(\"clarity.ms\") || src.includes(\"cleantalk.org\") || src.includes(\"pearldiver.io\") || src.includes(\"usbrowserspeed.com\") || src.includes(\"recaptcha\")) {\n                        // Skip external APIs\n                        return;\n                    }\n                    if (!scriptsLoadedRef.current.has(scriptId)) {\n                        const newScript = document.createElement(\"script\");\n                        // Only load local assets\n                        if (src.includes(\"alluredigital.net\") || src.startsWith(\"http\")) {\n                            const filename = getAssetFilename(src);\n                            if (filename) {\n                                newScript.src = \"/assets/\".concat(filename);\n                            } else {\n                                // Skip if can't find local asset\n                                return;\n                            }\n                        } else {\n                            newScript.src = src;\n                        }\n                        // Copy ALL attributes\n                        Array.from(script.attributes).forEach((attr)=>{\n                            if (attr.name !== \"src\") {\n                                newScript.setAttribute(attr.name, attr.value);\n                            }\n                        });\n                        // Handle async/defer\n                        if (script.hasAttribute(\"async\")) newScript.async = true;\n                        if (script.hasAttribute(\"defer\")) newScript.defer = true;\n                        const loadPromise = new Promise((resolve)=>{\n                            newScript.onload = ()=>resolve();\n                            newScript.onerror = ()=>resolve() // Continue even if script fails\n                            ;\n                            document.head.appendChild(newScript);\n                        });\n                        scriptPromises.push(loadPromise);\n                        scriptsLoadedRef.current.add(scriptId);\n                    }\n                } else if (script.textContent) {\n                    // Skip inline scripts that reference external APIs\n                    const scriptText = script.textContent;\n                    if (scriptText.includes(\"gtag\") || scriptText.includes(\"fbq\") || scriptText.includes(\"clarity\") || scriptText.includes(\"dataLayer\") || scriptText.includes(\"google\") || scriptText.includes(\"maps\") || scriptText.includes(\"recaptcha\")) {\n                        // Skip analytics/tracking scripts\n                        return;\n                    }\n                    // Inline scripts - execute after DOM is ready\n                    const scriptId = scriptText.substring(0, 50);\n                    if (!scriptsLoadedRef.current.has(scriptId)) {\n                        const newScript = document.createElement(\"script\");\n                        newScript.textContent = scriptText;\n                        // Copy attributes\n                        Array.from(script.attributes).forEach((attr)=>{\n                            newScript.setAttribute(attr.name, attr.value);\n                        });\n                        document.head.appendChild(newScript);\n                        scriptsLoadedRef.current.add(scriptId);\n                    }\n                }\n            });\n            // Wait for CSS to load first (critical), then scripts, then show content\n            // CSS must be fully loaded before showing content to prevent broken layout\n            if (stylePromises.length > 0) {\n                // Wait for ALL CSS to load first\n                Promise.all(stylePromises).then(()=>{\n                    // Force a reflow to ensure CSS is applied\n                    if (containerRef.current) {\n                        containerRef.current.offsetHeight // Trigger reflow\n                        ;\n                    }\n                    // Wait for CSS to be fully applied to DOM\n                    requestAnimationFrame(()=>{\n                        requestAnimationFrame(()=>{\n                            // Now load scripts in background (non-blocking)\n                            if (scriptPromises.length > 0) {\n                                Promise.all(scriptPromises).then(()=>{\n                                    // Trigger DOMContentLoaded for scripts that depend on it\n                                    if (document.readyState === \"loading\") {\n                                        document.dispatchEvent(new Event(\"DOMContentLoaded\"));\n                                    }\n                                    // Trigger jQuery ready if jQuery is loaded\n                                    if ( true && window.jQuery) {\n                                        window.jQuery(document).ready(()=>{\n                                        // Elementor and other scripts will initialize\n                                        });\n                                    }\n                                }).catch(()=>{\n                                // Scripts failed but continue\n                                });\n                            }\n                            // Show content after CSS is loaded and applied\n                            setTimeout(()=>{\n                                setIsLoading(false);\n                            }, 150);\n                        });\n                    });\n                }).catch(()=>{\n                    // Even if CSS fails, wait a bit then show content\n                    setTimeout(()=>{\n                        setIsLoading(false);\n                    }, 300);\n                });\n            } else if (scriptPromises.length > 0) {\n                // No CSS but has scripts\n                Promise.all(scriptPromises).then(()=>{\n                    setTimeout(()=>{\n                        setIsLoading(false);\n                    }, 100);\n                }).catch(()=>{\n                    setTimeout(()=>{\n                        setIsLoading(false);\n                    }, 200);\n                });\n            } else {\n                // No assets to load, wait a bit for initial render\n                setTimeout(()=>{\n                    setIsLoading(false);\n                }, 200);\n            }\n        }\n    }, [\n        html\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            isLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: \"fixed\",\n                    top: 0,\n                    left: 0,\n                    width: \"100%\",\n                    height: \"100%\",\n                    background: \"linear-gradient(135deg, #667eea 0%, #764ba2 100%)\",\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                    zIndex: 9999,\n                    fontFamily: \"system-ui, -apple-system, sans-serif\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            width: \"80px\",\n                            height: \"80px\",\n                            border: \"5px solid rgba(255, 255, 255, 0.3)\",\n                            borderTop: \"5px solid #ffffff\",\n                            borderRadius: \"50%\",\n                            animation: \"spin 1s linear infinite\",\n                            marginBottom: \"30px\",\n                            boxShadow: \"0 4px 20px rgba(0, 0, 0, 0.2)\"\n                        }\n                    }, void 0, false, {\n                        fileName: \"D:\\\\usman\\\\src\\\\components\\\\PageRenderer.tsx\",\n                        lineNumber: 1665,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            color: \"#ffffff\",\n                            fontSize: \"24px\",\n                            fontWeight: 600,\n                            marginBottom: \"10px\",\n                            textShadow: \"0 2px 10px rgba(0, 0, 0, 0.2)\"\n                        },\n                        children: \"Rimalweb\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\usman\\\\src\\\\components\\\\PageRenderer.tsx\",\n                        lineNumber: 1675,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            color: \"rgba(255, 255, 255, 0.9)\",\n                            fontSize: \"16px\",\n                            fontWeight: 400\n                        },\n                        children: \"Loading...\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\usman\\\\src\\\\components\\\\PageRenderer.tsx\",\n                        lineNumber: 1684,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"style\", {\n                        children: \"\\n            @keyframes spin {\\n              0% { transform: rotate(0deg); }\\n              100% { transform: rotate(360deg); }\\n            }\\n          \"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\usman\\\\src\\\\components\\\\PageRenderer.tsx\",\n                        lineNumber: 1691,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\usman\\\\src\\\\components\\\\PageRenderer.tsx\",\n                lineNumber: 1651,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: containerRef,\n                style: {\n                    opacity: isLoading ? 0 : 1,\n                    transition: \"opacity 0.3s ease-in-out\"\n                }\n            }, void 0, false, {\n                fileName: \"D:\\\\usman\\\\src\\\\components\\\\PageRenderer.tsx\",\n                lineNumber: 1699,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true);\n}\n_s(PageRenderer, \"Zu1gDr4aybIHjZ4A+LVlLyvaK98=\");\n_c = PageRenderer;\nvar _c;\n$RefreshReg$(_c, \"PageRenderer\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL1BhZ2VSZW5kZXJlci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBRW1EO0FBTW5ELDZEQUE2RDtBQUM3RCxTQUFTRyxpQkFBaUJDLEdBQVc7SUFDbkMsSUFBSTtRQUNGLE1BQU1DLFNBQVMsSUFBSUMsSUFBSUYsS0FBSztRQUM1QixNQUFNRyxZQUFZRixPQUFPRyxRQUFRLENBQUNDLEtBQUssQ0FBQyxLQUFLQyxNQUFNLENBQUNDLENBQUFBLElBQUtBO1FBQ3pELElBQUlKLFVBQVVLLE1BQU0sS0FBSyxHQUFHLE9BQU87UUFFbkMsb0ZBQW9GO1FBQ3BGLElBQUlQLE9BQU9HLFFBQVEsQ0FBQ0ssUUFBUSxDQUFDLGdCQUFnQjtZQUMzQyxrQ0FBa0M7WUFDbEMsTUFBTUMsU0FBU1QsT0FBT1UsUUFBUSxDQUFDQyxPQUFPLENBQUMsUUFBUTtZQUMvQyxNQUFNQyxXQUFXSCxTQUFTVCxPQUFPRyxRQUFRO1lBQ3pDLHlEQUF5RDtZQUN6RCxJQUFJVSxXQUFXRCxTQUFTRCxPQUFPLENBQUMsT0FBTztZQUN2QyxpRUFBaUU7WUFDakVFLFdBQVdBLFNBQVNULEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUNqQyxPQUFPUyxZQUFZO1FBQ3JCO1FBRUEsK0JBQStCO1FBQy9CLElBQUliLE9BQU9HLFFBQVEsQ0FBQ0ssUUFBUSxDQUFDLHlCQUF5QjtZQUNwRCxNQUFNQyxTQUFTVCxPQUFPVSxRQUFRLENBQUNDLE9BQU8sQ0FBQyxRQUFRO1lBQy9DLE1BQU1DLFdBQVdILFNBQVNULE9BQU9HLFFBQVE7WUFDekMsSUFBSVUsV0FBV0QsU0FBU0QsT0FBTyxDQUFDLE9BQU87WUFDdkNFLFdBQVdBLFNBQVNULEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUNqQyxPQUFPUyxZQUFZO1FBQ3JCO1FBRUEsZ0RBQWdEO1FBQ2hELE1BQU1KLFNBQVNULE9BQU9VLFFBQVEsQ0FBQ0MsT0FBTyxDQUFDLFFBQVE7UUFD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WTs0QkFDWkosY0FBYzs0QkFDZEssWUFBWTt3QkFDZDtrQ0FBRzs7Ozs7O2tDQUdILDhEQUFDcEI7d0JBQUluSyxPQUFPOzRCQUNWb0wsT0FBTzs0QkFDUEMsVUFBVTs0QkFDVkMsWUFBWTt3QkFDZDtrQ0FBRzs7Ozs7O2tDQUdILDhEQUFDdEw7a0NBQVE7Ozs7Ozs7Ozs7OzswQkFRYiw4REFBQ21LO2dCQUNDcUIsS0FBS2pTO2dCQUNMeUcsT0FBTztvQkFDTHFHLFNBQVMxTSxZQUFZLElBQUk7b0JBQ3pCOFIsWUFBWTtnQkFDZDs7Ozs7Ozs7QUFJUjtHQTNuRHdCcFM7S0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2NvbXBvbmVudHMvUGFnZVJlbmRlcmVyLnRzeD84MGMyIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50J1xuXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcblxuaW50ZXJmYWNlIFBhZ2VSZW5kZXJlclByb3BzIHtcbiAgaHRtbDogc3RyaW5nXG59XG5cbi8vIEhlbHBlciB0byBleHRyYWN0IGZpbGVuYW1lIGZyb20gVVJMIChoYW5kbGVzIHF1ZXJ5IHBhcmFtcylcbmZ1bmN0aW9uIGdldEFzc2V0RmlsZW5hbWUodXJsOiBzdHJpbmcpOiBzdHJpbmcgfCBudWxsIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB1cmxPYmogPSBuZXcgVVJMKHVybCwgJ2h0dHBzOi8vYWxsdXJlZGlnaXRhbC5uZXQnKVxuICAgIGNvbnN0IHBhdGhQYXJ0cyA9IHVybE9iai5wYXRobmFtZS5zcGxpdCgnLycpLmZpbHRlcihwID0+IHApXG4gICAgaWYgKHBhdGhQYXJ0cy5sZW5ndGggPT09IDApIHJldHVybiBudWxsXG4gICAgXG4gICAgLy8gRm9yIGxpdGVzcGVlZCBDU1MvSlMgZmlsZXMsIGNvbnN0cnVjdCBmdWxsIHBhdGggKG1hdGNoZXMgc2NyYXBlZCBmaWxlbmFtZSBmb3JtYXQpXG4gICAgaWYgKHVybE9iai5wYXRobmFtZS5pbmNsdWRlcygnL2xpdGVzcGVlZC8nKSkge1xuICAgICAgLy8gRm9ybWF0OiBkb21haW5fcGF0aF90b19maWxlLmNzc1xuICAgICAgY29uc3QgZG9tYWluID0gdXJsT2JqLmhvc3RuYW1lLnJlcGxhY2UoJ3d3dy4nLCAnJylcbiAgICAgIGNvbnN0IGZ1bGxQYXRoID0gZG9tYWluICsgdXJsT2JqLnBhdGhuYW1lXG4gICAgICAvLyBSZXBsYWNlIHNsYXNoZXMgd2l0aCB1bmRlcnNjb3Jlcywga2VlcCBkb3RzIGFuZCBkYXNoZXNcbiAgICAgIGxldCBmaWxlbmFtZSA9IGZ1bGxQYXRoLnJlcGxhY2UoL1xcLy9nLCAnXycpXG4gICAgICAvLyBSZW1vdmUgcXVlcnkgcGFyYW1zIGZyb20gZmlsZW5hbWUgKGFscmVhZHkgaGFuZGxlZCBieSBzY3JhcGVyKVxuICAgICAgZmlsZW5hbWUgPSBmaWxlbmFtZS5zcGxpdCgnPycpWzBdXG4gICAgICByZXR1cm4gZmlsZW5hbWUgfHwgbnVsbFxuICAgIH1cbiAgICBcbiAgICAvLyBGb3Igd3AtY29udGVudC91cGxvYWRzIGZpbGVzXG4gICAgaWYgKHVybE9iai5wYXRobmFtZS5pbmNsdWRlcygnL3dwLWNvbnRlbnQvdXBsb2Fkcy8nKSkge1xuICAgICAgY29uc3QgZG9tYWluID0gdXJsT2JqLmhvc3RuYW1lLnJlcGxhY2UoJ3d3dy4nLCAnJylcbiAgICAgIGNvbnN0IGZ1bGxQYXRoID0gZG9tYWluICsgdXJsT2JqLnBhdGhuYW1lXG4gICAgICBsZXQgZmlsZW5hbWUgPSBmdWxsUGF0aC5yZXBsYWNlKC9cXC8vZywgJ18nKVxuICAgICAgZmlsZW5hbWUgPSBmaWxlbmFtZS5zcGxpdCgnPycpWzBdXG4gICAgICByZXR1cm4gZmlsZW5hbWUgfHwgbnVsbFxuICAgIH1cbiAgICBcbiAgICAvLyBGb3Igb3RoZXIgZmlsZXMsIGNvbnN0cnVjdCBkb21haW5fcGF0aCBmb3JtYXRcbiAgICBjb25zdCBkb21haW4gPSB1cmxPYmouaG9zdG5hbWUucmVwbGFjZSgnd3d3LicsICcnKVxuICAgIGNvbnN0IGZ1bGxQYXRoID0gZG9tYWluICsgdXJsT2JqLnBhdGhuYW1lXG4gICAgbGV0IGZpbGVuYW1lID0gZnVsbFBhdGgucmVwbGFjZSgvXFwvL2csICdfJylcbiAgICBmaWxlbmFtZSA9IGZpbGVuYW1lLnNwbGl0KCc/JylbMF1cbiAgICBcbiAgICByZXR1cm4gZmlsZW5hbWUgfHwgbnVsbFxuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBhZ2VSZW5kZXJlcih7IGh0bWwgfTogUGFnZVJlbmRlcmVyUHJvcHMpIHtcbiAgY29uc3QgY29udGFpbmVyUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKVxuICBjb25zdCBzY3JpcHRzTG9hZGVkUmVmID0gdXNlUmVmPFNldDxzdHJpbmc+PihuZXcgU2V0KCkpXG4gIGNvbnN0IHN0eWxlc0xvYWRlZFJlZiA9IHVzZVJlZjxTZXQ8c3RyaW5nPj4obmV3IFNldCgpKVxuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghY29udGFpbmVyUmVmLmN1cnJlbnQgfHwgIWh0bWwpIHJldHVyblxuICAgIFxuICAgIHNldElzTG9hZGluZyh0cnVlKVxuXG4gICAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpXG4gICAgY29uc3QgZG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhodG1sLCAndGV4dC9odG1sJylcblxuICAgIC8vIEV4dHJhY3QgYW5kIGluamVjdCBoZWFkIGNvbnRlbnQgRklSU1QgKGJlZm9yZSBib2R5KVxuICAgIGNvbnN0IGhlYWQgPSBkb2MucXVlcnlTZWxlY3RvcignaGVhZCcpXG4gICAgY29uc3Qgc3R5bGVQcm9taXNlczogUHJvbWlzZTx2b2lkPltdID0gW11cbiAgICBcbiAgICBpZiAoaGVhZCkge1xuICAgICAgLy8gUHJlbG9hZCBBTEwgYXNzZXRzIGZpcnN0IHNvIGJyb3dzZXIgY2FjaGVzIHRoZW0gKHdvbid0IHJlbG9hZCBvbiByZWZyZXNoKVxuICAgICAgY29uc3QgYWxsQXNzZXRzOiBBcnJheTx7IGhyZWY6IHN0cmluZzsgYXM6IHN0cmluZyB9PiA9IFtdXG4gICAgICBcbiAgICAgIC8vIENvbGxlY3QgYWxsIENTUyBmaWxlc1xuICAgICAgaGVhZC5xdWVyeVNlbGVjdG9yQWxsKCdsaW5rW3JlbD1cInN0eWxlc2hlZXRcIl0nKS5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICBjb25zdCBocmVmID0gZWwuZ2V0QXR0cmlidXRlKCdocmVmJykgfHwgJydcbiAgICAgICAgaWYgKGhyZWYuaW5jbHVkZXMoJ2FsbHVyZWRpZ2l0YWwubmV0JykgJiYgIWhyZWYuaW5jbHVkZXMoJ2ZvbnRzLmdvb2dsZWFwaXMuY29tJykpIHtcbiAgICAgICAgICBjb25zdCBmaWxlbmFtZSA9IGdldEFzc2V0RmlsZW5hbWUoaHJlZilcbiAgICAgICAgICBpZiAoZmlsZW5hbWUpIHtcbiAgICAgICAgICAgIGFsbEFzc2V0cy5wdXNoKHsgaHJlZjogYC9hc3NldHMvJHtmaWxlbmFtZX1gLCBhczogJ3N0eWxlJyB9KVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIFxuICAgICAgLy8gQ29sbGVjdCBhbGwgc2NyaXB0IGZpbGVzXG4gICAgICBoZWFkLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NjcmlwdFtzcmNdJykuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgY29uc3Qgc3JjID0gZWwuZ2V0QXR0cmlidXRlKCdzcmMnKSB8fCAnJ1xuICAgICAgICBpZiAoc3JjICYmIChzcmMuaW5jbHVkZXMoJ2FsbHVyZWRpZ2l0YWwubmV0JykgfHwgc3JjLnN0YXJ0c1dpdGgoJy9hc3NldHMvJykpKSB7XG4gICAgICAgICAgY29uc3QgZmlsZW5hbWUgPSBnZXRBc3NldEZpbGVuYW1lKHNyYylcbiAgICAgICAgICBpZiAoZmlsZW5hbWUpIHtcbiAgICAgICAgICAgIGFsbEFzc2V0cy5wdXNoKHsgaHJlZjogYC9hc3NldHMvJHtmaWxlbmFtZX1gLCBhczogJ3NjcmlwdCcgfSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICBcbiAgICAgIC8vIENvbGxlY3QgY3JpdGljYWwgaW1hZ2VzIGZyb20gYm9keVxuICAgICAgY29uc3QgYm9keSA9IGRvYy5xdWVyeVNlbGVjdG9yKCdib2R5JylcbiAgICAgIGlmIChib2R5KSB7XG4gICAgICAgIC8vIExvZ29cbiAgICAgICAgYWxsQXNzZXRzLnB1c2goeyBocmVmOiAnL3JpbWFsLnBuZycsIGFzOiAnaW1hZ2UnIH0pXG4gICAgICAgIFxuICAgICAgICAvLyBIZXJvIGFuZCBpbXBvcnRhbnQgaW1hZ2VzIChmaXJzdCAxNSlcbiAgICAgICAgbGV0IGltYWdlQ291bnQgPSAwXG4gICAgICAgIGJvZHkucXVlcnlTZWxlY3RvckFsbCgnaW1nW3NyY10nKS5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICAgIGlmIChpbWFnZUNvdW50ID49IDE1KSByZXR1cm5cbiAgICAgICAgICBjb25zdCBzcmMgPSAoZWwgYXMgSFRNTEltYWdlRWxlbWVudCkuZ2V0QXR0cmlidXRlKCdzcmMnKSB8fCAnJ1xuICAgICAgICAgIGlmIChzcmMgJiYgKHNyYy5pbmNsdWRlcygnYWxsdXJlZGlnaXRhbC5uZXQnKSB8fCBzcmMuaW5jbHVkZXMoJ3JpbWFsd2ViLm5ldCcpIHx8IHNyYy5zdGFydHNXaXRoKCcvYXNzZXRzLycpKSkge1xuICAgICAgICAgICAgY29uc3QgZml4ZWRTcmMgPSBzcmMuaW5jbHVkZXMoJy9hc3NldHMvJykgPyBzcmMgOiBgL2Fzc2V0cy8ke2dldEFzc2V0RmlsZW5hbWUoc3JjKSB8fCAnJ31gXG4gICAgICAgICAgICBpZiAoZml4ZWRTcmMgJiYgZml4ZWRTcmMgIT09ICcvYXNzZXRzLycgJiYgIWFsbEFzc2V0cy5zb21lKGEgPT4gYS5ocmVmID09PSBmaXhlZFNyYykpIHtcbiAgICAgICAgICAgICAgYWxsQXNzZXRzLnB1c2goeyBocmVmOiBmaXhlZFNyYywgYXM6ICdpbWFnZScgfSlcbiAgICAgICAgICAgICAgaW1hZ2VDb3VudCsrXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBBZGQgcHJlbG9hZCBsaW5rcyBmb3IgQUxMIGFzc2V0cyAoYnJvd3NlciB3aWxsIGNhY2hlIHRoZW0pXG4gICAgICBhbGxBc3NldHMuZm9yRWFjaCgoYXNzZXQpID0+IHtcbiAgICAgICAgaWYgKGFzc2V0LmhyZWYgJiYgIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYGxpbmtbcmVsPVwicHJlbG9hZFwiXVtocmVmPVwiJHthc3NldC5ocmVmfVwiXWApKSB7XG4gICAgICAgICAgY29uc3QgcHJlbG9hZExpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJylcbiAgICAgICAgICBwcmVsb2FkTGluay5yZWwgPSAncHJlbG9hZCdcbiAgICAgICAgICBwcmVsb2FkTGluay5hcyA9IGFzc2V0LmFzXG4gICAgICAgICAgcHJlbG9hZExpbmsuaHJlZiA9IGFzc2V0LmhyZWZcbiAgICAgICAgICAvLyBBZGQgY3Jvc3NvcmlnaW4gZm9yIGZvbnRzIGlmIG5lZWRlZFxuICAgICAgICAgIGlmIChhc3NldC5hcyA9PT0gJ2ZvbnQnKSB7XG4gICAgICAgICAgICBwcmVsb2FkTGluay5jcm9zc09yaWdpbiA9ICdhbm9ueW1vdXMnXG4gICAgICAgICAgfVxuICAgICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQocHJlbG9hZExpbmspXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICBcbiAgICAgIC8vIEluamVjdCBBTEwgc3R5bGVzaGVldHMgKHByZXNlcnZlIG9yZGVyIGZvciBhbmltYXRpb25zKVxuICAgICAgaGVhZC5xdWVyeVNlbGVjdG9yQWxsKCdsaW5rW3JlbD1cInN0eWxlc2hlZXRcIl0sIHN0eWxlJykuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgaWYgKGVsLnRhZ05hbWUgPT09ICdMSU5LJykge1xuICAgICAgICAgIGNvbnN0IGhyZWYgPSBlbC5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSB8fCAnJ1xuICAgICAgICAgIGNvbnN0IHN0eWxlSWQgPSBocmVmXG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKCFzdHlsZXNMb2FkZWRSZWYuY3VycmVudC5oYXMoc3R5bGVJZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGNsb25lID0gZWwuY2xvbmVOb2RlKHRydWUpIGFzIEhUTUxMaW5rRWxlbWVudFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBPbmx5IGxvYWQgbG9jYWwgQ1NTIC0gc2tpcCBleHRlcm5hbCBmb250c1xuICAgICAgICAgICAgaWYgKGhyZWYuaW5jbHVkZXMoJ2ZvbnRzLmdvb2dsZWFwaXMuY29tJykgfHwgXG4gICAgICAgICAgICAgICAgaHJlZi5pbmNsdWRlcygnZ29vZ2xlYXBpcy5jb20nKSB8fFxuICAgICAgICAgICAgICAgIGhyZWYuaW5jbHVkZXMoJ2dzdGF0aWMuY29tJykpIHtcbiAgICAgICAgICAgICAgLy8gU2tpcCBleHRlcm5hbCBmb250cyAtIGRvbid0IGxvYWQgdGhlbVxuICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaHJlZi5pbmNsdWRlcygnYWxsdXJlZGlnaXRhbC5uZXQnKSB8fCBocmVmLnN0YXJ0c1dpdGgoJ2h0dHAnKSkge1xuICAgICAgICAgICAgICBjb25zdCBmaWxlbmFtZSA9IGdldEFzc2V0RmlsZW5hbWUoaHJlZilcbiAgICAgICAgICAgICAgaWYgKGZpbGVuYW1lKSB7XG4gICAgICAgICAgICAgICAgY2xvbmUuaHJlZiA9IGAvYXNzZXRzLyR7ZmlsZW5hbWV9YFxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFNraXAgaWYgY2FuJ3QgZmluZCBsb2NhbCBhc3NldFxuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNsb25lLnNldEF0dHJpYnV0ZSgnZGF0YS1pbmplY3RlZCcsICd0cnVlJylcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gV2FpdCBmb3Igc3R5bGVzaGVldCB0byBsb2FkIGFuZCBiZSBhcHBsaWVkXG4gICAgICAgICAgICBjb25zdCBzdHlsZVByb21pc2UgPSBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgICBsZXQgcmVzb2x2ZWQgPSBmYWxzZVxuICAgICAgICAgICAgICBjb25zdCByZXNvbHZlT25jZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXJlc29sdmVkKSB7XG4gICAgICAgICAgICAgICAgICByZXNvbHZlZCA9IHRydWVcbiAgICAgICAgICAgICAgICAgIC8vIFdhaXQgYSBiaXQgbW9yZSB0byBlbnN1cmUgQ1NTIGlzIGFwcGxpZWQgdG8gRE9NXG4gICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHJlc29sdmUoKSwgMTAwKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgY2xvbmUub25sb2FkID0gcmVzb2x2ZU9uY2VcbiAgICAgICAgICAgICAgY2xvbmUub25lcnJvciA9IHJlc29sdmVPbmNlIC8vIENvbnRpbnVlIGV2ZW4gaWYgc3R5bGVzaGVldCBmYWlsc1xuICAgICAgICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGNsb25lKVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gRmFsbGJhY2s6IHJlc29sdmUgYWZ0ZXIgcmVhc29uYWJsZSB0aW1lb3V0XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghcmVzb2x2ZWQpIHtcbiAgICAgICAgICAgICAgICAgIHJlc29sdmVPbmNlKClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sIDIwMDApXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgc3R5bGVQcm9taXNlcy5wdXNoKHN0eWxlUHJvbWlzZSlcbiAgICAgICAgICAgIHN0eWxlc0xvYWRlZFJlZi5jdXJyZW50LmFkZChzdHlsZUlkKVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChlbC50YWdOYW1lID09PSAnU1RZTEUnKSB7XG4gICAgICAgICAgLy8gSW5saW5lIHN0eWxlcyAtIGluamVjdCBkaXJlY3RseVxuICAgICAgICAgIGNvbnN0IHN0eWxlSWQgPSBlbC50ZXh0Q29udGVudD8uc3Vic3RyaW5nKDAsIDUwKSB8fCBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKClcbiAgICAgICAgICBpZiAoIXN0eWxlc0xvYWRlZFJlZi5jdXJyZW50LmhhcyhzdHlsZUlkKSkge1xuICAgICAgICAgICAgY29uc3QgY2xvbmUgPSBlbC5jbG9uZU5vZGUodHJ1ZSkgYXMgSFRNTFN0eWxlRWxlbWVudFxuICAgICAgICAgICAgY2xvbmUuc2V0QXR0cmlidXRlKCdkYXRhLWluamVjdGVkJywgJ3RydWUnKVxuICAgICAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChjbG9uZSlcbiAgICAgICAgICAgIHN0eWxlc0xvYWRlZFJlZi5jdXJyZW50LmFkZChzdHlsZUlkKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgLy8gSW5qZWN0IG1ldGEgdGFncyBhbmQgdGl0bGUgKHdpdGggYnJhbmRpbmcgcmVwbGFjZW1lbnQpXG4gICAgICBoZWFkLnF1ZXJ5U2VsZWN0b3JBbGwoJ21ldGEsIHRpdGxlJykuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgaWYgKGVsLnRhZ05hbWUgPT09ICdUSVRMRScpIHtcbiAgICAgICAgICAvLyBBbHdheXMgdXBkYXRlIHRpdGxlLCB3aGV0aGVyIGl0IGV4aXN0cyBvciBub3RcbiAgICAgICAgICBjb25zdCB0aXRsZVRleHQgPSBlbC50ZXh0Q29udGVudCB8fCAnJ1xuICAgICAgICAgIGNvbnN0IHJlcGxhY2VkVGV4dCA9IHRpdGxlVGV4dFxuICAgICAgICAgICAgLnJlcGxhY2UoL0FsbHVyZSBEaWdpdGFsL2dpLCAnUmltYWx3ZWInKVxuICAgICAgICAgICAgLnJlcGxhY2UoL0FsbHVyZURpZ2l0YWwvZ2ksICdSaW1hbHdlYicpXG4gICAgICAgICAgICAucmVwbGFjZSgvYWxsdXJlIGRpZ2l0YWwvZ2ksICdSaW1hbHdlYicpXG4gICAgICAgICAgICAucmVwbGFjZSgvQWxsdXJlRGlnaXRhbFxcLm5ldC9naSwgJ1JpbWFsd2ViJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9hbGx1cmVkaWdpdGFsXFwubmV0L2dpLCAnUmltYWx3ZWInKVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIFVwZGF0ZSBkb2N1bWVudC50aXRsZSBkaXJlY3RseSAodGhpcyBpcyB3aGF0IHNob3dzIGluIGJyb3dzZXIgdGFiKVxuICAgICAgICAgIGRvY3VtZW50LnRpdGxlID0gcmVwbGFjZWRUZXh0IHx8ICdSaW1hbHdlYidcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBBbHNvIHVwZGF0ZS9jcmVhdGUgdGl0bGUgdGFnIGluIGhlYWRcbiAgICAgICAgICBsZXQgZXhpc3RpbmdUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3RpdGxlJylcbiAgICAgICAgICBpZiAoZXhpc3RpbmdUaXRsZSkge1xuICAgICAgICAgICAgZXhpc3RpbmdUaXRsZS50ZXh0Q29udGVudCA9IHJlcGxhY2VkVGV4dCB8fCAnUmltYWx3ZWInXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1RpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGl0bGUnKVxuICAgICAgICAgICAgbmV3VGl0bGUudGV4dENvbnRlbnQgPSByZXBsYWNlZFRleHQgfHwgJ1JpbWFsd2ViJ1xuICAgICAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChuZXdUaXRsZSlcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gRm9yY2UgdXBkYXRlIGFmdGVyIGEgc21hbGwgZGVsYXkgdG8gZW5zdXJlIGl0IHBlcnNpc3RzXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBkb2N1bWVudC50aXRsZSA9IHJlcGxhY2VkVGV4dCB8fCAnUmltYWx3ZWInXG4gICAgICAgICAgICBjb25zdCB0aXRsZUVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigndGl0bGUnKVxuICAgICAgICAgICAgaWYgKHRpdGxlRWwpIHtcbiAgICAgICAgICAgICAgdGl0bGVFbC50ZXh0Q29udGVudCA9IHJlcGxhY2VkVGV4dCB8fCAnUmltYWx3ZWInXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgMTAwKVxuICAgICAgICB9IGVsc2UgaWYgKGVsLnRhZ05hbWUgPT09ICdNRVRBJykge1xuICAgICAgICAgIC8vIEhhbmRsZSBtZXRhIHRhZ3NcbiAgICAgICAgY29uc3QgZXhpc3RpbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgICAgYG1ldGFbbmFtZT1cIiR7ZWwuZ2V0QXR0cmlidXRlKCduYW1lJykgfHwgZWwuZ2V0QXR0cmlidXRlKCdwcm9wZXJ0eScpfVwiXWBcbiAgICAgICAgKVxuICAgICAgICBpZiAoIWV4aXN0aW5nKSB7XG4gICAgICAgICAgY29uc3QgY2xvbmUgPSBlbC5jbG9uZU5vZGUodHJ1ZSkgYXMgSFRNTEVsZW1lbnRcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBjbG9uZS5nZXRBdHRyaWJ1dGUoJ2NvbnRlbnQnKVxuICAgICAgICAgICAgaWYgKGNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgY2xvbmUuc2V0QXR0cmlidXRlKCdjb250ZW50JywgY29udGVudFxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9BbGx1cmUgRGlnaXRhbC9naSwgJ1JpbWFsd2ViJylcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvQWxsdXJlRGlnaXRhbC9naSwgJ1JpbWFsd2ViJylcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvYWxsdXJlIGRpZ2l0YWwvZ2ksICdSaW1hbHdlYicpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoL2FsbHVyZWRpZ2l0YWxcXC5uZXQvZ2ksICdyaW1hbHdlYi5jb20nKSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGNsb25lKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBVcGRhdGUgZXhpc3RpbmcgbWV0YSB0YWdcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBlbC5nZXRBdHRyaWJ1dGUoJ2NvbnRlbnQnKVxuICAgICAgICAgICAgaWYgKGNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgY29uc3QgcmVwbGFjZWRDb250ZW50ID0gY29udGVudFxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9BbGx1cmUgRGlnaXRhbC9naSwgJ1JpbWFsd2ViJylcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvQWxsdXJlRGlnaXRhbC9naSwgJ1JpbWFsd2ViJylcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvYWxsdXJlIGRpZ2l0YWwvZ2ksICdSaW1hbHdlYicpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoL2FsbHVyZWRpZ2l0YWxcXC5uZXQvZ2ksICdyaW1hbHdlYi5jb20nKVxuICAgICAgICAgICAgICBleGlzdGluZy5zZXRBdHRyaWJ1dGUoJ2NvbnRlbnQnLCByZXBsYWNlZENvbnRlbnQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cblxuICAgIC8vIEV4dHJhY3QgYm9keSBhbmQgcHJlc2VydmUgQUxMIGF0dHJpYnV0ZXMgYW5kIGNsYXNzZXNcbiAgICBjb25zdCBib2R5ID0gZG9jLnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKVxuICAgIGlmIChib2R5ICYmIGNvbnRhaW5lclJlZi5jdXJyZW50KSB7XG4gICAgICAvLyBBcHBseSBib2R5IGNsYXNzZXMgdG8gY29udGFpbmVyIHRvIHByZXNlcnZlIHN0eWxpbmdcbiAgICAgIGNvbnN0IGJvZHlDbGFzc2VzID0gYm9keS5jbGFzc05hbWVcbiAgICAgIGlmIChib2R5Q2xhc3Nlcykge1xuICAgICAgICBjb250YWluZXJSZWYuY3VycmVudC5jbGFzc05hbWUgPSBib2R5Q2xhc3Nlc1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBDb3B5IGJvZHkgYXR0cmlidXRlc1xuICAgICAgQXJyYXkuZnJvbShib2R5LmF0dHJpYnV0ZXMpLmZvckVhY2goKGF0dHIpID0+IHtcbiAgICAgICAgaWYgKGF0dHIubmFtZSAhPT0gJ2NsYXNzJykge1xuICAgICAgICAgIGNvbnRhaW5lclJlZi5jdXJyZW50Py5zZXRBdHRyaWJ1dGUoYXR0ci5uYW1lLCBhdHRyLnZhbHVlKVxuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICAvLyBDaGVjayBpZiBhc3NldCBmaWxlIGV4aXN0cyAoYXN5bmMgY2hlY2spXG4gICAgICBjb25zdCBjaGVja0Fzc2V0RXhpc3RzID0gYXN5bmMgKHBhdGg6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4gPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gocGF0aCwgeyBtZXRob2Q6ICdIRUFEJyB9KVxuICAgICAgICAgIHJldHVybiByZXNwb25zZS5va1xuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBGaXggQUxMIGFzc2V0IFVSTHMgaW4gYm9keSBCRUZPUkUgc2V0dGluZyBpbm5lckhUTUxcbiAgICAgIGNvbnN0IGZpeEFzc2V0VXJsID0gKHVybDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICAgICAgaWYgKCF1cmwgfHwgdXJsLnN0YXJ0c1dpdGgoJ2RhdGE6JykgfHwgdXJsLnN0YXJ0c1dpdGgoJy9hc3NldHMvJykpIHJldHVybiB1cmxcbiAgICAgICAgaWYgKHVybC5pbmNsdWRlcygnYWxsdXJlZGlnaXRhbC5uZXQnKSB8fCB1cmwuc3RhcnRzV2l0aCgnaHR0cCcpKSB7XG4gICAgICAgICAgY29uc3QgZmlsZW5hbWUgPSBnZXRBc3NldEZpbGVuYW1lKHVybClcbiAgICAgICAgICBpZiAoZmlsZW5hbWUpIHtcbiAgICAgICAgICAgIC8vIFdvcmRQcmVzcyBhZGRzIHNpemUgc3VmZml4ZXMgbGlrZSAtMjA0OHg5MDMsIC0zMDB4MjAwLCBldGMuIHRvIGltYWdlIFVSTHNcbiAgICAgICAgICAgIC8vIGJ1dCB0aGUgYWN0dWFsIGZpbGVzIGRvbid0IGhhdmUgdGhlc2Ugc3VmZml4ZXMuIFN0cmlwIHRoZW0gZnJvbSBmaWxlbmFtZS5cbiAgICAgICAgICAgIGNvbnN0IGZpbGVuYW1lV2l0aG91dFNpemUgPSBmaWxlbmFtZS5yZXBsYWNlKC8tXFxkK3hcXGQrKFxcLlthLXpdKykkL2ksICckMScpXG4gICAgICAgICAgICByZXR1cm4gYC9hc3NldHMvJHtmaWxlbmFtZVdpdGhvdXRTaXplfWBcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSGFuZGxlIFJpbWFsd2ViLm5ldCBVUkxzIC0gZmFsbGJhY2sgdG8gYWxsdXJlZGlnaXRhbC5uZXQgZmlsZW5hbWVcbiAgICAgICAgaWYgKHVybC5pbmNsdWRlcygncmltYWx3ZWIubmV0JykgfHwgdXJsLmluY2x1ZGVzKCdSaW1hbHdlYi5uZXQnKSkge1xuICAgICAgICAgIC8vIFJlcGxhY2UgcmltYWx3ZWIubmV0IHdpdGggYWxsdXJlZGlnaXRhbC5uZXQgaW4gVVJMIHRvIGdldCBjb3JyZWN0IGZpbGVuYW1lXG4gICAgICAgICAgY29uc3Qgb3JpZ2luYWxVcmwgPSB1cmwucmVwbGFjZSgvcmltYWx3ZWJcXC5uZXQvZ2ksICdhbGx1cmVkaWdpdGFsLm5ldCcpXG4gICAgICAgICAgY29uc3QgZmlsZW5hbWUgPSBnZXRBc3NldEZpbGVuYW1lKG9yaWdpbmFsVXJsKVxuICAgICAgICAgIGlmIChmaWxlbmFtZSkge1xuICAgICAgICAgICAgLy8gU3RyaXAgV29yZFByZXNzIHNpemUgc3VmZml4ZXNcbiAgICAgICAgICAgIGNvbnN0IGZpbGVuYW1lV2l0aG91dFNpemUgPSBmaWxlbmFtZS5yZXBsYWNlKC8tXFxkK3hcXGQrKFxcLlthLXpdKykkL2ksICckMScpXG4gICAgICAgICAgICByZXR1cm4gYC9hc3NldHMvJHtmaWxlbmFtZVdpdGhvdXRTaXplfWBcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVybFxuICAgICAgfVxuXG4gICAgICAvLyBGaXggaW1hZ2VzIGFuZCByZXBsYWNlIGxvZ28gaW1hZ2VzIHdpdGggY3VzdG9tIFNWRyBsb2dvXG4gICAgICBib2R5LnF1ZXJ5U2VsZWN0b3JBbGwoJ2ltZ1tzcmNdJykuZm9yRWFjaCgoaW1nKSA9PiB7XG4gICAgICAgIGNvbnN0IHNyYyA9IGltZy5nZXRBdHRyaWJ1dGUoJ3NyYycpXG4gICAgICAgIGlmIChzcmMpIHtcbiAgICAgICAgICBjb25zdCBmaXhlZFNyYyA9IGZpeEFzc2V0VXJsKHNyYylcbiAgICAgICAgICBpbWcuc2V0QXR0cmlidXRlKCdzcmMnLCBmaXhlZFNyYylcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDaGVjayBpZiBpbWFnZSBpcyBpbiBcIldlbGNvbWUgdG8gUmltYWx3ZWJcIiBzZWN0aW9uXG4gICAgICAgICAgY29uc3Qgd2VsY29tZVNlY3Rpb24gPSBpbWcuY2xvc2VzdCgnc2VjdGlvbiwgZGl2Jyk/LnF1ZXJ5U2VsZWN0b3IoJ2gyLCBoMSwgLmVsZW1lbnRvci1oZWFkaW5nLXRpdGxlJylcbiAgICAgICAgICBjb25zdCBpc1dlbGNvbWVTZWN0aW9uID0gd2VsY29tZVNlY3Rpb24gJiYgKFxuICAgICAgICAgICAgd2VsY29tZVNlY3Rpb24udGV4dENvbnRlbnQ/LmluY2x1ZGVzKCdXZWxjb21lIHRvJykgfHxcbiAgICAgICAgICAgIHdlbGNvbWVTZWN0aW9uLnRleHRDb250ZW50Py5pbmNsdWRlcygnQnJlYWtpbmcgVGhyb3VnaCcpIHx8XG4gICAgICAgICAgICB3ZWxjb21lU2VjdGlvbi50ZXh0Q29udGVudD8uaW5jbHVkZXMoJ0RpZ2l0YWwgSW1wYXNzZScpXG4gICAgICAgICAgKVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIE1ha2UgaW1hZ2VzIHNtYWxsZXIgaW4gV2VsY29tZSBzZWN0aW9uXG4gICAgICAgICAgaWYgKGlzV2VsY29tZVNlY3Rpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IGltZ0VsZW1lbnQgPSBpbWcgYXMgSFRNTEltYWdlRWxlbWVudFxuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxXaWR0aCA9IHBhcnNlSW50KGltZy5nZXRBdHRyaWJ1dGUoJ3dpZHRoJykgfHwgKGltZ0VsZW1lbnQub2Zmc2V0V2lkdGggPyBpbWdFbGVtZW50Lm9mZnNldFdpZHRoLnRvU3RyaW5nKCkgOiAnMjAwJykpXG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbEhlaWdodCA9IHBhcnNlSW50KGltZy5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpIHx8IChpbWdFbGVtZW50Lm9mZnNldEhlaWdodCA/IGltZ0VsZW1lbnQub2Zmc2V0SGVpZ2h0LnRvU3RyaW5nKCkgOiAnNTAnKSlcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gUmVkdWNlIHNpemUgYnkgMzAlIGZvciBXZWxjb21lIHNlY3Rpb24gaW1hZ2VzXG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IE1hdGgucm91bmQob3JpZ2luYWxXaWR0aCAqIDAuNylcbiAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IE1hdGgucm91bmQob3JpZ2luYWxIZWlnaHQgKiAwLjcpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTdHlsZSA9IGltZy5nZXRBdHRyaWJ1dGUoJ3N0eWxlJykgfHwgJydcbiAgICAgICAgICAgIGltZy5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgd2lkdGgudG9TdHJpbmcoKSlcbiAgICAgICAgICAgIGltZy5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIGhlaWdodC50b1N0cmluZygpKVxuICAgICAgICAgICAgaW1nLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBgd2lkdGg6ICR7d2lkdGh9cHg7IGhlaWdodDogJHtoZWlnaHR9cHg7IG1heC13aWR0aDogJHt3aWR0aH1weDsgb2JqZWN0LWZpdDogY29udGFpbjsgJHtjdXJyZW50U3R5bGV9YClcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gUmVwbGFjZSBsb2dvIGltYWdlcyBpbiBoZWFkZXIvZm9vdGVyIHdpdGggY3VzdG9tIFNWRyBsb2dvXG4gICAgICAgICAgY29uc3Qgc3JjTG93ZXIgPSBzcmMudG9Mb3dlckNhc2UoKVxuICAgICAgICAgIGNvbnN0IGlzTG9nb0ltYWdlID0gc3JjTG93ZXIuaW5jbHVkZXMoJ2FsbHVyZScpICYmIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzcmNMb3dlci5pbmNsdWRlcygnbG9nbycpIHx8IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmNMb3dlci5pbmNsdWRlcygnYXNzZXQtMScpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyY0xvd2VyLmluY2x1ZGVzKCdzeW1ib2wnKSlcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCBpc0luSGVhZGVyID0gaW1nLmNsb3Nlc3QoJ2hlYWRlcicpICE9PSBudWxsIHx8IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nLmNsb3Nlc3QoJ1tkYXRhLWVsZW1lbnRvci10eXBlPVwiaGVhZGVyXCJdJykgIT09IG51bGwgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGltZy5jbG9zZXN0KCdbY2xhc3MqPVwiZWxlbWVudG9yLWxvY2F0aW9uLWhlYWRlclwiIGldJykgIT09IG51bGxcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCBpc0luRm9vdGVyID0gaW1nLmNsb3Nlc3QoJ2Zvb3RlcicpICE9PSBudWxsIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICBpbWcuY2xvc2VzdCgnW2NsYXNzKj1cImZvb3RlclwiIGldJykgIT09IG51bGxcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCBoYXNMb2dvQ2xhc3MgPSBpbWcuY2xvc2VzdCgnW2NsYXNzKj1cImxvZ29cIiBpXScpICE9PSBudWxsIHx8IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nLmNsb3Nlc3QoJ1tjbGFzcyo9XCJicmFuZFwiIGldJykgIT09IG51bGwgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltZy5jbG9zZXN0KCdbY2xhc3MqPVwic2l0ZS1sb2dvXCIgaV0nKSAhPT0gbnVsbCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nLmNsb3Nlc3QoJ1tjbGFzcyo9XCJlbGVtZW50b3Itd2lkZ2V0LWltYWdlXCIgaV0nKSAhPT0gbnVsbFxuICAgICAgICAgIFxuICAgICAgICAgIC8vIFJlcGxhY2UgbG9nbyBpbWFnZXMgd2l0aCBSaW1hbHdlYiBsb2dvIGZyb20gcHVibGljIGZvbGRlclxuICAgICAgICAgIGlmIChpc0xvZ29JbWFnZSAmJiAoaXNJbkhlYWRlciB8fCBpc0luRm9vdGVyIHx8IGhhc0xvZ29DbGFzcykpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IGltZy5wYXJlbnRFbGVtZW50XG4gICAgICAgICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgICAgICAgIGNvbnN0IGltZ0VsZW1lbnQgPSBpbWcgYXMgSFRNTEltYWdlRWxlbWVudFxuICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbFdpZHRoID0gcGFyc2VJbnQoaW1nLmdldEF0dHJpYnV0ZSgnd2lkdGgnKSB8fCAoaW1nRWxlbWVudC5vZmZzZXRXaWR0aCA/IGltZ0VsZW1lbnQub2Zmc2V0V2lkdGgudG9TdHJpbmcoKSA6ICcyMDAnKSlcbiAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxIZWlnaHQgPSBwYXJzZUludChpbWcuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKSB8fCAoaW1nRWxlbWVudC5vZmZzZXRIZWlnaHQgPyBpbWdFbGVtZW50Lm9mZnNldEhlaWdodC50b1N0cmluZygpIDogJzUwJykpXG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBJbmNyZWFzZSBzaXplIGJ5IDIwJSBmb3IgaGVhZGVyL2Zvb3RlciBsb2dvc1xuICAgICAgICAgICAgICBjb25zdCB3aWR0aCA9IE1hdGgucm91bmQob3JpZ2luYWxXaWR0aCAqIDEuMilcbiAgICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gTWF0aC5yb3VuZChvcmlnaW5hbEhlaWdodCAqIDEuMilcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGNvbnN0IGNsYXNzZXMgPSBpbWcuZ2V0QXR0cmlidXRlKCdjbGFzcycpIHx8ICcnXG4gICAgICAgICAgICAgIGNvbnN0IHN0eWxlID0gaW1nLmdldEF0dHJpYnV0ZSgnc3R5bGUnKSB8fCAnJ1xuICAgICAgICAgICAgICBjb25zdCBhbHQgPSBpbWcuZ2V0QXR0cmlidXRlKCdhbHQnKSB8fCAnUmltYWx3ZWInXG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBDcmVhdGUgbmV3IGltYWdlIGVsZW1lbnQgd2l0aCBSaW1hbHdlYiBsb2dvIChiaWdnZXIgc2l6ZSlcbiAgICAgICAgICAgICAgY29uc3QgbmV3TG9nbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpXG4gICAgICAgICAgICAgIG5ld0xvZ28uc3JjID0gJy9yaW1hbC5wbmcnXG4gICAgICAgICAgICAgIG5ld0xvZ28uc2V0QXR0cmlidXRlKCd3aWR0aCcsIHdpZHRoLnRvU3RyaW5nKCkpXG4gICAgICAgICAgICAgIG5ld0xvZ28uc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBoZWlnaHQudG9TdHJpbmcoKSlcbiAgICAgICAgICAgICAgbmV3TG9nby5zZXRBdHRyaWJ1dGUoJ2FsdCcsIGFsdClcbiAgICAgICAgICAgICAgbmV3TG9nby5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgY2xhc3NlcylcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIE1ha2UgZm9vdGVyIGxvZ28gdHJhbnNwYXJlbnRcbiAgICAgICAgICAgICAgY29uc3Qgb3BhY2l0eVN0eWxlID0gaXNJbkZvb3RlciA/ICdvcGFjaXR5OiAwLjU7ICcgOiAnJ1xuICAgICAgICAgICAgICAvLyBNb3ZlIGhlYWRlciBsb2dvIHVwIGEgYml0XG4gICAgICAgICAgICAgIGNvbnN0IGhlYWRlclBvc2l0aW9uU3R5bGUgPSBpc0luSGVhZGVyID8gJ21hcmdpbi10b3A6IC0xMHB4OyAnIDogJydcbiAgICAgICAgICAgICAgLy8gQWRkIHN0eWxlIHRvIG1ha2UgaXQgYmlnZ2VyIHdoaWxlIHByZXNlcnZpbmcgb3JpZ2luYWxcbiAgICAgICAgICAgICAgbmV3TG9nby5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgYHdpZHRoOiAke3dpZHRofXB4OyBoZWlnaHQ6ICR7aGVpZ2h0fXB4OyBvYmplY3QtZml0OiBjb250YWluOyAke29wYWNpdHlTdHlsZX0ke2hlYWRlclBvc2l0aW9uU3R5bGV9JHtzdHlsZX1gKVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gUHJlc2VydmUgcGFyZW50IGxpbmsgaWYgZXhpc3RzXG4gICAgICAgICAgICAgIGlmIChwYXJlbnQudGFnTmFtZSA9PT0gJ0EnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGluayA9IHBhcmVudC5jbG9uZU5vZGUoZmFsc2UpIGFzIEhUTUxBbmNob3JFbGVtZW50XG4gICAgICAgICAgICAgICAgQXJyYXkuZnJvbShwYXJlbnQuYXR0cmlidXRlcykuZm9yRWFjaChhdHRyID0+IHtcbiAgICAgICAgICAgICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKGF0dHIubmFtZSwgYXR0ci52YWx1ZSlcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIGxpbmsuYXBwZW5kQ2hpbGQobmV3TG9nbylcbiAgICAgICAgICAgICAgICBwYXJlbnQucGFyZW50RWxlbWVudD8ucmVwbGFjZUNoaWxkKGxpbmssIHBhcmVudClcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQucmVwbGFjZUNoaWxkKG5ld0xvZ28sIGltZylcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgLy8gRml4IENTUyBsaW5rcyBpbiBib2R5XG4gICAgICBib2R5LnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpbmtbaHJlZl0nKS5mb3JFYWNoKChsaW5rKSA9PiB7XG4gICAgICAgIGNvbnN0IGhyZWYgPSBsaW5rLmdldEF0dHJpYnV0ZSgnaHJlZicpXG4gICAgICAgIGlmIChocmVmKSB7XG4gICAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBmaXhBc3NldFVybChocmVmKSlcbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgLy8gRml4IGJhY2tncm91bmQgaW1hZ2VzIGluIHN0eWxlIGF0dHJpYnV0ZXNcbiAgICAgIGJvZHkucXVlcnlTZWxlY3RvckFsbCgnW3N0eWxlKj1cImJhY2tncm91bmRcIl0nKS5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICBjb25zdCBzdHlsZSA9IGVsLmdldEF0dHJpYnV0ZSgnc3R5bGUnKSB8fCAnJ1xuICAgICAgICBjb25zdCBuZXdTdHlsZSA9IHN0eWxlLnJlcGxhY2UoL3VybFxcKFsnXCJdPyhbXidcIildKylbJ1wiXT9cXCkvZywgKG1hdGNoLCB1cmwpID0+IHtcbiAgICAgICAgICBjb25zdCBmaXhlZCA9IGZpeEFzc2V0VXJsKHVybClcbiAgICAgICAgICByZXR1cm4gYHVybCgnJHtmaXhlZH0nKWBcbiAgICAgICAgfSlcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdzdHlsZScsIG5ld1N0eWxlKVxuICAgICAgfSlcblxuICAgICAgLy8gRml4IGludGVybmFsIGxpbmtzIGFuZCByZXBsYWNlIGNvbnRhY3QgbGlua3Mgd2l0aCBkdW1teSBkYXRhXG4gICAgICBib2R5LnF1ZXJ5U2VsZWN0b3JBbGwoJ2FbaHJlZl0nKS5mb3JFYWNoKChhKSA9PiB7XG4gICAgICAgIGNvbnN0IGhyZWYgPSBhLmdldEF0dHJpYnV0ZSgnaHJlZicpXG4gICAgICAgIFxuICAgICAgICAvLyBSZW1vdmUgR29vZ2xlIE1hcHMgbGlua3MgYW5kIGxvY2F0aW9uIGxpbmtzXG4gICAgICAgIGlmIChocmVmICYmIChcbiAgICAgICAgICBocmVmLmluY2x1ZGVzKCdtYXBzLmdvb2dsZS5jb20nKSB8fFxuICAgICAgICAgIGhyZWYuaW5jbHVkZXMoJ21hcHMuZ29vZ2xlYXBpcy5jb20nKSB8fFxuICAgICAgICAgIGhyZWYuaW5jbHVkZXMoJ2dvb2dsZS5jb20vbWFwcycpIHx8XG4gICAgICAgICAgaHJlZi5pbmNsdWRlcygnZ29vLmdsL21hcHMnKSB8fFxuICAgICAgICAgIGhyZWYuaW5jbHVkZXMoJ21hcHMuYXBwLmdvby5nbCcpIHx8XG4gICAgICAgICAgaHJlZi50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdmaW5kIHVzIG9uIGdvb2dsZSBtYXAnKSB8fFxuICAgICAgICAgIGhyZWYudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnZmluZCB1cyBvbiBtYXAnKSB8fFxuICAgICAgICAgIGhyZWYudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnb3VyIGxvY2F0aW9uJykgfHxcbiAgICAgICAgICBocmVmLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2dldCBkaXJlY3Rpb25zJykgfHxcbiAgICAgICAgICAoaHJlZi5pbmNsdWRlcygncT0nKSAmJiAoaHJlZi5pbmNsdWRlcygnQnJvb2tseW4nKSB8fCBocmVmLmluY2x1ZGVzKCc1MzAwJykgfHwgaHJlZi5pbmNsdWRlcygnS2luZ3MgSGlnaHdheScpKSlcbiAgICAgICAgKSkge1xuICAgICAgICAgIC8vIFJlbW92ZSB0aGUgbGluayBidXQga2VlcCB0aGUgdGV4dFxuICAgICAgICAgIGEucmVtb3ZlQXR0cmlidXRlKCdocmVmJylcbiAgICAgICAgICBjb25zdCBsaW5rRWwgPSBhIGFzIEhUTUxFbGVtZW50XG4gICAgICAgICAgbGlua0VsLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSdcbiAgICAgICAgICBsaW5rRWwuc3R5bGUuY3Vyc29yID0gJ2RlZmF1bHQnXG4gICAgICAgICAgbGlua0VsLnN0eWxlLnRleHREZWNvcmF0aW9uID0gJ25vbmUnXG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFJlcGxhY2UgdGVsOiBhbmQgbWFpbHRvOiBsaW5rcyB3aXRoIGR1bW15IGRhdGFcbiAgICAgICAgaWYgKGhyZWYgJiYgaHJlZi5zdGFydHNXaXRoKCd0ZWw6JykpIHtcbiAgICAgICAgICBjb25zdCBkdW1teVBob25lID0gJysxICg1NTUpIDEyMy00NTY3J1xuICAgICAgICAgIGEuc2V0QXR0cmlidXRlKCdocmVmJywgYHRlbDoke2R1bW15UGhvbmUucmVwbGFjZSgvXFxzL2csICcnKS5yZXBsYWNlKC9bKCldL2csICcnKS5yZXBsYWNlKC8tL2csICcnKX1gKVxuICAgICAgICB9IGVsc2UgaWYgKGhyZWYgJiYgaHJlZi5zdGFydHNXaXRoKCdtYWlsdG86JykpIHtcbiAgICAgICAgICBjb25zdCBkdW1teUVtYWlsID0gJ2luZm9AcmltYWx3ZWIuY29tJ1xuICAgICAgICAgIC8vIFJlcGxhY2Ugb2xkIGVtYWlsIHdpdGggZHVtbXkgZW1haWxcbiAgICAgICAgICBpZiAoaHJlZi5pbmNsdWRlcygnYWxsdXJlZGlnaXRhbC5uZXQnKSkge1xuICAgICAgICAgICAgYS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBgbWFpbHRvOiR7ZHVtbXlFbWFpbH1gKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBLZWVwIGV4aXN0aW5nIGVtYWlsIGlmIGl0J3Mgbm90IGFsbHVyZWRpZ2l0YWwubmV0XG4gICAgICAgICAgICBhLnNldEF0dHJpYnV0ZSgnaHJlZicsIGhyZWYucmVwbGFjZSgvbWFpbHRvOlteQF0rQGFsbHVyZWRpZ2l0YWxcXC5uZXQvZ2ksIGBtYWlsdG86JHtkdW1teUVtYWlsfWApKVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChocmVmICYmIGhyZWYuaW5jbHVkZXMoJ2FsbHVyZWRpZ2l0YWwubmV0JykpIHtcbiAgICAgICAgICAvLyBDb252ZXJ0IGFsbHVyZWRpZ2l0YWwubmV0IFVSTHMgdG8gbG9jYWwgTmV4dC5qcyByb3V0ZXNcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChocmVmKVxuICAgICAgICAgICAgbGV0IHBhdGggPSB1cmwucGF0aG5hbWVcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gUmVtb3ZlIHRyYWlsaW5nIHNsYXNoXG4gICAgICAgICAgICBpZiAocGF0aC5lbmRzV2l0aCgnLycpICYmIHBhdGggIT09ICcvJykge1xuICAgICAgICAgICAgICBwYXRoID0gcGF0aC5zbGljZSgwLCAtMSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ29udmVydCBjb21tb24gV29yZFByZXNzIHBhdGhzIHRvIE5leHQuanMgcm91dGVzXG4gICAgICAgICAgICBjb25zdCByb3V0ZU1hcDogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHtcbiAgICAgICAgICAgICAgJy9zb2NpYWwtbWVkaWEtbWFuYWdlbWVudCc6ICcvc29jaWFsLW1lZGlhLW1hbmFnZW1lbnQnLFxuICAgICAgICAgICAgICAnL3NvY2lhbC1tZWRpYS1tYXJrZXRpbmcnOiAnL3NvY2lhbC1tZWRpYS1tYW5hZ2VtZW50JywgLy8gTWFwIHRvIGV4aXN0aW5nIHBhZ2VcbiAgICAgICAgICAgICAgJy9hcHBpYW4tZGV2ZWxvcG1lbnQnOiAnL2FwcGlhbi1kZXZlbG9wbWVudCcsXG4gICAgICAgICAgICAgICcvc29mdHdhcmUtZGV2ZWxvcG1lbnQnOiAnL2FwcGlhbi1kZXZlbG9wbWVudCcsIC8vIE1hcCB0byBhcHBpYW4tZGV2ZWxvcG1lbnQgcGFnZVxuICAgICAgICAgICAgICAnL2xvY2FsLXNlbyc6ICcvbG9jYWwtc2VvJyxcbiAgICAgICAgICAgICAgJy9wcGMtYWR2ZXJ0aXNpbmcnOiAnL2dvb2dsZS1hZHMtbWFuYWdlbWVudCcsIC8vIE1hcCBQUEMgdG8gR29vZ2xlIEFkcyBNYW5hZ2VtZW50XG4gICAgICAgICAgICAgICcvZ29vZ2xlLWFkcy1tYW5hZ2VtZW50JzogJy9nb29nbGUtYWRzLW1hbmFnZW1lbnQnLCAvLyBNYXAgdG8gR29vZ2xlIEFkcyBNYW5hZ2VtZW50IHBhZ2VcbiAgICAgICAgICAgICAgJy93b3JkcHJlc3MtZGV2ZWxvcG1lbnQnOiAnL3dvcmRwcmVzcy1kZXZlbG9wbWVudCcsXG4gICAgICAgICAgICAgICcvc2hvcGlmeS1kZXZlbG9wbWVudCc6ICcvc2hvcGlmeS1kZXZlbG9wbWVudCcsXG4gICAgICAgICAgICAgICcvYnJpY2tzLWJ1aWxkZXItZGV2ZWxvcG1lbnQnOiAnL2JyaWNrcy1idWlsZGVyLWRldmVsb3BtZW50JyxcbiAgICAgICAgICAgICAgJy9jcm0tZGV2ZWxvcG1lbnQnOiAnL2NybS1kZXZlbG9wbWVudCcsXG4gICAgICAgICAgICAgICcvZ29vZ2xlLW1hcC1vcHRpbWl6YXRpb24nOiAnL2dvb2dsZS1tYXAtb3B0aW1pemF0aW9uJyxcbiAgICAgICAgICAgICAgJy9zbWFsbC1idXNpbmVzcy1zZW8tc2VydmljZSc6ICcvc21hbGwtYnVzaW5lc3Mtc2VvLXNlcnZpY2UnLFxuICAgICAgICAgICAgICAnL2xvY2FsLWJ1c2luZXNzLWNpdGF0aW9ucy1idWlsZGluZyc6ICcvbG9jYWwtYnVzaW5lc3MtY2l0YXRpb25zLWJ1aWxkaW5nJyxcbiAgICAgICAgICAgICAgJy9sYW5kaW5nLXBhZ2Utb3B0aW1pemF0aW9uJzogJy9sYW5kaW5nLXBhZ2Utb3B0aW1pemF0aW9uJyxcbiAgICAgICAgICAgICAgJy90ZWNobmljYWwtc2VvLXNlcnZpY2UnOiAnL3RlY2huaWNhbC1zZW8tc2VydmljZScsXG4gICAgICAgICAgICAgICcvY29udGFjdC11cyc6ICcvY29udGFjdC11cycsXG4gICAgICAgICAgICAgICcvd2hvLXdlLWFyZSc6ICcvd2hvLXdlLWFyZScsXG4gICAgICAgICAgICAgICcvcG9ydGZvbGlvJzogJy9wb3J0Zm9saW8nLFxuICAgICAgICAgICAgICAnL3dvcmsnOiAnL3dvcmsnLFxuICAgICAgICAgICAgICAnL2Jsb2cnOiAnL2Jsb2cnLFxuICAgICAgICAgICAgICAnL2NhcmVlcnMnOiAnL2NhcmVlcnMnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHBhdGggZXhpc3RzIGluIHJvdXRlIG1hcFxuICAgICAgICAgICAgaWYgKHJvdXRlTWFwW3BhdGhdKSB7XG4gICAgICAgICAgICAgIGEuc2V0QXR0cmlidXRlKCdocmVmJywgcm91dGVNYXBbcGF0aF0pXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBhdGguc3RhcnRzV2l0aCgnL2Jsb2cvJykpIHtcbiAgICAgICAgICAgICAgLy8gQmxvZyBwb3N0cyAtIGtlZXAgdGhlIHBhdGggYXMgaXNcbiAgICAgICAgICAgICAgYS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBwYXRoKVxuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXRoID09PSAnLycgfHwgcGF0aCA9PT0gJycpIHtcbiAgICAgICAgICAgICAgYS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCAnLycpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBGb3IgdW5rbm93biByb3V0ZXMsIHRyeSB0byB1c2UgdGhlIHBhdGggZGlyZWN0bHlcbiAgICAgICAgICAgICAgICBhLnNldEF0dHJpYnV0ZSgnaHJlZicsIHBhdGgpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gSWYgVVJMIHBhcnNpbmcgZmFpbHMsIHRyeSB0byBleHRyYWN0IHBhdGggbWFudWFsbHlcbiAgICAgICAgICAgIGNvbnN0IHBhdGhNYXRjaCA9IGhyZWYubWF0Y2goL2FsbHVyZWRpZ2l0YWxcXC5uZXQoW14/I10qKS8pXG4gICAgICAgICAgICBpZiAocGF0aE1hdGNoICYmIHBhdGhNYXRjaFsxXSkge1xuICAgICAgICAgICAgICBsZXQgcGF0aCA9IHBhdGhNYXRjaFsxXVxuICAgICAgICAgICAgICBpZiAocGF0aC5lbmRzV2l0aCgnLycpICYmIHBhdGggIT09ICcvJykge1xuICAgICAgICAgICAgICAgIHBhdGggPSBwYXRoLnNsaWNlKDAsIC0xKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGEuc2V0QXR0cmlidXRlKCdocmVmJywgcGF0aCB8fCAnLycpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICAvLyBSZXBsYWNlIGJyYW5kaW5nIC0gQWxsdXJlIERpZ2l0YWwgdG8gUmltYWx3ZWIgKE9OTFkgdmlzaWJsZSB0ZXh0LCBOT1QgVVJMcyBvciBhc3NldHMpXG4gICAgICBjb25zdCByZXBsYWNlQnJhbmRpbmcgPSAoaHRtbDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICAgICAgLy8gUmVwbGFjZSBpbiB0ZXh0IGNvbnRlbnQgdXNpbmcgRE9NIG1hbmlwdWxhdGlvbiBmb3Igc2FmZXR5XG4gICAgICAgIGNvbnN0IHRlbXBEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICB0ZW1wRGl2LmlubmVySFRNTCA9IGh0bWxcbiAgICAgICAgXG4gICAgICAgIC8vIFJlcGxhY2UgaW4gYWxsIHRleHQgbm9kZXMgKGJ1dCBOT1QgaW4gc2NyaXB0LCBzdHlsZSwgc3JjLCBocmVmLCBvciBVUkxzKVxuICAgICAgICBjb25zdCB3YWxrZXIgPSBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKFxuICAgICAgICAgIHRlbXBEaXYsXG4gICAgICAgICAgTm9kZUZpbHRlci5TSE9XX1RFWFQsXG4gICAgICAgICAgbnVsbFxuICAgICAgICApXG4gICAgICAgIFxuICAgICAgICBsZXQgbm9kZVxuICAgICAgICB3aGlsZSAobm9kZSA9IHdhbGtlci5uZXh0Tm9kZSgpKSB7XG4gICAgICAgICAgY29uc3QgcGFyZW50ID0gbm9kZS5wYXJlbnRFbGVtZW50XG4gICAgICAgICAgaWYgKCFwYXJlbnQpIGNvbnRpbnVlXG4gICAgICAgICAgXG4gICAgICAgICAgLy8gU2tpcCBzY3JpcHQsIHN0eWxlLCBhbmQgZWxlbWVudHMgd2l0aCBzcmMvaHJlZiAoaW1hZ2VzLCBsaW5rcywgZXRjLilcbiAgICAgICAgICAvLyBCVVQgYWxsb3cgdGV4dCBpbnNpZGUgbGlua3MgKGxpa2UgYnJlYWRjcnVtYnMpIHRvIGJlIHJlcGxhY2VkXG4gICAgICAgICAgaWYgKHBhcmVudC50YWdOYW1lID09PSAnU0NSSVBUJyB8fCBcbiAgICAgICAgICAgICAgcGFyZW50LnRhZ05hbWUgPT09ICdTVFlMRScgfHxcbiAgICAgICAgICAgICAgcGFyZW50LnRhZ05hbWUgPT09ICdOT1NDUklQVCcgfHxcbiAgICAgICAgICAgICAgKHBhcmVudC5oYXNBdHRyaWJ1dGUoJ3NyYycpICYmIHBhcmVudC50YWdOYW1lICE9PSAnQScpIHx8XG4gICAgICAgICAgICAgIChwYXJlbnQuY2xvc2VzdCgnaW1nJykgJiYgIXBhcmVudC5jbG9zZXN0KCdhW2hyZWZdJykpKSB7XG4gICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBBbGxvdyByZXBsYWNlbWVudCBpbiBsaW5rIHRleHQgKGJyZWFkY3J1bWJzLCBldGMuKSBidXQgbm90IGluIGhyZWYgYXR0cmlidXRlc1xuICAgICAgICAgIGlmIChwYXJlbnQudGFnTmFtZSA9PT0gJ0EnICYmIHBhcmVudC5oYXNBdHRyaWJ1dGUoJ2hyZWYnKSkge1xuICAgICAgICAgICAgLy8gVGhpcyBpcyBsaW5rIHRleHQsIHdlIGNhbiByZXBsYWNlIGl0IC0gY29udGludWUgdG8gcHJvY2Vzc1xuICAgICAgICAgIH0gZWxzZSBpZiAocGFyZW50Lmhhc0F0dHJpYnV0ZSgnaHJlZicpICYmIHBhcmVudC50YWdOYW1lICE9PSAnQScpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGlmIChub2RlLnRleHRDb250ZW50KSB7XG4gICAgICAgICAgICBsZXQgdGV4dCA9IG5vZGUudGV4dENvbnRlbnRcbiAgICAgICAgICAgIC8vIERvbid0IHRyaW0gLSBwcmVzZXJ2ZSB3aGl0ZXNwYWNlIGZvciBwcm9wZXIgcmVwbGFjZW1lbnRcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gT25seSByZXBsYWNlIGlmIGl0J3MgcGxhaW4gdGV4dCAobm90IHBhcnQgb2YgVVJMIG9yIHBhdGgpXG4gICAgICAgICAgICBpZiAoIXRleHQubWF0Y2goL2h0dHBzPzpcXC9cXC8vaSkgJiYgXG4gICAgICAgICAgICAgICAgIXRleHQubWF0Y2goL1xcL2Fzc2V0c1xcLy8pICYmXG4gICAgICAgICAgICAgICAgIXRleHQubWF0Y2goL1xcLihwbmd8anBnfGpwZWd8Z2lmfHN2Z3xjc3N8anMpL2kpICYmXG4gICAgICAgICAgICAgICAgIXRleHQubWF0Y2goL15cXC9bXlxcL10vKSkge1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxUZXh0ID0gdGV4dFxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gUmVwbGFjZSBvbmx5IHRoZSBjb21wYW55IG5hbWUgdGV4dCAoY2FzZSBpbnNlbnNpdGl2ZSwgd29yZCBib3VuZGFyaWVzKVxuICAgICAgICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKC9cXGJBbGx1cmUgRGlnaXRhbFxcYi9naSwgJ1JpbWFsd2ViJylcbiAgICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgvXFxiQWxsdXJlRGlnaXRhbFxcYi9naSwgJ1JpbWFsd2ViJylcbiAgICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgvXFxiYWxsdXJlIGRpZ2l0YWxcXGIvZ2ksICdSaW1hbHdlYicpXG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBpZiAodGV4dCAhPT0gb3JpZ2luYWxUZXh0KSB7XG4gICAgICAgICAgICAgICAgbm9kZS50ZXh0Q29udGVudCA9IHRleHRcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gUmVwbGFjZSBpbiB0aXRsZSB0YWcgKHZpc2libGUgaW4gYnJvd3NlciB0YWIpXG4gICAgICAgIHRlbXBEaXYucXVlcnlTZWxlY3RvckFsbCgndGl0bGUnKS5mb3JFYWNoKCh0aXRsZSkgPT4ge1xuICAgICAgICAgIGlmICh0aXRsZS50ZXh0Q29udGVudCkge1xuICAgICAgICAgICAgdGl0bGUudGV4dENvbnRlbnQgPSB0aXRsZS50ZXh0Q29udGVudFxuICAgICAgICAgICAgICAucmVwbGFjZSgvQWxsdXJlIERpZ2l0YWwvZ2ksICdSaW1hbHdlYicpXG4gICAgICAgICAgICAgIC5yZXBsYWNlKC9BbGx1cmVEaWdpdGFsL2dpLCAnUmltYWx3ZWInKVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgXG4gICAgICAgIC8vIFJlcGxhY2UgaW4gYWx0IGF0dHJpYnV0ZXMgKGZvciBhY2Nlc3NpYmlsaXR5KVxuICAgICAgICB0ZW1wRGl2LnF1ZXJ5U2VsZWN0b3JBbGwoJ2ltZ1thbHRdJykuZm9yRWFjaCgoaW1nKSA9PiB7XG4gICAgICAgICAgY29uc3QgYWx0ID0gaW1nLmdldEF0dHJpYnV0ZSgnYWx0JylcbiAgICAgICAgICBpZiAoYWx0ICYmIChhbHQuaW5jbHVkZXMoJ0FsbHVyZScpIHx8IGFsdC5pbmNsdWRlcygnYWxsdXJlJykpKSB7XG4gICAgICAgICAgICBpbWcuc2V0QXR0cmlidXRlKCdhbHQnLCBhbHRcbiAgICAgICAgICAgICAgLnJlcGxhY2UoL0FsbHVyZSBEaWdpdGFsL2dpLCAnUmltYWx3ZWInKVxuICAgICAgICAgICAgICAucmVwbGFjZSgvQWxsdXJlRGlnaXRhbC9naSwgJ1JpbWFsd2ViJykpXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBcbiAgICAgICAgLy8gUmVwbGFjZSBpbiBoZWFkaW5nIGVsZW1lbnRzIChoMSwgaDIsIGgzLCBldGMuKSAtIGltcG9ydGFudCBmb3IgaGVybyBzZWN0aW9uc1xuICAgICAgICB0ZW1wRGl2LnF1ZXJ5U2VsZWN0b3JBbGwoJ2gxLCBoMiwgaDMsIGg0LCBoNSwgaDYsIC5lbGVtZW50b3ItaGVhZGluZy10aXRsZSwgLmJkdC1lcC1ob3Zlci1ib3gtdGl0bGUsIFtjbGFzcyo9XCJoZWFkaW5nXCJdJykuZm9yRWFjaCgoaGVhZGluZykgPT4ge1xuICAgICAgICAgIGlmIChoZWFkaW5nLnRleHRDb250ZW50KSB7XG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbFRleHQgPSBoZWFkaW5nLnRleHRDb250ZW50XG4gICAgICAgICAgICBsZXQgbmV3VGV4dCA9IG9yaWdpbmFsVGV4dFxuICAgICAgICAgICAgICAucmVwbGFjZSgvXFxiQWxsdXJlIERpZ2l0YWxcXGIvZ2ksICdSaW1hbHdlYicpXG4gICAgICAgICAgICAgIC5yZXBsYWNlKC9cXGJBbGx1cmVEaWdpdGFsXFxiL2dpLCAnUmltYWx3ZWInKVxuICAgICAgICAgICAgICAucmVwbGFjZSgvXFxiYWxsdXJlIGRpZ2l0YWxcXGIvZ2ksICdSaW1hbHdlYicpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChuZXdUZXh0ICE9PSBvcmlnaW5hbFRleHQpIHtcbiAgICAgICAgICAgICAgaGVhZGluZy50ZXh0Q29udGVudCA9IG5ld1RleHRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIFxuICAgICAgICAvLyBSZXBsYWNlIGluIHNwYW4gYW5kIGRpdiBlbGVtZW50cyB0aGF0IG1pZ2h0IGNvbnRhaW4gY29tcGFueSBuYW1lIChmb3IgaGVybyBzZWN0aW9ucylcbiAgICAgICAgdGVtcERpdi5xdWVyeVNlbGVjdG9yQWxsKCdzcGFuLCBkaXYsIHAsIGxpJykuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgICAvLyBTa2lwIGlmIGl0J3MgaW5zaWRlIGEgbGluayBocmVmIG9yIGltYWdlIHNyYywgYnV0IGFsbG93IGxpbmsgdGV4dFxuICAgICAgICAgIGlmIChlbC5jbG9zZXN0KCdpbWcnKSAmJiAhZWwuY2xvc2VzdCgnYVtocmVmXScpKSByZXR1cm5cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBQcm9jZXNzIGlmIGl0IGhhcyB0ZXh0IGNvbnRlbnRcbiAgICAgICAgICBpZiAoZWwudGV4dENvbnRlbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsVGV4dCA9IGVsLnRleHRDb250ZW50XG4gICAgICAgICAgICBsZXQgbmV3VGV4dCA9IG9yaWdpbmFsVGV4dFxuICAgICAgICAgICAgICAucmVwbGFjZSgvXFxiQWxsdXJlIERpZ2l0YWxcXGIvZ2ksICdSaW1hbHdlYicpXG4gICAgICAgICAgICAgIC5yZXBsYWNlKC9cXGJBbGx1cmVEaWdpdGFsXFxiL2dpLCAnUmltYWx3ZWInKVxuICAgICAgICAgICAgICAucmVwbGFjZSgvXFxiYWxsdXJlIGRpZ2l0YWxcXGIvZ2ksICdSaW1hbHdlYicpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChuZXdUZXh0ICE9PSBvcmlnaW5hbFRleHQpIHtcbiAgICAgICAgICAgICAgLy8gT25seSByZXBsYWNlIGlmIGl0J3MgYSBsZWFmIG5vZGUgb3IgaGFzIG1pbmltYWwgY2hpbGRyZW5cbiAgICAgICAgICAgICAgaWYgKGVsLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGVsLnRleHRDb250ZW50ID0gbmV3VGV4dFxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEZvciBlbGVtZW50cyB3aXRoIGNoaWxkcmVuLCByZXBsYWNlIGluIGRpcmVjdCB0ZXh0IG5vZGVzXG4gICAgICAgICAgICAgICAgY29uc3QgZGlyZWN0VGV4dE5vZGVzID0gQXJyYXkuZnJvbShlbC5jaGlsZE5vZGVzKS5maWx0ZXIobm9kZSA9PiBub2RlLm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSlcbiAgICAgICAgICAgICAgICBkaXJlY3RUZXh0Tm9kZXMuZm9yRWFjaCh0ZXh0Tm9kZSA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAodGV4dE5vZGUudGV4dENvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IHRleHROb2RlLnRleHRDb250ZW50XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcGxhY2VkID0gdGV4dFxuICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXGJBbGx1cmUgRGlnaXRhbFxcYi9naSwgJ1JpbWFsd2ViJylcbiAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxiQWxsdXJlRGlnaXRhbFxcYi9naSwgJ1JpbWFsd2ViJylcbiAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxiYWxsdXJlIGRpZ2l0YWxcXGIvZ2ksICdSaW1hbHdlYicpXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXBsYWNlZCAhPT0gdGV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgIHRleHROb2RlLnRleHRDb250ZW50ID0gcmVwbGFjZWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIFxuICAgICAgICAvLyBSZXBsYWNlIGluIGRhdGEgYXR0cmlidXRlcyB0aGF0IG1pZ2h0IGNvbnRhaW4gdGV4dFxuICAgICAgICB0ZW1wRGl2LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXRpdGxlXSwgW2RhdGEtdGV4dF0sIFtkYXRhLWNvbnRlbnRdLCBbZGF0YS1uYW1lXSwgW2RhdGEtbGFiZWxdJykuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgICBbJ2RhdGEtdGl0bGUnLCAnZGF0YS10ZXh0JywgJ2RhdGEtY29udGVudCcsICdkYXRhLW5hbWUnLCAnZGF0YS1sYWJlbCddLmZvckVhY2goKGF0dHIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZWwuZ2V0QXR0cmlidXRlKGF0dHIpXG4gICAgICAgICAgICBpZiAodmFsdWUgJiYgKHZhbHVlLmluY2x1ZGVzKCdBbGx1cmUnKSB8fCB2YWx1ZS5pbmNsdWRlcygnYWxsdXJlJykpKSB7XG4gICAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZShhdHRyLCB2YWx1ZVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9BbGx1cmUgRGlnaXRhbC9naSwgJ1JpbWFsd2ViJylcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvQWxsdXJlRGlnaXRhbC9naSwgJ1JpbWFsd2ViJylcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvYWxsdXJlIGRpZ2l0YWwvZ2ksICdSaW1hbHdlYicpKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICAgIFxuICAgICAgICAvLyBSZXBsYWNlIGluIGFyaWEtbGFiZWxzIGFuZCBvdGhlciBhY2Nlc3NpYmlsaXR5IGF0dHJpYnV0ZXNcbiAgICAgICAgdGVtcERpdi5xdWVyeVNlbGVjdG9yQWxsKCdbYXJpYS1sYWJlbF0sIFt0aXRsZV0sIFtwbGFjZWhvbGRlcl0nKS5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICAgIFsnYXJpYS1sYWJlbCcsICd0aXRsZScsICdwbGFjZWhvbGRlciddLmZvckVhY2goKGF0dHIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZWwuZ2V0QXR0cmlidXRlKGF0dHIpXG4gICAgICAgICAgICBpZiAodmFsdWUgJiYgKHZhbHVlLmluY2x1ZGVzKCdBbGx1cmUnKSB8fCB2YWx1ZS5pbmNsdWRlcygnYWxsdXJlJykpKSB7XG4gICAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZShhdHRyLCB2YWx1ZVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9BbGx1cmUgRGlnaXRhbC9naSwgJ1JpbWFsd2ViJylcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvQWxsdXJlRGlnaXRhbC9naSwgJ1JpbWFsd2ViJylcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvYWxsdXJlIGRpZ2l0YWwvZ2ksICdSaW1hbHdlYicpKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICAgIFxuICAgICAgICAvLyBSZXBsYWNlIGluIHNjcmlwdCB0YWdzIHRoYXQgY29udGFpbiBKU09OLUxEIG9yIHNjaGVtYSBkYXRhXG4gICAgICAgIHRlbXBEaXYucXVlcnlTZWxlY3RvckFsbCgnc2NyaXB0W3R5cGU9XCJhcHBsaWNhdGlvbi9sZCtqc29uXCJdJykuZm9yRWFjaCgoc2NyaXB0KSA9PiB7XG4gICAgICAgICAgaWYgKHNjcmlwdC50ZXh0Q29udGVudCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgY29uc3QganNvbkRhdGEgPSBKU09OLnBhcnNlKHNjcmlwdC50ZXh0Q29udGVudClcbiAgICAgICAgICAgICAgY29uc3QganNvblN0cmluZyA9IEpTT04uc3RyaW5naWZ5KGpzb25EYXRhKVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgaWYgKGpzb25TdHJpbmcuaW5jbHVkZXMoJ0FsbHVyZScpIHx8IGpzb25TdHJpbmcuaW5jbHVkZXMoJ2FsbHVyZScpKSB7XG4gICAgICAgICAgICAgICAgLy8gUmVjdXJzaXZlbHkgcmVwbGFjZSBpbiBKU09OIG9iamVjdFxuICAgICAgICAgICAgICAgIGNvbnN0IHJlcGxhY2VJbk9iamVjdCA9IChvYmo6IGFueSk6IGFueSA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9ialxuICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9BbGx1cmUgRGlnaXRhbC9naSwgJ1JpbWFsd2ViJylcbiAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvQWxsdXJlRGlnaXRhbC9naSwgJ1JpbWFsd2ViJylcbiAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvYWxsdXJlIGRpZ2l0YWwvZ2ksICdSaW1hbHdlYicpXG4gICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL2FsbHVyZWRpZ2l0YWxcXC5uZXQvZ2ksICdyaW1hbHdlYi5jb20nKVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iai5tYXAocmVwbGFjZUluT2JqZWN0KVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvYmogJiYgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVwbGFjZWQ6IGFueSA9IHt9XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2VkW2tleV0gPSByZXBsYWNlSW5PYmplY3Qob2JqW2tleV0pXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcGxhY2VkXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICByZXR1cm4gb2JqXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNvbnN0IHJlcGxhY2VkID0gcmVwbGFjZUluT2JqZWN0KGpzb25EYXRhKVxuICAgICAgICAgICAgICAgIHNjcmlwdC50ZXh0Q29udGVudCA9IEpTT04uc3RyaW5naWZ5KHJlcGxhY2VkKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIC8vIElmIEpTT04gcGFyc2luZyBmYWlscywgZG8gc2ltcGxlIHN0cmluZyByZXBsYWNlbWVudFxuICAgICAgICAgICAgICBpZiAoc2NyaXB0LnRleHRDb250ZW50LmluY2x1ZGVzKCdBbGx1cmUnKSB8fCBzY3JpcHQudGV4dENvbnRlbnQuaW5jbHVkZXMoJ2FsbHVyZScpKSB7XG4gICAgICAgICAgICAgICAgc2NyaXB0LnRleHRDb250ZW50ID0gc2NyaXB0LnRleHRDb250ZW50XG4gICAgICAgICAgICAgICAgICAucmVwbGFjZSgvQWxsdXJlIERpZ2l0YWwvZ2ksICdSaW1hbHdlYicpXG4gICAgICAgICAgICAgICAgICAucmVwbGFjZSgvQWxsdXJlRGlnaXRhbC9naSwgJ1JpbWFsd2ViJylcbiAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9hbGx1cmUgZGlnaXRhbC9naSwgJ1JpbWFsd2ViJylcbiAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9hbGx1cmVkaWdpdGFsXFwubmV0L2dpLCAncmltYWx3ZWIuY29tJylcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgXG4gICAgICAgIC8vIFJlcGxhY2UgaW4gYWxsIG90aGVyIGF0dHJpYnV0ZXMgKGNhdGNoLWFsbClcbiAgICAgICAgdGVtcERpdi5xdWVyeVNlbGVjdG9yQWxsKCcqJykuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgICBBcnJheS5mcm9tKGVsLmF0dHJpYnV0ZXMpLmZvckVhY2goKGF0dHIpID0+IHtcbiAgICAgICAgICAgIC8vIFNraXAgc3JjLCBocmVmLCBhbmQgb3RoZXIgVVJMIGF0dHJpYnV0ZXMgKGFscmVhZHkgaGFuZGxlZClcbiAgICAgICAgICAgIGlmIChbJ3NyYycsICdocmVmJywgJ3NyY3NldCcsICdkYXRhLXNyYycsICdkYXRhLXNyY3NldCddLmluY2x1ZGVzKGF0dHIubmFtZSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYXR0ci52YWx1ZVxuICAgICAgICAgICAgaWYgKHZhbHVlICYmICh2YWx1ZS5pbmNsdWRlcygnQWxsdXJlJykgfHwgdmFsdWUuaW5jbHVkZXMoJ2FsbHVyZScpKSkge1xuICAgICAgICAgICAgICBjb25zdCByZXBsYWNlZCA9IHZhbHVlXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoL0FsbHVyZSBEaWdpdGFsL2dpLCAnUmltYWx3ZWInKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9BbGx1cmVEaWdpdGFsL2dpLCAnUmltYWx3ZWInKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9hbGx1cmUgZGlnaXRhbC9naSwgJ1JpbWFsd2ViJylcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGlmIChyZXBsYWNlZCAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoYXR0ci5uYW1lLCByZXBsYWNlZClcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICAgIFxuICAgICAgICByZXR1cm4gdGVtcERpdi5pbm5lckhUTUxcbiAgICAgIH1cblxuICAgICAgLy8gUmVwbGFjZSBjb250YWN0IGluZm8gKHBob25lLCBlbWFpbCwgYWRkcmVzcykgd2l0aCBkdW1teSBkYXRhXG4gICAgICBjb25zdCByZXBsYWNlQ29udGFjdEluZm8gPSAoaHRtbDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICAgICAgLy8gRHVtbXkgY29udGFjdCBkYXRhXG4gICAgICAgIGNvbnN0IGR1bW15UGhvbmUgPSAnKzEgKDU1NSkgMTIzLTQ1NjcnXG4gICAgICAgIGNvbnN0IGR1bW15RW1haWwgPSAnaW5mb0ByaW1hbHdlYi5jb20nXG4gICAgICAgIGNvbnN0IGR1bW15QWRkcmVzcyA9ICcxMjMgQnVzaW5lc3MgU3RyZWV0LCBTdWl0ZSAxMDAsIE5ldyBZb3JrLCBOWSAxMDAwMSdcbiAgICAgICAgXG4gICAgICAgIC8vIFJlcGxhY2UgcGhvbmUgbnVtYmVycyAoYWxsIGZvcm1hdHMpIHdpdGggZHVtbXkgcGhvbmVcbiAgICAgICAgaHRtbCA9IGh0bWwucmVwbGFjZSgvXFwoMjEyXFwpXFxzKjMwMS03NjE1L2dpLCBkdW1teVBob25lKVxuICAgICAgICBodG1sID0gaHRtbC5yZXBsYWNlKC8yMTItMzAxLTc2MTUvZ2ksIGR1bW15UGhvbmUpXG4gICAgICAgIGh0bWwgPSBodG1sLnJlcGxhY2UoL1xcKDIxMlxcKVxccyozMDFcXHMqNzYxNS9naSwgZHVtbXlQaG9uZSlcbiAgICAgICAgaHRtbCA9IGh0bWwucmVwbGFjZSgvMjEyXFxzKjMwMVxccyo3NjE1L2dpLCBkdW1teVBob25lKVxuICAgICAgICBodG1sID0gaHRtbC5yZXBsYWNlKC90ZWw6W1xcZFxcc1xcLVxcKFxcKV0rL2dpLCAobWF0Y2gpID0+IHtcbiAgICAgICAgICAvLyBSZXBsYWNlIHRlbDogbGlua3Mgd2l0aCBkdW1teSBwaG9uZVxuICAgICAgICAgIHJldHVybiBtYXRjaC5yZXBsYWNlKC9bXFxkXFxzXFwtXFwoXFwpXSsvZywgZHVtbXlQaG9uZS5yZXBsYWNlKC9cXHMvZywgJy0nKS5yZXBsYWNlKC9bKCldL2csICcnKSlcbiAgICAgICAgfSlcbiAgICAgICAgXG4gICAgICAgIC8vIFJlcGxhY2UgZW1haWwgYWRkcmVzc2VzIHdpdGggZHVtbXkgZW1haWxcbiAgICAgICAgaHRtbCA9IGh0bWwucmVwbGFjZSgvaW5mb0BhbGx1cmVkaWdpdGFsXFwubmV0L2dpLCBkdW1teUVtYWlsKVxuICAgICAgICBodG1sID0gaHRtbC5yZXBsYWNlKC9bYS16QS1aMC05Ll8lKy1dK0BhbGx1cmVkaWdpdGFsXFwubmV0L2dpLCBkdW1teUVtYWlsKVxuICAgICAgICBodG1sID0gaHRtbC5yZXBsYWNlKC9tYWlsdG86KFthLXpBLVowLTkuXyUrLV0rQGFsbHVyZWRpZ2l0YWxcXC5uZXQpL2dpLCBgbWFpbHRvOiR7ZHVtbXlFbWFpbH1gKVxuICAgICAgICBcbiAgICAgICAgLy8gUmVwbGFjZSBhZGRyZXNzZXMgd2l0aCBkdW1teSBhZGRyZXNzXG4gICAgICAgIGh0bWwgPSBodG1sLnJlcGxhY2UoLzUzMDBcXHMqS2luZ3NcXHMqSGlnaHdheVxccypCcm9va2x5bltePF0qL2dpLCBkdW1teUFkZHJlc3MpXG4gICAgICAgIGh0bWwgPSBodG1sLnJlcGxhY2UoL0Jyb29rbHluLFxccypOWVxccyoxMTIzNC9naSwgJ05ldyBZb3JrLCBOWSAxMDAwMScpXG4gICAgICAgIGh0bWwgPSBodG1sLnJlcGxhY2UoLzEwMDBcXHMqQnJvYWR3YXksXFxzKkJyb29rbHluLFxccypOWVxccyoxMTIxMS9naSwgZHVtbXlBZGRyZXNzKVxuICAgICAgICBcbiAgICAgICAgLy8gUmVwbGFjZSBjb250YWN0IGluZm8gaW4gdGV4dCBjb250ZW50XG4gICAgICAgIGNvbnN0IHRlbXBEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICB0ZW1wRGl2LmlubmVySFRNTCA9IGh0bWxcbiAgICAgICAgdGVtcERpdi5xdWVyeVNlbGVjdG9yQWxsKCcqJykuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgICBpZiAoZWwudGV4dENvbnRlbnQpIHtcbiAgICAgICAgICAgIGxldCB0ZXh0ID0gZWwudGV4dENvbnRlbnRcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsVGV4dCA9IHRleHRcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gUmVwbGFjZSBwaG9uZSBudW1iZXJzXG4gICAgICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKC9cXCgyMTJcXClcXHMqMzAxLTc2MTUvZ2ksIGR1bW15UGhvbmUpXG4gICAgICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKC8yMTItMzAxLTc2MTUvZ2ksIGR1bW15UGhvbmUpXG4gICAgICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKC9cXCgyMTJcXClcXHMqMzAxXFxzKjc2MTUvZ2ksIGR1bW15UGhvbmUpXG4gICAgICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKC8yMTJcXHMqMzAxXFxzKjc2MTUvZ2ksIGR1bW15UGhvbmUpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFJlcGxhY2UgZW1haWxzXG4gICAgICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKC9pbmZvQGFsbHVyZWRpZ2l0YWxcXC5uZXQvZ2ksIGR1bW15RW1haWwpXG4gICAgICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKC9bYS16QS1aMC05Ll8lKy1dK0BhbGx1cmVkaWdpdGFsXFwubmV0L2dpLCBkdW1teUVtYWlsKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBSZXBsYWNlIGFkZHJlc3Nlc1xuICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgvNTMwMFxccypLaW5nc1xccypIaWdod2F5L2dpLCAnMTIzIEJ1c2luZXNzIFN0cmVldCwgU3VpdGUgMTAwJylcbiAgICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoL0Jyb29rbHluLFxccypOWVxccyoxMTIzNC9naSwgJ05ldyBZb3JrLCBOWSAxMDAwMScpXG4gICAgICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKC8xMDAwXFxzKkJyb2Fkd2F5LFxccypCcm9va2x5bixcXHMqTllcXHMqMTEyMTEvZ2ksIGR1bW15QWRkcmVzcylcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHRleHQgIT09IG9yaWdpbmFsVGV4dCAmJiBlbC5jaGlsZE5vZGVzLmxlbmd0aCA9PT0gMSAmJiBlbC5jaGlsZE5vZGVzWzBdLm5vZGVUeXBlID09PSAzKSB7XG4gICAgICAgICAgICAgIGVsLnRleHRDb250ZW50ID0gdGV4dC50cmltKClcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGV4dCAhPT0gb3JpZ2luYWxUZXh0KSB7XG4gICAgICAgICAgICAgIC8vIEZvciBlbGVtZW50cyB3aXRoIGNoaWxkcmVuLCByZXBsYWNlIGluIGRpcmVjdCB0ZXh0IG5vZGVzXG4gICAgICAgICAgICAgIGNvbnN0IGRpcmVjdFRleHROb2RlcyA9IEFycmF5LmZyb20oZWwuY2hpbGROb2RlcykuZmlsdGVyKG5vZGUgPT4gbm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUpXG4gICAgICAgICAgICAgIGRpcmVjdFRleHROb2Rlcy5mb3JFYWNoKHRleHROb2RlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGV4dE5vZGUudGV4dENvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAgIGxldCBub2RlVGV4dCA9IHRleHROb2RlLnRleHRDb250ZW50XG4gICAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbE5vZGVUZXh0ID0gbm9kZVRleHRcbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgbm9kZVRleHQgPSBub2RlVGV4dC5yZXBsYWNlKC9cXCgyMTJcXClcXHMqMzAxLTc2MTUvZ2ksIGR1bW15UGhvbmUpXG4gICAgICAgICAgICAgICAgICBub2RlVGV4dCA9IG5vZGVUZXh0LnJlcGxhY2UoLzIxMi0zMDEtNzYxNS9naSwgZHVtbXlQaG9uZSlcbiAgICAgICAgICAgICAgICAgIG5vZGVUZXh0ID0gbm9kZVRleHQucmVwbGFjZSgvaW5mb0BhbGx1cmVkaWdpdGFsXFwubmV0L2dpLCBkdW1teUVtYWlsKVxuICAgICAgICAgICAgICAgICAgbm9kZVRleHQgPSBub2RlVGV4dC5yZXBsYWNlKC81MzAwXFxzKktpbmdzXFxzKkhpZ2h3YXkvZ2ksICcxMjMgQnVzaW5lc3MgU3RyZWV0LCBTdWl0ZSAxMDAnKVxuICAgICAgICAgICAgICAgICAgbm9kZVRleHQgPSBub2RlVGV4dC5yZXBsYWNlKC9Ccm9va2x5bixcXHMqTllcXHMqMTEyMzQvZ2ksICdOZXcgWW9yaywgTlkgMTAwMDEnKVxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICBpZiAobm9kZVRleHQgIT09IG9yaWdpbmFsTm9kZVRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dE5vZGUudGV4dENvbnRlbnQgPSBub2RlVGV4dFxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIFxuICAgICAgICAvLyBBbHNvIHJlcGxhY2UgaW4gaHJlZiBhdHRyaWJ1dGVzICh0ZWw6IGFuZCBtYWlsdG86IGxpbmtzKSBhbmQgcmVtb3ZlIEdvb2dsZSBNYXBzIGxpbmtzXG4gICAgICAgIHRlbXBEaXYucXVlcnlTZWxlY3RvckFsbCgnYVtocmVmXScpLmZvckVhY2goKGEpID0+IHtcbiAgICAgICAgICBjb25zdCBocmVmID0gYS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSB8fCAnJ1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFJlbW92ZSBHb29nbGUgTWFwcyBsaW5rc1xuICAgICAgICAgIGlmIChocmVmICYmIChcbiAgICAgICAgICAgIGhyZWYuaW5jbHVkZXMoJ21hcHMuZ29vZ2xlLmNvbScpIHx8XG4gICAgICAgICAgICBocmVmLmluY2x1ZGVzKCdtYXBzLmdvb2dsZWFwaXMuY29tJykgfHxcbiAgICAgICAgICAgIGhyZWYuaW5jbHVkZXMoJ2dvb2dsZS5jb20vbWFwcycpIHx8XG4gICAgICAgICAgICBocmVmLmluY2x1ZGVzKCdnb28uZ2wvbWFwcycpIHx8XG4gICAgICAgICAgICBocmVmLmluY2x1ZGVzKCdtYXBzLmFwcC5nb28uZ2wnKSB8fFxuICAgICAgICAgICAgaHJlZi50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdmaW5kIHVzIG9uIGdvb2dsZSBtYXAnKSB8fFxuICAgICAgICAgICAgaHJlZi50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdmaW5kIHVzIG9uIG1hcCcpIHx8XG4gICAgICAgICAgICBocmVmLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ291ciBsb2NhdGlvbicpIHx8XG4gICAgICAgICAgICBocmVmLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2dldCBkaXJlY3Rpb25zJykgfHxcbiAgICAgICAgICAgIChocmVmLmluY2x1ZGVzKCdxPScpICYmIChocmVmLmluY2x1ZGVzKCdCcm9va2x5bicpIHx8IGhyZWYuaW5jbHVkZXMoJzUzMDAnKSB8fCBocmVmLmluY2x1ZGVzKCdLaW5ncyBIaWdod2F5JykpKVxuICAgICAgICAgICkpIHtcbiAgICAgICAgICAgIGEucmVtb3ZlQXR0cmlidXRlKCdocmVmJylcbiAgICAgICAgICAgIGNvbnN0IGh0bWxFbCA9IGEgYXMgSFRNTEVsZW1lbnRcbiAgICAgICAgICAgIGh0bWxFbC5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnXG4gICAgICAgICAgICBodG1sRWwuc3R5bGUuY3Vyc29yID0gJ2RlZmF1bHQnXG4gICAgICAgICAgICBodG1sRWwuc3R5bGUudGV4dERlY29yYXRpb24gPSAnbm9uZSdcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoaHJlZi5zdGFydHNXaXRoKCd0ZWw6JykpIHtcbiAgICAgICAgICAgIGEuc2V0QXR0cmlidXRlKCdocmVmJywgYHRlbDoke2R1bW15UGhvbmUucmVwbGFjZSgvXFxzL2csICcnKS5yZXBsYWNlKC9bKCldL2csICcnKS5yZXBsYWNlKC8tL2csICcnKX1gKVxuICAgICAgICAgIH0gZWxzZSBpZiAoaHJlZi5zdGFydHNXaXRoKCdtYWlsdG86JykgJiYgaHJlZi5pbmNsdWRlcygnYWxsdXJlZGlnaXRhbC5uZXQnKSkge1xuICAgICAgICAgICAgYS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBgbWFpbHRvOiR7ZHVtbXlFbWFpbH1gKVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB0ZW1wRGl2LmlubmVySFRNTFxuICAgICAgfVxuXG4gICAgICAvLyBTZXQgYm9keSBjb250ZW50IC0gZml4IGFzc2V0IFVSTHMgZmlyc3QsIHRoZW4gcmVwbGFjZSBicmFuZGluZywgdGhlbiByZW1vdmUgY29udGFjdCBpbmZvXG4gICAgICAvLyBGaXJzdCwgZml4IGFsbCBhc3NldCBVUkxzIGluIHRoZSBib2R5IEhUTUwgc3RyaW5nIChCRUZPUkUgYW55IHRleHQgcmVwbGFjZW1lbnQpXG4gICAgICBsZXQgYm9keUh0bWwgPSBib2R5LmlubmVySFRNTFxuICAgICAgXG4gICAgICAvLyBGaXggVVJMcyBpbiBkYXRhLXNldHRpbmdzIGF0dHJpYnV0ZXMgKEpTT04gc3RyaW5ncykgLSBDUklUSUNBTDogTXVzdCBiZSBkb25lIGZpcnN0XG4gICAgICBib2R5SHRtbCA9IGJvZHlIdG1sLnJlcGxhY2UoL2RhdGEtc2V0dGluZ3M9XCIoW15cIl0qKVwiL2dpLCAobWF0Y2gsIGpzb25TdHIpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBEZWNvZGUgSFRNTCBlbnRpdGllcyBwcm9wZXJseVxuICAgICAgICAgIGNvbnN0IGRlY29kZWQgPSBqc29uU3RyXG4gICAgICAgICAgICAucmVwbGFjZSgvJmFtcDsvZywgJyYnKSAgLy8gTXVzdCBkZWNvZGUgJmFtcDsgZmlyc3RcbiAgICAgICAgICAgIC5yZXBsYWNlKC8mcXVvdDsvZywgJ1wiJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC8mbHQ7L2csICc8JylcbiAgICAgICAgICAgIC5yZXBsYWNlKC8mZ3Q7L2csICc+JylcbiAgICAgICAgICAgIC5yZXBsYWNlKC8mIzM5Oy9nLCBcIidcIilcbiAgICAgICAgICAgIC5yZXBsYWNlKC8mI3gyNzsvZywgXCInXCIpXG4gICAgICAgICAgXG4gICAgICAgICAgLy8gVHJ5IHRvIHBhcnNlIEpTT04gdG8gdmFsaWRhdGUgc3RydWN0dXJlXG4gICAgICAgICAgbGV0IHBhcnNlZDogYW55ID0gbnVsbFxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBwYXJzZWQgPSBKU09OLnBhcnNlKGRlY29kZWQpXG4gICAgICAgICAgfSBjYXRjaCAocGFyc2VFcnJvcikge1xuICAgICAgICAgICAgLy8gSWYgSlNPTiBpcyBpbnZhbGlkLCBqdXN0IGZpeCBVUkxzIGluIHRoZSByYXcgc3RyaW5nIHdpdGhvdXQgcGFyc2luZ1xuICAgICAgICAgICAgbGV0IGZpeGVkID0ganNvblN0ci5yZXBsYWNlKC9odHRwcz86XFwvXFwvKFteXCJcXC9dK1xcLik/KGFsbHVyZWRpZ2l0YWx8cmltYWx3ZWIpXFwubmV0KFteXCJdKikvZ2ksICh1cmxNYXRjaCwgc3ViZG9tYWluLCBkb21haW4sIHBhdGgpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgdXJsVG9GaXggPSBkb21haW4gPT09ICdyaW1hbHdlYicgXG4gICAgICAgICAgICAgICAgPyB1cmxNYXRjaC5yZXBsYWNlKC9yaW1hbHdlYlxcLm5ldC9naSwgJ2FsbHVyZWRpZ2l0YWwubmV0JylcbiAgICAgICAgICAgICAgICA6IHVybE1hdGNoXG4gICAgICAgICAgICAgIGNvbnN0IGZpeGVkVXJsID0gZml4QXNzZXRVcmwodXJsVG9GaXgpXG4gICAgICAgICAgICAgIC8vIEVzY2FwZSB0aGUgZml4ZWQgVVJMIHByb3Blcmx5IGZvciBKU09OXG4gICAgICAgICAgICAgIHJldHVybiBmaXhlZFVybC5yZXBsYWNlKC9cXFxcL2csICdcXFxcXFxcXCcpLnJlcGxhY2UoL1wiL2csICdcXFxcXCInKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHJldHVybiBgZGF0YS1zZXR0aW5ncz1cIiR7Zml4ZWR9XCJgXG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIElmIEpTT04gaXMgdmFsaWQsIHJlY3Vyc2l2ZWx5IGZpeCBVUkxzIGluIGFsbCBzdHJpbmcgdmFsdWVzXG4gICAgICAgICAgY29uc3QgZml4VXJsc0luT2JqZWN0ID0gKG9iajogYW55KTogYW55ID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAvLyBGaXggVVJMcyBpbiBzdHJpbmcgdmFsdWVzXG4gICAgICAgICAgICAgIHJldHVybiBvYmoucmVwbGFjZSgvaHR0cHM/OlxcL1xcLyhbXlwiXFwvXStcXC4pPyhhbGx1cmVkaWdpdGFsfHJpbWFsd2ViKVxcLm5ldChbXlwiXSopL2dpLCAodXJsTWF0Y2gsIHN1YmRvbWFpbiwgZG9tYWluLCBwYXRoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXJsVG9GaXggPSBkb21haW4gPT09ICdyaW1hbHdlYicgXG4gICAgICAgICAgICAgICAgICA/IHVybE1hdGNoLnJlcGxhY2UoL3JpbWFsd2ViXFwubmV0L2dpLCAnYWxsdXJlZGlnaXRhbC5uZXQnKVxuICAgICAgICAgICAgICAgICAgOiB1cmxNYXRjaFxuICAgICAgICAgICAgICAgIHJldHVybiBmaXhBc3NldFVybCh1cmxUb0ZpeClcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICAgICAgICAgIHJldHVybiBvYmoubWFwKGZpeFVybHNJbk9iamVjdClcbiAgICAgICAgICAgIH0gZWxzZSBpZiAob2JqICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGZpeGVkOiBhbnkgPSB7fVxuICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICAgICAgICAgICAgICBmaXhlZFtrZXldID0gZml4VXJsc0luT2JqZWN0KG9ialtrZXldKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBmaXhlZFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG9ialxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBSZXBsYWNlIGhvbWUgcGFnZSBoZXJvIHNsaWRlc2hvdyB3aXRoIEFib3V0IFVzIGJhbm5lciBpbWFnZVxuICAgICAgICAgIGlmIChwYXJzZWQuYmFja2dyb3VuZF9iYWNrZ3JvdW5kID09PSAnc2xpZGVzaG93JyAmJiBwYXJzZWQuYmFja2dyb3VuZF9zbGlkZXNob3dfZ2FsbGVyeSAmJiBBcnJheS5pc0FycmF5KHBhcnNlZC5iYWNrZ3JvdW5kX3NsaWRlc2hvd19nYWxsZXJ5KSkge1xuICAgICAgICAgICAgLy8gUmVwbGFjZSBzbGlkZXNob3cgZ2FsbGVyeSB3aXRoIHNpbmdsZSBhYm91dC1iYW5uZXIgaW1hZ2VcbiAgICAgICAgICAgIHBhcnNlZC5iYWNrZ3JvdW5kX3NsaWRlc2hvd19nYWxsZXJ5ID0gW3tcbiAgICAgICAgICAgICAgaWQ6IDM5MyxcbiAgICAgICAgICAgICAgdXJsOiAnaHR0cHM6Ly9hbGx1cmVkaWdpdGFsLm5ldC93cC1jb250ZW50L3VwbG9hZHMvMjAyMi8xMi9hYm91dC1iYW5uZXIucG5nJ1xuICAgICAgICAgICAgfV1cbiAgICAgICAgICAgIC8vIENoYW5nZSB0byBjbGFzc2ljIGJhY2tncm91bmQgaW5zdGVhZCBvZiBzbGlkZXNob3dcbiAgICAgICAgICAgIHBhcnNlZC5iYWNrZ3JvdW5kX2JhY2tncm91bmQgPSAnY2xhc3NpYydcbiAgICAgICAgICAgIHBhcnNlZC5iYWNrZ3JvdW5kX2ltYWdlID0ge1xuICAgICAgICAgICAgICB1cmw6ICdodHRwczovL2FsbHVyZWRpZ2l0YWwubmV0L3dwLWNvbnRlbnQvdXBsb2Fkcy8yMDIyLzEyL2Fib3V0LWJhbm5lci5wbmcnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIEFsc28gZml4IGNsYXNzaWMgYmFja2dyb3VuZCBpbWFnZXNcbiAgICAgICAgICBpZiAocGFyc2VkLmJhY2tncm91bmRfYmFja2dyb3VuZCA9PT0gJ2NsYXNzaWMnICYmIHBhcnNlZC5iYWNrZ3JvdW5kX2ltYWdlICYmIHBhcnNlZC5iYWNrZ3JvdW5kX2ltYWdlLnVybCkge1xuICAgICAgICAgICAgcGFyc2VkLmJhY2tncm91bmRfaW1hZ2UudXJsID0gZml4VXJsc0luT2JqZWN0KHBhcnNlZC5iYWNrZ3JvdW5kX2ltYWdlLnVybClcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3QgZml4ZWRPYmogPSBmaXhVcmxzSW5PYmplY3QocGFyc2VkKVxuICAgICAgICAgIGNvbnN0IGZpeGVkSnNvbiA9IEpTT04uc3RyaW5naWZ5KGZpeGVkT2JqKVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIFJlLWVuY29kZSBmb3IgSFRNTCBhdHRyaWJ1dGUgKHByb3Blcmx5IGVzY2FwZSlcbiAgICAgICAgICBjb25zdCByZUVuY29kZWQgPSBmaXhlZEpzb25cbiAgICAgICAgICAgIC5yZXBsYWNlKC8mL2csICcmYW1wOycpICAvLyBNdXN0IGVuY29kZSAmIGZpcnN0XG4gICAgICAgICAgICAucmVwbGFjZSgvXCIvZywgJyZxdW90OycpXG4gICAgICAgICAgICAucmVwbGFjZSgvJy9nLCAnJiMzOTsnKVxuICAgICAgICAgICAgLnJlcGxhY2UoLzwvZywgJyZsdDsnKVxuICAgICAgICAgICAgLnJlcGxhY2UoLz4vZywgJyZndDsnKVxuICAgICAgICAgIFxuICAgICAgICAgIHJldHVybiBgZGF0YS1zZXR0aW5ncz1cIiR7cmVFbmNvZGVkfVwiYFxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gSWYgYW55dGhpbmcgZmFpbHMsIHJldHVybiBvcmlnaW5hbCB0byBwcmV2ZW50IGJyZWFraW5nIHRoZSBwYWdlXG4gICAgICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gcHJvY2VzcyBkYXRhLXNldHRpbmdzIGF0dHJpYnV0ZTonLCBlKVxuICAgICAgICAgIHJldHVybiBtYXRjaFxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgXG4gICAgICAvLyBGaXggVVJMcyBpbiBzcmMgYXR0cmlidXRlcyAocHJlc2VydmUgZXhhY3QgVVJMIGZvcm1hdClcbiAgICAgIGJvZHlIdG1sID0gYm9keUh0bWwucmVwbGFjZSgvc3JjPVwiKFteXCJdKmFsbHVyZWRpZ2l0YWxcXC5uZXRbXlwiXSopXCIvZ2ksIChtYXRjaCwgdXJsKSA9PiB7XG4gICAgICAgIGNvbnN0IGZpeGVkID0gZml4QXNzZXRVcmwodXJsKVxuICAgICAgICByZXR1cm4gYHNyYz1cIiR7Zml4ZWR9XCJgXG4gICAgICB9KVxuICAgICAgXG4gICAgICAvLyBGaXggVVJMcyBpbiBzcmNzZXQgYXR0cmlidXRlc1xuICAgICAgYm9keUh0bWwgPSBib2R5SHRtbC5yZXBsYWNlKC9zcmNzZXQ9XCIoW15cIl0qKVwiL2dpLCAobWF0Y2gsIHNyY3NldCkgPT4ge1xuICAgICAgICBjb25zdCBmaXhlZFNyY3NldCA9IHNyY3NldC5zcGxpdCgnLCcpLm1hcCgoc3JjOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICBjb25zdCBwYXJ0cyA9IHNyYy50cmltKCkuc3BsaXQoL1xccysvKVxuICAgICAgICAgIGlmIChwYXJ0c1swXSAmJiAocGFydHNbMF0uaW5jbHVkZXMoJ2FsbHVyZWRpZ2l0YWwubmV0JykgfHwgcGFydHNbMF0uaW5jbHVkZXMoJ3JpbWFsd2ViLm5ldCcpKSkge1xuICAgICAgICAgICAgLy8gSWYgYWxyZWFkeSBoYXMgcmltYWx3ZWIubmV0LCBjb252ZXJ0IGJhY2sgdG8gYWxsdXJlZGlnaXRhbC5uZXQgZm9yIGZpbGVuYW1lXG4gICAgICAgICAgICBjb25zdCB1cmxUb0ZpeCA9IHBhcnRzWzBdLmluY2x1ZGVzKCdyaW1hbHdlYi5uZXQnKSBcbiAgICAgICAgICAgICAgPyBwYXJ0c1swXS5yZXBsYWNlKC9yaW1hbHdlYlxcLm5ldC9naSwgJ2FsbHVyZWRpZ2l0YWwubmV0JylcbiAgICAgICAgICAgICAgOiBwYXJ0c1swXVxuICAgICAgICAgICAgcmV0dXJuIGZpeEFzc2V0VXJsKHVybFRvRml4KSArIChwYXJ0c1sxXSA/ICcgJyArIHBhcnRzWzFdIDogJycpXG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBzcmMudHJpbSgpXG4gICAgICAgIH0pLmpvaW4oJywgJylcbiAgICAgICAgcmV0dXJuIGBzcmNzZXQ9XCIke2ZpeGVkU3Jjc2V0fVwiYFxuICAgICAgfSlcbiAgICAgIFxuICAgICAgLy8gRml4IFVSTHMgaW4gc3R5bGUgYmFja2dyb3VuZCBpbWFnZXMgKGluY2x1ZGluZyBpbmxpbmUgc3R5bGVzIGluIEhUTUwpXG4gICAgICBib2R5SHRtbCA9IGJvZHlIdG1sLnJlcGxhY2UoL3VybFxcKFsnXCJdPyhbXidcIildKig/OmFsbHVyZWRpZ2l0YWx8cmltYWx3ZWIpXFwubmV0W14nXCIpXSopWydcIl0/XFwpL2dpLCAobWF0Y2gsIHVybCkgPT4ge1xuICAgICAgICAvLyBDb252ZXJ0IHJpbWFsd2ViLm5ldCBiYWNrIHRvIGFsbHVyZWRpZ2l0YWwubmV0IGZvciBmaWxlbmFtZSBsb29rdXBcbiAgICAgICAgY29uc3QgdXJsVG9GaXggPSB1cmwuaW5jbHVkZXMoJ3JpbWFsd2ViLm5ldCcpIFxuICAgICAgICAgID8gdXJsLnJlcGxhY2UoL3JpbWFsd2ViXFwubmV0L2dpLCAnYWxsdXJlZGlnaXRhbC5uZXQnKVxuICAgICAgICAgIDogdXJsXG4gICAgICAgIGNvbnN0IGZpeGVkID0gZml4QXNzZXRVcmwodXJsVG9GaXgpXG4gICAgICAgIHJldHVybiBgdXJsKCcke2ZpeGVkfScpYFxuICAgICAgfSlcbiAgICAgIFxuICAgICAgLy8gQWxzbyBmaXggYmFja2dyb3VuZC1pbWFnZSBpbiBzdHlsZSBhdHRyaWJ1dGVzIGRpcmVjdGx5XG4gICAgICBib2R5SHRtbCA9IGJvZHlIdG1sLnJlcGxhY2UoL2JhY2tncm91bmQtaW1hZ2U6XFxzKnVybFxcKFsnXCJdPyhbXidcIildKig/OmFsbHVyZWRpZ2l0YWx8cmltYWx3ZWIpXFwubmV0W14nXCIpXSopWydcIl0/XFwpL2dpLCAobWF0Y2gsIHVybCkgPT4ge1xuICAgICAgICBjb25zdCB1cmxUb0ZpeCA9IHVybC5pbmNsdWRlcygncmltYWx3ZWIubmV0JykgXG4gICAgICAgICAgPyB1cmwucmVwbGFjZSgvcmltYWx3ZWJcXC5uZXQvZ2ksICdhbGx1cmVkaWdpdGFsLm5ldCcpXG4gICAgICAgICAgOiB1cmxcbiAgICAgICAgY29uc3QgZml4ZWQgPSBmaXhBc3NldFVybCh1cmxUb0ZpeClcbiAgICAgICAgcmV0dXJuIGBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJyR7Zml4ZWR9JylgXG4gICAgICB9KVxuICAgICAgXG4gICAgICAvLyBBbHNvIGZpeCBhbnkgcmltYWx3ZWIubmV0IFVSTHMgdGhhdCBtaWdodCBoYXZlIGJlZW4gcmVwbGFjZWQgaW4gSFRNTFxuICAgICAgYm9keUh0bWwgPSBib2R5SHRtbC5yZXBsYWNlKC9zcmM9XCIoW15cIl0qcmltYWx3ZWJcXC5uZXRbXlwiXSopXCIvZ2ksIChtYXRjaCwgdXJsKSA9PiB7XG4gICAgICAgIC8vIENvbnZlcnQgYmFjayB0byBhbGx1cmVkaWdpdGFsLm5ldCBmb3IgZmlsZW5hbWVcbiAgICAgICAgY29uc3QgdXJsVG9GaXggPSB1cmwucmVwbGFjZSgvcmltYWx3ZWJcXC5uZXQvZ2ksICdhbGx1cmVkaWdpdGFsLm5ldCcpXG4gICAgICAgIGNvbnN0IGZpeGVkID0gZml4QXNzZXRVcmwodXJsVG9GaXgpXG4gICAgICAgIHJldHVybiBgc3JjPVwiJHtmaXhlZH1cImBcbiAgICAgIH0pXG4gICAgICBcbiAgICAgIC8vIE5vdyByZXBsYWNlIGJyYW5kaW5nICh0aGlzIHdvbid0IGFmZmVjdCBhbHJlYWR5LWZpeGVkIFVSTHMpXG4gICAgICBsZXQgY2xlYW5lZEh0bWwgPSByZXBsYWNlQnJhbmRpbmcoYm9keUh0bWwpXG4gICAgICBjbGVhbmVkSHRtbCA9IHJlcGxhY2VDb250YWN0SW5mbyhjbGVhbmVkSHRtbClcbiAgICAgIFxuICAgICAgLy8gTW9kaWZ5IGhvbWVwYWdlIGhlYWRpbmdzIHRvIGF2b2lkIGNvcHlyaWdodCAoc2ltaWxhciBidXQgZGlmZmVyZW50IHdvcmRpbmcpXG4gICAgICBjb25zdCBtb2RpZnlIb21lcGFnZUhlYWRpbmdzID0gKGh0bWw6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gICAgICAgIGNvbnN0IHRlbXBEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICB0ZW1wRGl2LmlubmVySFRNTCA9IGh0bWxcbiAgICAgICAgXG4gICAgICAgIC8vIEhlYWRpbmcgcmVwbGFjZW1lbnRzIChzaW1pbGFyIG1lYW5pbmcsIGRpZmZlcmVudCB3b3JkaW5nKVxuICAgICAgICBjb25zdCBoZWFkaW5nUmVwbGFjZW1lbnRzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge1xuICAgICAgICAgICdMZXQgVXMgSGVscCBZb3UnOiAnV2VcXCdyZSBIZXJlIHRvIEFzc2lzdCBZb3UnLFxuICAgICAgICAgICdHZXQgYSBUYWlsb3JlZCBBcHByb2FjaCB3aXRoIG91ciBEaWdpdGFsIE1hcmtldGluZyBBZ2VuY3kgaW4gQnJvb2tseW4nOiAnRXhwZXJpZW5jZSBDdXN0b21pemVkIFNvbHV0aW9ucyB3aXRoIG91ciBEaWdpdGFsIE1hcmtldGluZyBBZ2VuY3kgaW4gTmV3IFlvcmsnLFxuICAgICAgICAgICdHZXQgYSBUYWlsb3JlZCBBcHByb2FjaCB3aXRoIG91ciBEaWdpdGFsIE1hcmtldGluZyBBZ2VuY3kgaW4gQnJvb2tseW4gTlknOiAnRXhwZXJpZW5jZSBDdXN0b21pemVkIFNvbHV0aW9ucyB3aXRoIG91ciBEaWdpdGFsIE1hcmtldGluZyBBZ2VuY3kgaW4gTmV3IFlvcmsnLFxuICAgICAgICAgICdQcm92aWRpbmcgSW5ub3ZhdGl2ZSBEaWdpdGFsIFNvbHV0aW9ucyBmb3IgQ2xpZW50cyBzaW5jZSAyMDEwJzogJ0RlbGl2ZXJpbmcgQ3V0dGluZy1FZGdlIERpZ2l0YWwgU29sdXRpb25zIGZvciBCdXNpbmVzc2VzIHNpbmNlIDIwMTUnLFxuICAgICAgICAgICdBIEdsaW1wc2UgaW50byB0aGUgQnJhbmRzIFRoYXQgQmVjYW1lIFN1Y2Nlc3NmdWwgd2l0aCBVcyc6ICdEaXNjb3ZlciB0aGUgQ29tcGFuaWVzIFRoYXQgQWNoaWV2ZWQgU3VjY2VzcyB3aXRoIFVzJyxcbiAgICAgICAgICAnT3VyIFdvcmtpbmcgUGhpbG9zb3BoeSc6ICdPdXIgQXBwcm9hY2ggdG8gU3VjY2VzcycsXG4gICAgICAgICAgJ1NFTyAtIFR1cm4gWW91ciBXZWIgVHJhZmZpYyBJbnRvIFByb2ZpdHMgd2l0aCBTRU8nOiAnU0VPIC0gVHJhbnNmb3JtIFlvdXIgV2Vic2l0ZSBWaXNpdG9ycyBJbnRvIFJldmVudWUgd2l0aCBTRU8nLFxuICAgICAgICAgICdVbmxlYXNoIFlvdXIgQnVzaW5lc3NcXCdzIERpZ2l0YWwgUG90ZW50aWFsIHdpdGggT3VyIFNlcnZpY2VzJzogJ1VubG9jayBZb3VyIENvbXBhbnlcXCdzIERpZ2l0YWwgR3Jvd3RoIHdpdGggT3VyIFNlcnZpY2VzJyxcbiAgICAgICAgICAnV0UgU1BFQ0lBTElaRSBJTic6ICdPVVIgRVhQRVJUSVNFIElOQ0xVREVTJyxcbiAgICAgICAgICAnSG93IE91ciBEaWdpdGFsIE1hcmtldGluZyBDcmVhdGVzIGEgU3Ryb25nIEltcGFjdCc6ICdIb3cgT3VyIERpZ2l0YWwgTWFya2V0aW5nIERyaXZlcyBQb3dlcmZ1bCBSZXN1bHRzJyxcbiAgICAgICAgICAnVGhpbmsgQmlnXFxuUGxhbiBTbWFydFxcbkV4ZWN1dGUgRmxhd2xlc3NseSc6ICdEcmVhbSBCaWdcXG5TdHJhdGVnaXplIFdpc2VseVxcbkRlbGl2ZXIgRXhjZWxsZW5jZSdcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gUmVwbGFjZSBpbiBhbGwgaGVhZGluZyBlbGVtZW50c1xuICAgICAgICB0ZW1wRGl2LnF1ZXJ5U2VsZWN0b3JBbGwoJ2gxLCBoMiwgaDMsIGg0LCBoNSwgaDYsIC5lbGVtZW50b3ItaGVhZGluZy10aXRsZSwgLmhhLWdyYWRpZW50LWhlYWRpbmcsIC5lcC1oZWFkaW5nJykuZm9yRWFjaCgoaGVhZGluZykgPT4ge1xuICAgICAgICAgIGlmIChoZWFkaW5nLnRleHRDb250ZW50KSB7XG4gICAgICAgICAgICBsZXQgdGV4dCA9IGhlYWRpbmcudGV4dENvbnRlbnQudHJpbSgpXG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbFRleHQgPSB0ZXh0XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIENoZWNrIGZvciBleGFjdCBtYXRjaGVzIGZpcnN0XG4gICAgICAgICAgICBpZiAoaGVhZGluZ1JlcGxhY2VtZW50c1t0ZXh0XSkge1xuICAgICAgICAgICAgICBoZWFkaW5nLnRleHRDb250ZW50ID0gaGVhZGluZ1JlcGxhY2VtZW50c1t0ZXh0XVxuICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHBhcnRpYWwgbWF0Y2hlcyBhbmQgcmVwbGFjZVxuICAgICAgICAgICAgZm9yIChjb25zdCBbb3JpZ2luYWwsIHJlcGxhY2VtZW50XSBvZiBPYmplY3QuZW50cmllcyhoZWFkaW5nUmVwbGFjZW1lbnRzKSkge1xuICAgICAgICAgICAgICBpZiAodGV4dC5pbmNsdWRlcyhvcmlnaW5hbCkpIHtcbiAgICAgICAgICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKG9yaWdpbmFsLCByZXBsYWNlbWVudClcbiAgICAgICAgICAgICAgICBpZiAodGV4dCAhPT0gb3JpZ2luYWxUZXh0KSB7XG4gICAgICAgICAgICAgICAgICBoZWFkaW5nLnRleHRDb250ZW50ID0gdGV4dFxuICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBcbiAgICAgICAgLy8gQWxzbyByZXBsYWNlIGluIGRhdGEgYXR0cmlidXRlcyB0aGF0IG1pZ2h0IGNvbnRhaW4gaGVhZGluZyB0ZXh0IChsaWtlIGFuaW1hdGVkIGhlYWRsaW5lcylcbiAgICAgICAgdGVtcERpdi5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zZXR0aW5nc10nKS5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHNldHRpbmdzID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXNldHRpbmdzJylcbiAgICAgICAgICBpZiAoc2V0dGluZ3MgJiYgc2V0dGluZ3MuaW5jbHVkZXMoJ3JvdGF0aW5nX3RleHQnKSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgY29uc3QgZGVjb2RlZCA9IHNldHRpbmdzXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoLyZhbXA7L2csICcmJylcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvJnF1b3Q7L2csICdcIicpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoLyZsdDsvZywgJzwnKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8mZ3Q7L2csICc+JylcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvJiMzOTsvZywgXCInXCIpXG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKGRlY29kZWQpXG4gICAgICAgICAgICAgIGlmIChwYXJzZWQucm90YXRpbmdfdGV4dCkge1xuICAgICAgICAgICAgICAgIGxldCByb3RhdGluZ1RleHQgPSBwYXJzZWQucm90YXRpbmdfdGV4dFxuICAgICAgICAgICAgICAgIGlmIChyb3RhdGluZ1RleHQuaW5jbHVkZXMoJ1RoaW5rIEJpZycpKSB7XG4gICAgICAgICAgICAgICAgICByb3RhdGluZ1RleHQgPSByb3RhdGluZ1RleHQucmVwbGFjZSgvVGhpbmsgQmlnW1xcc1xcbl0qUGxhbiBTbWFydFtcXHNcXG5dKkV4ZWN1dGUgRmxhd2xlc3NseS9naSwgJ0RyZWFtIEJpZ1xcblN0cmF0ZWdpemUgV2lzZWx5XFxuRGVsaXZlciBFeGNlbGxlbmNlJylcbiAgICAgICAgICAgICAgICAgIHBhcnNlZC5yb3RhdGluZ190ZXh0ID0gcm90YXRpbmdUZXh0XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGZpeGVkSnNvbiA9IEpTT04uc3RyaW5naWZ5KHBhcnNlZClcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHJlRW5jb2RlZCA9IGZpeGVkSnNvblxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvJi9nLCAnJmFtcDsnKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXCIvZywgJyZxdW90OycpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8nL2csICcmIzM5OycpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC88L2csICcmbHQ7JylcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLz4vZywgJyZndDsnKVxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtc2V0dGluZ3MnLCByZUVuY29kZWQpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIC8vIFNpbGVudGx5IGNvbnRpbnVlIGlmIEpTT04gcGFyc2luZyBmYWlsc1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB0ZW1wRGl2LmlubmVySFRNTFxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBDaGVjayBpZiB0aGlzIGlzIHRoZSBob21lcGFnZSAoYnkgY2hlY2tpbmcgVVJMIG9yIHNwZWNpZmljIGhvbWVwYWdlIGNvbnRlbnQpXG4gICAgICBjb25zdCBpc0hvbWVwYWdlID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgKFxuICAgICAgICB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgPT09ICcvJyB8fCBcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lID09PSAnJyB8fFxuICAgICAgICBib2R5SHRtbC5pbmNsdWRlcygnR2V0IGEgVGFpbG9yZWQgQXBwcm9hY2gnKSB8fFxuICAgICAgICBib2R5SHRtbC5pbmNsdWRlcygnV2VsY29tZSB0bycpICYmIGJvZHlIdG1sLmluY2x1ZGVzKCdCcmVha2luZyBUaHJvdWdoJylcbiAgICAgIClcbiAgICAgIFxuICAgICAgLy8gT25seSBtb2RpZnkgaGVhZGluZ3Mgb24gaG9tZXBhZ2VcbiAgICAgIGlmIChpc0hvbWVwYWdlKSB7XG4gICAgICAgIGNsZWFuZWRIdG1sID0gbW9kaWZ5SG9tZXBhZ2VIZWFkaW5ncyhjbGVhbmVkSHRtbClcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29udGFpbmVyUmVmLmN1cnJlbnQuaW5uZXJIVE1MID0gY2xlYW5lZEh0bWxcbiAgICAgIFxuICAgICAgLy8gUmVtb3ZlIGVsZW1lbnRvci1pbnZpc2libGUgY2xhc3MgZnJvbSBmb290ZXIgZWxlbWVudHMgc28gdGhleSBzaG93IGltbWVkaWF0ZWx5XG4gICAgICBpZiAoY29udGFpbmVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY29uc3QgZm9vdGVyID0gY29udGFpbmVyUmVmLmN1cnJlbnQucXVlcnlTZWxlY3RvcignZm9vdGVyJylcbiAgICAgICAgaWYgKGZvb3Rlcikge1xuICAgICAgICAgIC8vIFJlbW92ZSBpbnZpc2libGUgY2xhc3MgZnJvbSBhbGwgZm9vdGVyIGVsZW1lbnRzXG4gICAgICAgICAgZm9vdGVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5lbGVtZW50b3ItaW52aXNpYmxlJykuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2VsZW1lbnRvci1pbnZpc2libGUnKVxuICAgICAgICAgICAgLy8gQWxzbyBlbnN1cmUgdmlzaWJpbGl0eVxuICAgICAgICAgICAgY29uc3QgaHRtbEVsID0gZWwgYXMgSFRNTEVsZW1lbnRcbiAgICAgICAgICAgIGlmIChodG1sRWwuc3R5bGUpIHtcbiAgICAgICAgICAgICAgaHRtbEVsLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSdcbiAgICAgICAgICAgICAgaHRtbEVsLnN0eWxlLm9wYWNpdHkgPSAnMSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIEFsc28gcmVtb3ZlIGZyb20gZm9vdGVyIHNlY3Rpb25zXG4gICAgICAgICAgZm9vdGVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tjbGFzcyo9XCJlbGVtZW50b3ItaW52aXNpYmxlXCJdJykuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2VsZW1lbnRvci1pbnZpc2libGUnKVxuICAgICAgICAgICAgY29uc3QgaHRtbEVsID0gZWwgYXMgSFRNTEVsZW1lbnRcbiAgICAgICAgICAgIGlmIChodG1sRWwuc3R5bGUpIHtcbiAgICAgICAgICAgICAgaHRtbEVsLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSdcbiAgICAgICAgICAgICAgaHRtbEVsLnN0eWxlLm9wYWNpdHkgPSAnMSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEhhbmRsZSBtaXNzaW5nIGltYWdlcyAtIGFkZCBwbGFjZWhvbGRlcnMgZm9yIGFsbCBtaXNzaW5nIGltYWdlc1xuICAgICAgaWYgKGNvbnRhaW5lclJlZi5jdXJyZW50KSB7XG4gICAgICAgIC8vIEhlbHBlciBmdW5jdGlvbiB0byBjcmVhdGUgYSBuaWNlIHBsYWNlaG9sZGVyIFNWR1xuICAgICAgICBjb25zdCBjcmVhdGVQbGFjZWhvbGRlclN2ZyA9ICh3aWR0aDogbnVtYmVyIHwgc3RyaW5nLCBoZWlnaHQ6IG51bWJlciB8IHN0cmluZykgPT4ge1xuICAgICAgICAgIGNvbnN0IHcgPSB0eXBlb2Ygd2lkdGggPT09ICdzdHJpbmcnID8gcGFyc2VJbnQod2lkdGgpIHx8IDQwMCA6IHdpZHRoIHx8IDQwMFxuICAgICAgICAgIGNvbnN0IGggPSB0eXBlb2YgaGVpZ2h0ID09PSAnc3RyaW5nJyA/IHBhcnNlSW50KGhlaWdodCkgfHwgMzAwIDogaGVpZ2h0IHx8IDMwMFxuICAgICAgICAgIHJldHVybiBgZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIke3d9XCIgaGVpZ2h0PVwiJHtofVwiJTNFJTNDcmVjdCB3aWR0aD1cIjEwMCUyNVwiIGhlaWdodD1cIjEwMCUyNVwiIGZpbGw9XCIlMjNmNWY1ZjVcIi8lM0UlM0NyZWN0IHg9XCIwXCIgeT1cIjBcIiB3aWR0aD1cIjEwMCUyNVwiIGhlaWdodD1cIjEwMCUyNVwiIGZpbGw9XCJ1cmwoJTIzZ3JhZGllbnQpXCIvJTNFJTNDZGVmcyUzRSUzQ2xpbmVhckdyYWRpZW50IGlkPVwiZ3JhZGllbnRcIiB4MT1cIjAlMjVcIiB5MT1cIjAlMjVcIiB4Mj1cIjEwMCUyNVwiIHkyPVwiMTAwJTI1XCIlM0UlM0NzdG9wIG9mZnNldD1cIjAlMjVcIiBzdHlsZT1cInN0b3AtY29sb3I6JTIzZjBmMGYwO3N0b3Atb3BhY2l0eToxXCIgLyUzRSUzQ3N0b3Agb2Zmc2V0PVwiMTAwJTI1XCIgc3R5bGU9XCJzdG9wLWNvbG9yOiUyM2UwZTBlMDtzdG9wLW9wYWNpdHk6MVwiIC8lM0UlM0MvbGluZWFyR3JhZGllbnQlM0UlM0MvZGVmcyUzRSUzQ3RleHQgeD1cIjUwJTI1XCIgeT1cIjUwJTI1XCIgdGV4dC1hbmNob3I9XCJtaWRkbGVcIiBkeT1cIi4zZW1cIiBmb250LWZhbWlseT1cIkFyaWFsLCBzYW5zLXNlcmlmXCIgZm9udC1zaXplPVwiMTZcIiBmaWxsPVwiJTIzOTk5XCIlM0VJbWFnZSUzQy90ZXh0JTNFJTNDL3N2ZyUzRWBcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gSGFuZGxlIGltZyB0YWdzIC0gYWRkIGVycm9yIGhhbmRsZXJzIGZvciBtaXNzaW5nIGltYWdlc1xuICAgICAgICBjb250YWluZXJSZWYuY3VycmVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbWdbc3JjXScpLmZvckVhY2goKGltZykgPT4ge1xuICAgICAgICAgIGNvbnN0IGltZ0VsZW1lbnQgPSBpbWcgYXMgSFRNTEltYWdlRWxlbWVudFxuICAgICAgICAgIGNvbnN0IHNyYyA9IGltZ0VsZW1lbnQuZ2V0QXR0cmlidXRlKCdzcmMnKSB8fCAnJ1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFNraXAgaWYgYWxyZWFkeSBhIHBsYWNlaG9sZGVyXG4gICAgICAgICAgaWYgKHNyYy5pbmNsdWRlcygnZGF0YTppbWFnZS9zdmcreG1sJykpIHJldHVyblxuICAgICAgICAgIFxuICAgICAgICAgIC8vIEFkZCBlcnJvciBoYW5kbGVyIGZvciBtaXNzaW5nIGltYWdlc1xuICAgICAgICAgIGltZ0VsZW1lbnQub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gT25seSByZXBsYWNlIGlmIGl0J3MgYSBsb2NhbCBhc3NldCB0aGF0IGZhaWxlZFxuICAgICAgICAgICAgaWYgKChzcmMuaW5jbHVkZXMoJy9hc3NldHMvJykgfHwgc3JjLmluY2x1ZGVzKCdhbGx1cmVkaWdpdGFsLm5ldCcpIHx8IHNyYy5pbmNsdWRlcygncmltYWx3ZWIubmV0JykpICYmICFzcmMuaW5jbHVkZXMoJ2RhdGE6JykpIHtcbiAgICAgICAgICAgICAgLy8gR2V0IG9yaWdpbmFsIGRpbWVuc2lvbnNcbiAgICAgICAgICAgICAgY29uc3Qgd2lkdGggPSBpbWdFbGVtZW50LmdldEF0dHJpYnV0ZSgnd2lkdGgnKSB8fCBpbWdFbGVtZW50Lm9mZnNldFdpZHRoIHx8IDQwMFxuICAgICAgICAgICAgICBjb25zdCBoZWlnaHQgPSBpbWdFbGVtZW50LmdldEF0dHJpYnV0ZSgnaGVpZ2h0JykgfHwgaW1nRWxlbWVudC5vZmZzZXRIZWlnaHQgfHwgMzAwXG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBDcmVhdGUgcGxhY2Vob2xkZXIgU1ZHXG4gICAgICAgICAgICAgIGNvbnN0IHBsYWNlaG9sZGVyU3ZnID0gY3JlYXRlUGxhY2Vob2xkZXJTdmcod2lkdGgsIGhlaWdodClcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIFByZXZlbnQgaW5maW5pdGUgbG9vcFxuICAgICAgICAgICAgICBpbWdFbGVtZW50Lm9uZXJyb3IgPSBudWxsXG4gICAgICAgICAgICAgIGltZ0VsZW1lbnQuc3JjID0gcGxhY2Vob2xkZXJTdmdcbiAgICAgICAgICAgICAgaW1nRWxlbWVudC5zdHlsZS5vYmplY3RGaXQgPSAnY29udGFpbidcbiAgICAgICAgICAgICAgaW1nRWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI2Y1ZjVmNSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gUHJlLWNoZWNrIGltYWdlIGV4aXN0ZW5jZSBmb3IgbG9jYWwgYXNzZXRzXG4gICAgICAgICAgaWYgKChzcmMuaW5jbHVkZXMoJy9hc3NldHMvJykgfHwgc3JjLmluY2x1ZGVzKCdhbGx1cmVkaWdpdGFsLm5ldCcpIHx8IHNyYy5pbmNsdWRlcygncmltYWx3ZWIubmV0JykpICYmICFzcmMuaW5jbHVkZXMoJ2RhdGE6JykpIHtcbiAgICAgICAgICAgIGNvbnN0IHRlc3RJbWcgPSBuZXcgSW1hZ2UoKVxuICAgICAgICAgICAgdGVzdEltZy5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gaW1nRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3dpZHRoJykgfHwgaW1nRWxlbWVudC5vZmZzZXRXaWR0aCB8fCA0MDBcbiAgICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gaW1nRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpIHx8IGltZ0VsZW1lbnQub2Zmc2V0SGVpZ2h0IHx8IDMwMFxuICAgICAgICAgICAgICBjb25zdCBwbGFjZWhvbGRlclN2ZyA9IGNyZWF0ZVBsYWNlaG9sZGVyU3ZnKHdpZHRoLCBoZWlnaHQpXG4gICAgICAgICAgICAgIGltZ0VsZW1lbnQuc3JjID0gcGxhY2Vob2xkZXJTdmdcbiAgICAgICAgICAgICAgaW1nRWxlbWVudC5zdHlsZS5vYmplY3RGaXQgPSAnY29udGFpbidcbiAgICAgICAgICAgICAgaW1nRWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI2Y1ZjVmNSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRlc3RJbWcuc3JjID0gc3JjXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBcbiAgICAgICAgLy8gSGFuZGxlIGJhY2tncm91bmQgaW1hZ2VzIC0gYWRkIGZhbGxiYWNrIGZvciBtaXNzaW5nIGJhY2tncm91bmQgaW1hZ2VzXG4gICAgICAgIGNvbnRhaW5lclJlZi5jdXJyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tzdHlsZSo9XCJiYWNrZ3JvdW5kLWltYWdlXCJdLCAuYmR0LXNjcm9sbC1pbWFnZScpLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgICAgY29uc3QgZWxlbWVudCA9IGVsIGFzIEhUTUxFbGVtZW50XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBpcyB0aGUgV2VsY29tZSBzZWN0aW9uIGRlc2t0b3AgaW1hZ2VcbiAgICAgICAgICBjb25zdCBpc1dlbGNvbWVTZWN0aW9uID0gZWxlbWVudC5jbG9zZXN0KCdzZWN0aW9uLCBkaXYnKT8ucXVlcnlTZWxlY3RvcignaDIsIGgxJyk/LnRleHRDb250ZW50Py5pbmNsdWRlcygnV2VsY29tZSB0bycpIHx8IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmNsb3Nlc3QoJ3NlY3Rpb24sIGRpdicpPy5xdWVyeVNlbGVjdG9yKCdoMiwgaDEnKT8udGV4dENvbnRlbnQ/LmluY2x1ZGVzKCdCcmVha2luZyBUaHJvdWdoJykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jbG9zZXN0KCdzZWN0aW9uLCBkaXYnKT8ucXVlcnlTZWxlY3RvcignaDIsIGgxJyk/LnRleHRDb250ZW50Py5pbmNsdWRlcygnRGlnaXRhbCBJbXBhc3NlJylcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBEaXJlY3RseSByZXBsYWNlIFdlbGNvbWUgc2VjdGlvbiBkZXNrdG9wIGltYWdlIHdpdGggTUFDQk9PS1xuICAgICAgICAgIGlmIChpc1dlbGNvbWVTZWN0aW9uICYmIGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdiZHQtc2Nyb2xsLWltYWdlJykpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlc2t0b3BJbWFnZXMgPSBbXG4gICAgICAgICAgICAgICcvYXNzZXRzL2FsbHVyZWRpZ2l0YWwubmV0X3dwLWNvbnRlbnRfdXBsb2Fkc18yMDIzXzAxX01BQ0JPT0sucG5nJyxcbiAgICAgICAgICAgICAgJy9hc3NldHMvYWxsdXJlZGlnaXRhbC5uZXRfd3AtY29udGVudF91cGxvYWRzXzIwMjNfMDFfaW1hYy5wbmcnLFxuICAgICAgICAgICAgICAnL2Fzc2V0cy9hbGx1cmVkaWdpdGFsLm5ldF93cC1jb250ZW50X3VwbG9hZHNfMjAyM18wMV9JUEFELVZFUi5wbmcnLFxuICAgICAgICAgICAgICAnL2Fzc2V0cy9hbGx1cmVkaWdpdGFsLm5ldF93cC1jb250ZW50X3VwbG9hZHNfMjAyM18wMV9yZXNwb25zaXZlLWRldmljZXMucG5nJ1xuICAgICAgICAgICAgXVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBUcnkgdG8gbG9hZCBNQUNCT09LIGltYWdlIGZpcnN0XG4gICAgICAgICAgICBsZXQgaW1hZ2VJbmRleCA9IDBcbiAgICAgICAgICAgIGNvbnN0IHRyeU5leHRJbWFnZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgaWYgKGltYWdlSW5kZXggPCBkZXNrdG9wSW1hZ2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRlc3RJbWcgPSBuZXcgSW1hZ2UoKVxuICAgICAgICAgICAgICAgIHRlc3RJbWcub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoJyR7ZGVza3RvcEltYWdlc1tpbWFnZUluZGV4XX0nKWBcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZFNpemUgPSAnY292ZXInXG4gICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbiA9ICdjZW50ZXInXG4gICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLmJhY2tncm91bmRSZXBlYXQgPSAnbm8tcmVwZWF0J1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0ZXN0SW1nLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIGltYWdlSW5kZXgrK1xuICAgICAgICAgICAgICAgICAgdHJ5TmV4dEltYWdlKClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGVzdEltZy5zcmMgPSBkZXNrdG9wSW1hZ2VzW2ltYWdlSW5kZXhdXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeU5leHRJbWFnZSgpXG4gICAgICAgICAgICByZXR1cm4gLy8gU2tpcCB0aGUgcmVzdCBmb3IgdGhpcyBlbGVtZW50XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIEZvciBvdGhlciBiYWNrZ3JvdW5kIGltYWdlcywgY2hlY2sgaWYgdGhleSBleGlzdFxuICAgICAgICAgIGNvbnN0IHN0eWxlID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3N0eWxlJykgfHwgJydcbiAgICAgICAgICBjb25zdCBiZ01hdGNoID0gc3R5bGUubWF0Y2goL2JhY2tncm91bmQtaW1hZ2U6XFxzKnVybFxcKFsnXCJdPyhbXidcIildKylbJ1wiXT9cXCkvaSlcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoYmdNYXRjaCAmJiBiZ01hdGNoWzFdKSB7XG4gICAgICAgICAgICBjb25zdCBiZ1VybCA9IGJnTWF0Y2hbMV1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gUHJlbG9hZCBiYWNrZ3JvdW5kIGltYWdlIHRvIGNoZWNrIGlmIGl0IGV4aXN0c1xuICAgICAgICAgICAgaWYgKChiZ1VybC5pbmNsdWRlcygnL2Fzc2V0cy8nKSB8fCBiZ1VybC5pbmNsdWRlcygnYWxsdXJlZGlnaXRhbC5uZXQnKSB8fCBiZ1VybC5pbmNsdWRlcygncmltYWx3ZWIubmV0JykpICYmICFiZ1VybC5pbmNsdWRlcygnZGF0YTonKSkge1xuICAgICAgICAgICAgICBjb25zdCB0ZXN0SW1nID0gbmV3IEltYWdlKClcbiAgICAgICAgICAgICAgdGVzdEltZy5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgaW1hZ2UgZmFpbHMgdG8gbG9hZCwgc2V0IGEgZmFsbGJhY2sgZ3JhZGllbnQgYmFja2dyb3VuZFxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTdHlsZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdzdHlsZScpIHx8ICcnXG4gICAgICAgICAgICAgICAgY29uc3QgZmFsbGJhY2tTdHlsZSA9IGN1cnJlbnRTdHlsZS5yZXBsYWNlKFxuICAgICAgICAgICAgICAgICAgL2JhY2tncm91bmQtaW1hZ2U6XFxzKnVybFxcKFteKV0rXFwpL2dpLFxuICAgICAgICAgICAgICAgICAgJ2JhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICM2MzY2ZjEgMCUsICM4YjVjZjYgNTAlLCAjZjVmNWY1IDEwMCUpOyBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmNWY1J1xuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBmYWxsYmFja1N0eWxlKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRlc3RJbWcuc3JjID0gYmdVcmxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIFxuICAgICAgICAvLyBBbHNvIGhhbmRsZSBkYXRhLXNldHRpbmdzIGJhY2tncm91bmQgc2xpZGVzaG93IGltYWdlcyAtIEZPUkNFIGRpc3BsYXlcbiAgICAgICAgLy8gRmlyc3QsIGZpbmQgaG9tZXBhZ2UgaGVybyBzZWN0aW9uIGFuZCBmb3JjZSBhYm91dC1iYW5uZXIgaW1hZ2VcbiAgICAgICAgY29uc3QgaG9tZXBhZ2VIZXJvU2VjdGlvbiA9IGNvbnRhaW5lclJlZi5jdXJyZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNldHRpbmdzKj1cImJhY2tncm91bmRfc2xpZGVzaG93X2dhbGxlcnlcIl0sIFtkYXRhLXNldHRpbmdzKj1cImFib3V0LWJhbm5lclwiXScpXG4gICAgICAgIGlmIChob21lcGFnZUhlcm9TZWN0aW9uKSB7XG4gICAgICAgICAgY29uc3QgaGVyb0VsID0gaG9tZXBhZ2VIZXJvU2VjdGlvbiBhcyBIVE1MRWxlbWVudFxuICAgICAgICAgIGxldCBhYm91dEJhbm5lclVybCA9IGZpeEFzc2V0VXJsKCdodHRwczovL2FsbHVyZWRpZ2l0YWwubmV0L3dwLWNvbnRlbnQvdXBsb2Fkcy8yMDIyLzEyL2Fib3V0LWJhbm5lci5wbmcnKVxuICAgICAgICAgIC8vIEFkZCBjYWNoZS1idXN0aW5nIHBhcmFtZXRlciB0byBmb3JjZSByZWxvYWRcbiAgICAgICAgICBhYm91dEJhbm5lclVybCArPSAoYWJvdXRCYW5uZXJVcmwuaW5jbHVkZXMoJz8nKSA/ICcmJyA6ICc/JykgKyAndj0nICsgRGF0ZS5ub3coKVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIEZvcmNlIHJlbW92ZSBzbGlkZXNob3dcbiAgICAgICAgICBjb25zdCBzbGlkZXNob3cgPSBoZXJvRWwucXVlcnlTZWxlY3RvcignLmVsZW1lbnRvci1iYWNrZ3JvdW5kLXNsaWRlc2hvdycpXG4gICAgICAgICAgaWYgKHNsaWRlc2hvdykge1xuICAgICAgICAgICAgc2xpZGVzaG93LnJlbW92ZSgpXG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIEZvcmNlIHNldCBiYWNrZ3JvdW5kIGltYWdlIC0gbWVkaXVtIHNpemUgKDQ1JSkgd2l0aCBjYWNoZS1idXN0aW5nXG4gICAgICAgICAgaGVyb0VsLnN0eWxlLnNldFByb3BlcnR5KCdiYWNrZ3JvdW5kLWltYWdlJywgYHVybCgnJHthYm91dEJhbm5lclVybH0nKWAsICdpbXBvcnRhbnQnKVxuICAgICAgICAgIGhlcm9FbC5zdHlsZS5zZXRQcm9wZXJ0eSgnYmFja2dyb3VuZC1zaXplJywgJzQ1JScsICdpbXBvcnRhbnQnKVxuICAgICAgICAgIGhlcm9FbC5zdHlsZS5zZXRQcm9wZXJ0eSgnYmFja2dyb3VuZC1wb3NpdGlvbicsICdjZW50ZXInLCAnaW1wb3J0YW50JylcbiAgICAgICAgICBoZXJvRWwuc3R5bGUuc2V0UHJvcGVydHkoJ2JhY2tncm91bmQtcmVwZWF0JywgJ25vLXJlcGVhdCcsICdpbXBvcnRhbnQnKVxuICAgICAgICAgIGhlcm9FbC5zdHlsZS5zZXRQcm9wZXJ0eSgnbWluLWhlaWdodCcsICc1MDBweCcsICdpbXBvcnRhbnQnKVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIFByZWxvYWQgaW1hZ2Ugd2l0aCBjYWNoZS1idXN0aW5nXG4gICAgICAgICAgY29uc3QgaGVyb0ltZyA9IG5ldyBJbWFnZSgpXG4gICAgICAgICAgaGVyb0ltZy5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGhlcm9FbC5zdHlsZS5zZXRQcm9wZXJ0eSgnYmFja2dyb3VuZC1pbWFnZScsIGB1cmwoJyR7YWJvdXRCYW5uZXJVcmx9JylgLCAnaW1wb3J0YW50JylcbiAgICAgICAgICAgIGhlcm9FbC5zdHlsZS5zZXRQcm9wZXJ0eSgnYmFja2dyb3VuZC1zaXplJywgJzQ1JScsICdpbXBvcnRhbnQnKVxuICAgICAgICAgIH1cbiAgICAgICAgICBoZXJvSW1nLnNyYyA9IGFib3V0QmFubmVyVXJsXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnRhaW5lclJlZi5jdXJyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNldHRpbmdzXScpLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2V0dGluZ3MnKVxuICAgICAgICAgIGlmIChzZXR0aW5ncyAmJiAoc2V0dGluZ3MuaW5jbHVkZXMoJ2JhY2tncm91bmRfc2xpZGVzaG93X2dhbGxlcnknKSB8fCBzZXR0aW5ncy5pbmNsdWRlcygnYmFja2dyb3VuZF9pbWFnZScpKSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgLy8gRGVjb2RlIEhUTUwgZW50aXRpZXMgcHJvcGVybHlcbiAgICAgICAgICAgICAgY29uc3QgZGVjb2RlZCA9IHNldHRpbmdzXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoLyZhbXA7L2csICcmJykgIC8vIE11c3QgZGVjb2RlICZhbXA7IGZpcnN0XG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoLyZxdW90Oy9nLCAnXCInKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8mbHQ7L2csICc8JylcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvJmd0Oy9nLCAnPicpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoLyYjMzk7L2csIFwiJ1wiKVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZShkZWNvZGVkKVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gSGFuZGxlIGhlcm8gc2VjdGlvbiBiYWNrZ3JvdW5kIGltYWdlcyAtIGVuc3VyZSB0aGV5IGRpc3BsYXkgcHJvcGVybHlcbiAgICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGVsIGFzIEhUTUxFbGVtZW50XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBIYW5kbGUgY2xhc3NpYyBiYWNrZ3JvdW5kIGltYWdlc1xuICAgICAgICAgICAgICBpZiAocGFyc2VkLmJhY2tncm91bmRfYmFja2dyb3VuZCA9PT0gJ2NsYXNzaWMnICYmIHBhcnNlZC5iYWNrZ3JvdW5kX2ltYWdlICYmIHBhcnNlZC5iYWNrZ3JvdW5kX2ltYWdlLnVybCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJnVXJsID0gZml4QXNzZXRVcmwocGFyc2VkLmJhY2tncm91bmRfaW1hZ2UudXJsKVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIEZvcmNlIGJhY2tncm91bmQgaW1hZ2UgdG8gZGlzcGxheSBpbW1lZGlhdGVseVxuICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgnJHtiZ1VybH0nKWBcbiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLmJhY2tncm91bmRTaXplID0gJ2NvdmVyJ1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uID0gJ2NlbnRlcidcbiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLmJhY2tncm91bmRSZXBlYXQgPSAnbm8tcmVwZWF0J1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUubWluSGVpZ2h0ID0gJzUwMHB4JyAvLyBFbnN1cmUgc2VjdGlvbiBoYXMgaGVpZ2h0XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gUHJlbG9hZCBhbmQgdmVyaWZ5IGltYWdlIGxvYWRzXG4gICAgICAgICAgICAgICAgY29uc3QgdGVzdEltZyA9IG5ldyBJbWFnZSgpXG4gICAgICAgICAgICAgICAgdGVzdEltZy5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgnJHtiZ1VybH0nKWBcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUub3BhY2l0eSA9ICcxJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0ZXN0SW1nLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignQmFja2dyb3VuZCBpbWFnZSBmYWlsZWQgdG8gbG9hZDonLCBiZ1VybClcbiAgICAgICAgICAgICAgICAgIC8vIFRyeSBhbHRlcm5hdGl2ZSBpbWFnZSBwYXRoc1xuICAgICAgICAgICAgICAgICAgY29uc3QgYWx0VXJsID0gYmdVcmwucmVwbGFjZSgvLVxcZCt4XFxkKy8sICcnKSAvLyBSZW1vdmUgc2l6ZSBzdWZmaXhcbiAgICAgICAgICAgICAgICAgIGlmIChhbHRVcmwgIT09IGJnVXJsKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgnJHthbHRVcmx9JylgXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRlc3RJbWcuc3JjID0gYmdVcmxcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBpcyBob21lcGFnZSBoZXJvIHNlY3Rpb24gKGhhcyBzbGlkZXNob3cgb3IgYWJvdXQtYmFubmVyKVxuICAgICAgICAgICAgICBjb25zdCBpc0hvbWVwYWdlSGVybyA9IChcbiAgICAgICAgICAgICAgICAocGFyc2VkLmJhY2tncm91bmRfYmFja2dyb3VuZCA9PT0gJ3NsaWRlc2hvdycgJiYgcGFyc2VkLmJhY2tncm91bmRfc2xpZGVzaG93X2dhbGxlcnkpIHx8XG4gICAgICAgICAgICAgICAgKHBhcnNlZC5iYWNrZ3JvdW5kX2JhY2tncm91bmQgPT09ICdjbGFzc2ljJyAmJiBwYXJzZWQuYmFja2dyb3VuZF9pbWFnZSAmJiBwYXJzZWQuYmFja2dyb3VuZF9pbWFnZS51cmwgJiYgcGFyc2VkLmJhY2tncm91bmRfaW1hZ2UudXJsLmluY2x1ZGVzKCdhYm91dC1iYW5uZXInKSlcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gSWYgdGhpcyBpcyB0aGUgaG9tZSBwYWdlIGhlcm8gc2VjdGlvbiwgcmVwbGFjZSB3aXRoIGFib3V0LWJhbm5lclxuICAgICAgICAgICAgICBpZiAoaXNIb21lcGFnZUhlcm8pIHtcbiAgICAgICAgICAgICAgICBsZXQgYWJvdXRCYW5uZXJVcmwgPSBmaXhBc3NldFVybCgnaHR0cHM6Ly9hbGx1cmVkaWdpdGFsLm5ldC93cC1jb250ZW50L3VwbG9hZHMvMjAyMi8xMi9hYm91dC1iYW5uZXIucG5nJylcbiAgICAgICAgICAgICAgICAvLyBBZGQgY2FjaGUtYnVzdGluZyBwYXJhbWV0ZXIgdG8gZm9yY2UgcmVsb2FkXG4gICAgICAgICAgICAgICAgYWJvdXRCYW5uZXJVcmwgKz0gKGFib3V0QmFubmVyVXJsLmluY2x1ZGVzKCc/JykgPyAnJicgOiAnPycpICsgJ3Y9JyArIERhdGUubm93KClcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgc2xpZGVzaG93IGVsZW1lbnRzIGlmIHRoZXkgZXhpc3RcbiAgICAgICAgICAgICAgICBjb25zdCBzbGlkZXNob3cgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50b3ItYmFja2dyb3VuZC1zbGlkZXNob3cnKVxuICAgICAgICAgICAgICAgIGlmIChzbGlkZXNob3cpIHtcbiAgICAgICAgICAgICAgICAgIHNsaWRlc2hvdy5yZW1vdmUoKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBGb3JjZSBzZXQgc3RhdGljIGJhY2tncm91bmQgaW1hZ2UgLSBtZWRpdW0gc2l6ZSAoNDUlIHNpemUpIHdpdGggY2FjaGUtYnVzdGluZ1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJ2JhY2tncm91bmQtaW1hZ2UnLCBgdXJsKCcke2Fib3V0QmFubmVyVXJsfScpYCwgJ2ltcG9ydGFudCcpXG4gICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnYmFja2dyb3VuZC1zaXplJywgJzQ1JScsICdpbXBvcnRhbnQnKVxuICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJ2JhY2tncm91bmQtcG9zaXRpb24nLCAncmlnaHQgY2VudGVyJywgJ2ltcG9ydGFudCcpXG4gICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnYmFja2dyb3VuZC1yZXBlYXQnLCAnbm8tcmVwZWF0JywgJ2ltcG9ydGFudCcpXG4gICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnbWluLWhlaWdodCcsICc1MDBweCcsICdpbXBvcnRhbnQnKVxuICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJ29wYWNpdHknLCAnMScsICdpbXBvcnRhbnQnKVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIEFsc28gc2V0IG9uIHRoZSBzZWN0aW9uIGVsZW1lbnQgZGlyZWN0bHlcbiAgICAgICAgICAgICAgICBjb25zdCBzZWN0aW9uID0gZWxlbWVudC5jbG9zZXN0KCcuZWxlbWVudG9yLXNlY3Rpb24nKVxuICAgICAgICAgICAgICAgIGlmIChzZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBzZWN0aW9uRWwgPSBzZWN0aW9uIGFzIEhUTUxFbGVtZW50XG4gICAgICAgICAgICAgICAgICBzZWN0aW9uRWwuc3R5bGUuc2V0UHJvcGVydHkoJ2JhY2tncm91bmQtaW1hZ2UnLCBgdXJsKCcke2Fib3V0QmFubmVyVXJsfScpYCwgJ2ltcG9ydGFudCcpXG4gICAgICAgICAgICAgICAgICBzZWN0aW9uRWwuc3R5bGUuc2V0UHJvcGVydHkoJ2JhY2tncm91bmQtc2l6ZScsICc0NSUnLCAnaW1wb3J0YW50JylcbiAgICAgICAgICAgICAgICAgIHNlY3Rpb25FbC5zdHlsZS5zZXRQcm9wZXJ0eSgnYmFja2dyb3VuZC1wb3NpdGlvbicsICdyaWdodCBjZW50ZXInLCAnaW1wb3J0YW50JylcbiAgICAgICAgICAgICAgICAgIHNlY3Rpb25FbC5zdHlsZS5zZXRQcm9wZXJ0eSgnYmFja2dyb3VuZC1yZXBlYXQnLCAnbm8tcmVwZWF0JywgJ2ltcG9ydGFudCcpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIFByZWxvYWQgaW1hZ2UgYW5kIHZlcmlmeSB3aXRoIGNhY2hlLWJ1c3RpbmdcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXN0SW1nID0gbmV3IEltYWdlKClcbiAgICAgICAgICAgICAgICB0ZXN0SW1nLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnYmFja2dyb3VuZC1pbWFnZScsIGB1cmwoJyR7YWJvdXRCYW5uZXJVcmx9JylgLCAnaW1wb3J0YW50JylcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJ2JhY2tncm91bmQtc2l6ZScsICc0NSUnLCAnaW1wb3J0YW50JylcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJ29wYWNpdHknLCAnMScsICdpbXBvcnRhbnQnKVxuICAgICAgICAgICAgICAgICAgaWYgKHNlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VjdGlvbkVsID0gc2VjdGlvbiBhcyBIVE1MRWxlbWVudFxuICAgICAgICAgICAgICAgICAgICBzZWN0aW9uRWwuc3R5bGUuc2V0UHJvcGVydHkoJ2JhY2tncm91bmQtaW1hZ2UnLCBgdXJsKCcke2Fib3V0QmFubmVyVXJsfScpYCwgJ2ltcG9ydGFudCcpXG4gICAgICAgICAgICAgICAgICAgIHNlY3Rpb25FbC5zdHlsZS5zZXRQcm9wZXJ0eSgnYmFja2dyb3VuZC1zaXplJywgJzQ1JScsICdpbXBvcnRhbnQnKVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0ZXN0SW1nLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignQWJvdXQgYmFubmVyIGltYWdlIGZhaWxlZCB0byBsb2FkOicsIGFib3V0QmFubmVyVXJsKVxuICAgICAgICAgICAgICAgICAgLy8gVHJ5IGFsdGVybmF0aXZlIHBhdGggd2l0aG91dCBzaXplIHN1ZmZpeFxuICAgICAgICAgICAgICAgICAgY29uc3QgYWx0VXJsID0gYWJvdXRCYW5uZXJVcmwucmVwbGFjZSgvLVxcZCt4XFxkKy8sICcnKVxuICAgICAgICAgICAgICAgICAgaWYgKGFsdFVybCAhPT0gYWJvdXRCYW5uZXJVcmwpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnYmFja2dyb3VuZC1pbWFnZScsIGB1cmwoJyR7YWx0VXJsfScpYCwgJ2ltcG9ydGFudCcpXG4gICAgICAgICAgICAgICAgICAgIHRlc3RJbWcuc3JjID0gYWx0VXJsXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRlc3RJbWcuc3JjID0gYWJvdXRCYW5uZXJVcmxcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJzZWQuYmFja2dyb3VuZF9iYWNrZ3JvdW5kID09PSAnc2xpZGVzaG93JyAmJiBwYXJzZWQuYmFja2dyb3VuZF9zbGlkZXNob3dfZ2FsbGVyeSAmJiBBcnJheS5pc0FycmF5KHBhcnNlZC5iYWNrZ3JvdW5kX3NsaWRlc2hvd19nYWxsZXJ5KSAmJiBwYXJzZWQuYmFja2dyb3VuZF9zbGlkZXNob3dfZ2FsbGVyeS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIHNsaWRlc2hvdyBiYWNrZ3JvdW5kIGltYWdlcyAtIGVuc3VyZSBmaXJzdCBpbWFnZSBzaG93cyBpbW1lZGlhdGVseVxuICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0SW1hZ2UgPSBwYXJzZWQuYmFja2dyb3VuZF9zbGlkZXNob3dfZ2FsbGVyeVswXVxuICAgICAgICAgICAgICAgIGlmIChmaXJzdEltYWdlICYmIGZpcnN0SW1hZ2UudXJsKSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBmaXJzdEltYWdlVXJsID0gZml4QXNzZXRVcmwoZmlyc3RJbWFnZS51cmwpXG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIC8vIEZvcmNlIGZpcnN0IGltYWdlIGFzIGJhY2tncm91bmQgaW1tZWRpYXRlbHkgKGJlZm9yZSBzbGlkZXNob3cgc3RhcnRzKVxuICAgICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCcke2ZpcnN0SW1hZ2VVcmx9JylgXG4gICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLmJhY2tncm91bmRTaXplID0gJ2NvdmVyJ1xuICAgICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kUG9zaXRpb24gPSAnY2VudGVyJ1xuICAgICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kUmVwZWF0ID0gJ25vLXJlcGVhdCdcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUubWluSGVpZ2h0ID0gJzUwMHB4JyAvLyBFbnN1cmUgc2VjdGlvbiBoYXMgaGVpZ2h0XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIC8vIFZlcmlmeSBmaXJzdCBpbWFnZSBsb2Fkc1xuICAgICAgICAgICAgICAgICAgY29uc3QgZmlyc3RJbWcgPSBuZXcgSW1hZ2UoKVxuICAgICAgICAgICAgICAgICAgZmlyc3RJbWcub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgnJHtmaXJzdEltYWdlVXJsfScpYFxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLm9wYWNpdHkgPSAnMSdcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGZpcnN0SW1nLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdGaXJzdCBzbGlkZXNob3cgaW1hZ2UgZmFpbGVkOicsIGZpcnN0SW1hZ2VVcmwpXG4gICAgICAgICAgICAgICAgICAgIC8vIFRyeSB3aXRob3V0IHNpemUgc3VmZml4XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFsdFVybCA9IGZpcnN0SW1hZ2VVcmwucmVwbGFjZSgvLVxcZCt4XFxkKy8sICcnKVxuICAgICAgICAgICAgICAgICAgICBpZiAoYWx0VXJsICE9PSBmaXJzdEltYWdlVXJsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCcke2FsdFVybH0nKWBcbiAgICAgICAgICAgICAgICAgICAgICBmaXJzdEltZy5zcmMgPSBhbHRVcmxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgZmlyc3RJbWcuc3JjID0gZmlyc3RJbWFnZVVybFxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAvLyBQcmVsb2FkIGFsbCBzbGlkZXNob3cgaW1hZ2VzXG4gICAgICAgICAgICAgICAgICBwYXJzZWQuYmFja2dyb3VuZF9zbGlkZXNob3dfZ2FsbGVyeS5mb3JFYWNoKChpdGVtOiBhbnksIGluZGV4OiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0gJiYgaXRlbS51cmwpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWFnZVVybCA9IGZpeEFzc2V0VXJsKGl0ZW0udXJsKVxuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlc3RJbWcgPSBuZXcgSW1hZ2UoKVxuICAgICAgICAgICAgICAgICAgICAgIHRlc3RJbWcub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJbWFnZSBsb2FkZWQgc3VjY2Vzc2Z1bGx5IC0gdXBkYXRlIGJhY2tncm91bmQgaWYgdGhpcyBpcyBjdXJyZW50IHNsaWRlXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCcke2ltYWdlVXJsfScpYFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB0ZXN0SW1nLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignU2xpZGVzaG93IGltYWdlIGZhaWxlZCB0byBsb2FkOicsIGltYWdlVXJsKVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHJ5IGFsdGVybmF0aXZlIHBhdGhcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFsdFVybCA9IGltYWdlVXJsLnJlcGxhY2UoLy1cXGQreFxcZCsvLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbHRVcmwgIT09IGltYWdlVXJsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRlc3RJbWcuc3JjID0gYWx0VXJsXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIHRlc3RJbWcuc3JjID0gaW1hZ2VVcmxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gcGFyc2UgZGF0YS1zZXR0aW5ncyBmb3IgYmFja2dyb3VuZDonLCBlKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgXG4gICAgICAgIC8vIEZpeCBzbGlkZXNob3cgc2xpZGUgaW1hZ2VzIGRpcmVjdGx5ICh0aGV5IGhhdmUgaW5saW5lIHN0eWxlcylcbiAgICAgICAgY29udGFpbmVyUmVmLmN1cnJlbnQucXVlcnlTZWxlY3RvckFsbCgnLmVsZW1lbnRvci1iYWNrZ3JvdW5kLXNsaWRlc2hvd19fc2xpZGVfX2ltYWdlLCAuc3dpcGVyLXNsaWRlJykuZm9yRWFjaCgoc2xpZGUpID0+IHtcbiAgICAgICAgICBjb25zdCBzbGlkZUVsID0gc2xpZGUgYXMgSFRNTEVsZW1lbnRcbiAgICAgICAgICBjb25zdCBiZ0ltYWdlID0gc2xpZGVFbC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgfHwgc2xpZGVFbC5nZXRBdHRyaWJ1dGUoJ3N0eWxlJylcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoYmdJbWFnZSAmJiBiZ0ltYWdlLmluY2x1ZGVzKCdhbGx1cmVkaWdpdGFsLm5ldCcpKSB7XG4gICAgICAgICAgICAvLyBFeHRyYWN0IFVSTCBmcm9tIHN0eWxlXG4gICAgICAgICAgICBjb25zdCB1cmxNYXRjaCA9IGJnSW1hZ2UubWF0Y2goL3VybFxcKFsnXCJdPyhbXidcIildKylbJ1wiXT9cXCkvKVxuICAgICAgICAgICAgaWYgKHVybE1hdGNoICYmIHVybE1hdGNoWzFdKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGZpeGVkVXJsID0gZml4QXNzZXRVcmwodXJsTWF0Y2hbMV0pXG4gICAgICAgICAgICAgIHNsaWRlRWwuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgnJHtmaXhlZFVybH0nKWBcbiAgICAgICAgICAgICAgc2xpZGVFbC5zdHlsZS5iYWNrZ3JvdW5kU2l6ZSA9ICdjb3ZlcidcbiAgICAgICAgICAgICAgc2xpZGVFbC5zdHlsZS5iYWNrZ3JvdW5kUG9zaXRpb24gPSAnY2VudGVyJ1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gUHJlbG9hZCBpbWFnZVxuICAgICAgICAgICAgICBjb25zdCB0ZXN0SW1nID0gbmV3IEltYWdlKClcbiAgICAgICAgICAgICAgdGVzdEltZy5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBzbGlkZUVsLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoJyR7Zml4ZWRVcmx9JylgXG4gICAgICAgICAgICAgICAgc2xpZGVFbC5zdHlsZS5vcGFjaXR5ID0gJzEnXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdGVzdEltZy5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgLy8gVHJ5IHdpdGhvdXQgc2l6ZSBzdWZmaXhcbiAgICAgICAgICAgICAgICBjb25zdCBhbHRVcmwgPSBmaXhlZFVybC5yZXBsYWNlKC8tXFxkK3hcXGQrLywgJycpXG4gICAgICAgICAgICAgICAgaWYgKGFsdFVybCAhPT0gZml4ZWRVcmwpIHtcbiAgICAgICAgICAgICAgICAgIHNsaWRlRWwuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgnJHthbHRVcmx9JylgXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRlc3RJbWcuc3JjID0gZml4ZWRVcmxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIFxuICAgICAgICAvLyBBbHNvIGNoZWNrIGZvciBoZXJvIHNlY3Rpb24gYnkgY2xhc3MvaWQgYW5kIGZvcmNlIGJhY2tncm91bmQgaW1hZ2VzXG4gICAgICAgIGNvbnRhaW5lclJlZi5jdXJyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5lbGVtZW50b3Itc2VjdGlvbiwgc2VjdGlvbicpLmZvckVhY2goKHNlY3Rpb24pID0+IHtcbiAgICAgICAgICBjb25zdCBzZWN0aW9uRWwgPSBzZWN0aW9uIGFzIEhUTUxFbGVtZW50XG4gICAgICAgICAgY29uc3QgY29tcHV0ZWRTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHNlY3Rpb25FbClcbiAgICAgICAgICBjb25zdCBiZ0ltYWdlID0gY29tcHV0ZWRTdHlsZS5iYWNrZ3JvdW5kSW1hZ2VcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBJZiBzZWN0aW9uIGhhcyBhIGJhY2tncm91bmQgaW1hZ2UgVVJMIHRoYXQgbmVlZHMgZml4aW5nXG4gICAgICAgICAgaWYgKGJnSW1hZ2UgJiYgYmdJbWFnZSAhPT0gJ25vbmUnICYmIGJnSW1hZ2UuaW5jbHVkZXMoJ2FsbHVyZWRpZ2l0YWwubmV0JykpIHtcbiAgICAgICAgICAgIGNvbnN0IHVybE1hdGNoID0gYmdJbWFnZS5tYXRjaCgvdXJsXFwoWydcIl0/KFteJ1wiKV0rKVsnXCJdP1xcKS8pXG4gICAgICAgICAgICBpZiAodXJsTWF0Y2ggJiYgdXJsTWF0Y2hbMV0pIHtcbiAgICAgICAgICAgICAgY29uc3QgZml4ZWRVcmwgPSBmaXhBc3NldFVybCh1cmxNYXRjaFsxXSlcbiAgICAgICAgICAgICAgc2VjdGlvbkVsLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoJyR7Zml4ZWRVcmx9JylgXG4gICAgICAgICAgICAgIHNlY3Rpb25FbC5zdHlsZS5iYWNrZ3JvdW5kU2l6ZSA9ICdjb3ZlcidcbiAgICAgICAgICAgICAgc2VjdGlvbkVsLnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbiA9ICdjZW50ZXInXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICAvLyBOb3cgbG9hZCBzY3JpcHRzIEFGVEVSIGJvZHkgaXMgc2V0IChwcmVzZXJ2ZSBvcmRlcilcbiAgICAgIGNvbnN0IGFsbFNjcmlwdHMgPSBkb2MucXVlcnlTZWxlY3RvckFsbCgnc2NyaXB0JylcbiAgICAgIGNvbnN0IHNjcmlwdFByb21pc2VzOiBQcm9taXNlPHZvaWQ+W10gPSBbXVxuXG4gICAgICBhbGxTY3JpcHRzLmZvckVhY2goKHNjcmlwdCkgPT4ge1xuICAgICAgICBpZiAoc2NyaXB0LnNyYykge1xuICAgICAgICAgIGNvbnN0IHNyYyA9IHNjcmlwdC5nZXRBdHRyaWJ1dGUoJ3NyYycpIHx8ICcnXG4gICAgICAgICAgY29uc3Qgc2NyaXB0SWQgPSBzcmNcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBTa2lwIGV4dGVybmFsIEFQSXMgLSBvbmx5IGxvYWQgbG9jYWwgYXNzZXRzXG4gICAgICAgICAgaWYgKHNyYy5pbmNsdWRlcygnbWFwcy5nb29nbGVhcGlzLmNvbScpIHx8IFxuICAgICAgICAgICAgICBzcmMuaW5jbHVkZXMoJ2dvb2dsZWFwaXMuY29tJykgfHwgXG4gICAgICAgICAgICAgIHNyYy5pbmNsdWRlcygnZ3N0YXRpYy5jb20nKSB8fFxuICAgICAgICAgICAgICBzcmMuaW5jbHVkZXMoJ2dvb2dsZXRhZ21hbmFnZXIuY29tJykgfHxcbiAgICAgICAgICAgICAgc3JjLmluY2x1ZGVzKCdnb29nbGUtYW5hbHl0aWNzLmNvbScpIHx8XG4gICAgICAgICAgICAgIHNyYy5pbmNsdWRlcygnZmFjZWJvb2submV0JykgfHxcbiAgICAgICAgICAgICAgc3JjLmluY2x1ZGVzKCdjbGFyaXR5Lm1zJykgfHxcbiAgICAgICAgICAgICAgc3JjLmluY2x1ZGVzKCdjbGVhbnRhbGsub3JnJykgfHxcbiAgICAgICAgICAgICAgc3JjLmluY2x1ZGVzKCdwZWFybGRpdmVyLmlvJykgfHxcbiAgICAgICAgICAgICAgc3JjLmluY2x1ZGVzKCd1c2Jyb3dzZXJzcGVlZC5jb20nKSB8fFxuICAgICAgICAgICAgICBzcmMuaW5jbHVkZXMoJ3JlY2FwdGNoYScpKSB7XG4gICAgICAgICAgICAvLyBTa2lwIGV4dGVybmFsIEFQSXNcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoIXNjcmlwdHNMb2FkZWRSZWYuY3VycmVudC5oYXMoc2NyaXB0SWQpKSB7XG4gICAgICAgICAgICBjb25zdCBuZXdTY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBPbmx5IGxvYWQgbG9jYWwgYXNzZXRzXG4gICAgICAgICAgICBpZiAoc3JjLmluY2x1ZGVzKCdhbGx1cmVkaWdpdGFsLm5ldCcpIHx8IHNyYy5zdGFydHNXaXRoKCdodHRwJykpIHtcbiAgICAgICAgICAgICAgY29uc3QgZmlsZW5hbWUgPSBnZXRBc3NldEZpbGVuYW1lKHNyYylcbiAgICAgICAgICAgICAgaWYgKGZpbGVuYW1lKSB7XG4gICAgICAgICAgICAgICAgbmV3U2NyaXB0LnNyYyA9IGAvYXNzZXRzLyR7ZmlsZW5hbWV9YFxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFNraXAgaWYgY2FuJ3QgZmluZCBsb2NhbCBhc3NldFxuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBuZXdTY3JpcHQuc3JjID0gc3JjXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIENvcHkgQUxMIGF0dHJpYnV0ZXNcbiAgICAgICAgICAgIEFycmF5LmZyb20oc2NyaXB0LmF0dHJpYnV0ZXMpLmZvckVhY2goKGF0dHIpID0+IHtcbiAgICAgICAgICAgICAgaWYgKGF0dHIubmFtZSAhPT0gJ3NyYycpIHtcbiAgICAgICAgICAgICAgICBuZXdTY3JpcHQuc2V0QXR0cmlidXRlKGF0dHIubmFtZSwgYXR0ci52YWx1ZSlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gSGFuZGxlIGFzeW5jL2RlZmVyXG4gICAgICAgICAgICBpZiAoc2NyaXB0Lmhhc0F0dHJpYnV0ZSgnYXN5bmMnKSkgbmV3U2NyaXB0LmFzeW5jID0gdHJ1ZVxuICAgICAgICAgICAgaWYgKHNjcmlwdC5oYXNBdHRyaWJ1dGUoJ2RlZmVyJykpIG5ld1NjcmlwdC5kZWZlciA9IHRydWVcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgbG9hZFByb21pc2UgPSBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgICBuZXdTY3JpcHQub25sb2FkID0gKCkgPT4gcmVzb2x2ZSgpXG4gICAgICAgICAgICAgIG5ld1NjcmlwdC5vbmVycm9yID0gKCkgPT4gcmVzb2x2ZSgpIC8vIENvbnRpbnVlIGV2ZW4gaWYgc2NyaXB0IGZhaWxzXG4gICAgICAgICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQobmV3U2NyaXB0KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgc2NyaXB0UHJvbWlzZXMucHVzaChsb2FkUHJvbWlzZSlcbiAgICAgICAgICAgIHNjcmlwdHNMb2FkZWRSZWYuY3VycmVudC5hZGQoc2NyaXB0SWQpXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHNjcmlwdC50ZXh0Q29udGVudCkge1xuICAgICAgICAgIC8vIFNraXAgaW5saW5lIHNjcmlwdHMgdGhhdCByZWZlcmVuY2UgZXh0ZXJuYWwgQVBJc1xuICAgICAgICAgIGNvbnN0IHNjcmlwdFRleHQgPSBzY3JpcHQudGV4dENvbnRlbnRcbiAgICAgICAgICBpZiAoc2NyaXB0VGV4dC5pbmNsdWRlcygnZ3RhZycpIHx8IFxuICAgICAgICAgICAgICBzY3JpcHRUZXh0LmluY2x1ZGVzKCdmYnEnKSB8fCBcbiAgICAgICAgICAgICAgc2NyaXB0VGV4dC5pbmNsdWRlcygnY2xhcml0eScpIHx8XG4gICAgICAgICAgICAgIHNjcmlwdFRleHQuaW5jbHVkZXMoJ2RhdGFMYXllcicpIHx8XG4gICAgICAgICAgICAgIHNjcmlwdFRleHQuaW5jbHVkZXMoJ2dvb2dsZScpIHx8XG4gICAgICAgICAgICAgIHNjcmlwdFRleHQuaW5jbHVkZXMoJ21hcHMnKSB8fFxuICAgICAgICAgICAgICBzY3JpcHRUZXh0LmluY2x1ZGVzKCdyZWNhcHRjaGEnKSkge1xuICAgICAgICAgICAgLy8gU2tpcCBhbmFseXRpY3MvdHJhY2tpbmcgc2NyaXB0c1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIElubGluZSBzY3JpcHRzIC0gZXhlY3V0ZSBhZnRlciBET00gaXMgcmVhZHlcbiAgICAgICAgICBjb25zdCBzY3JpcHRJZCA9IHNjcmlwdFRleHQuc3Vic3RyaW5nKDAsIDUwKVxuICAgICAgICAgIGlmICghc2NyaXB0c0xvYWRlZFJlZi5jdXJyZW50LmhhcyhzY3JpcHRJZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1NjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpXG4gICAgICAgICAgICBuZXdTY3JpcHQudGV4dENvbnRlbnQgPSBzY3JpcHRUZXh0XG4gICAgICAgICAgICAvLyBDb3B5IGF0dHJpYnV0ZXNcbiAgICAgICAgICAgIEFycmF5LmZyb20oc2NyaXB0LmF0dHJpYnV0ZXMpLmZvckVhY2goKGF0dHIpID0+IHtcbiAgICAgICAgICAgICAgbmV3U2NyaXB0LnNldEF0dHJpYnV0ZShhdHRyLm5hbWUsIGF0dHIudmFsdWUpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChuZXdTY3JpcHQpXG4gICAgICAgICAgICBzY3JpcHRzTG9hZGVkUmVmLmN1cnJlbnQuYWRkKHNjcmlwdElkKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgLy8gV2FpdCBmb3IgQ1NTIHRvIGxvYWQgZmlyc3QgKGNyaXRpY2FsKSwgdGhlbiBzY3JpcHRzLCB0aGVuIHNob3cgY29udGVudFxuICAgICAgLy8gQ1NTIG11c3QgYmUgZnVsbHkgbG9hZGVkIGJlZm9yZSBzaG93aW5nIGNvbnRlbnQgdG8gcHJldmVudCBicm9rZW4gbGF5b3V0XG4gICAgICBpZiAoc3R5bGVQcm9taXNlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIFdhaXQgZm9yIEFMTCBDU1MgdG8gbG9hZCBmaXJzdFxuICAgICAgICBQcm9taXNlLmFsbChzdHlsZVByb21pc2VzKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAvLyBGb3JjZSBhIHJlZmxvdyB0byBlbnN1cmUgQ1NTIGlzIGFwcGxpZWRcbiAgICAgICAgICBpZiAoY29udGFpbmVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lclJlZi5jdXJyZW50Lm9mZnNldEhlaWdodCAvLyBUcmlnZ2VyIHJlZmxvd1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBXYWl0IGZvciBDU1MgdG8gYmUgZnVsbHkgYXBwbGllZCB0byBET01cbiAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgICAgLy8gTm93IGxvYWQgc2NyaXB0cyBpbiBiYWNrZ3JvdW5kIChub24tYmxvY2tpbmcpXG4gICAgICAgICAgICAgIGlmIChzY3JpcHRQcm9taXNlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgUHJvbWlzZS5hbGwoc2NyaXB0UHJvbWlzZXMpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgLy8gVHJpZ2dlciBET01Db250ZW50TG9hZGVkIGZvciBzY3JpcHRzIHRoYXQgZGVwZW5kIG9uIGl0XG4gICAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2xvYWRpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdET01Db250ZW50TG9hZGVkJykpXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIC8vIFRyaWdnZXIgalF1ZXJ5IHJlYWR5IGlmIGpRdWVyeSBpcyBsb2FkZWRcbiAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiAod2luZG93IGFzIGFueSkualF1ZXJ5KSB7XG4gICAgICAgICAgICAgICAgICAgICh3aW5kb3cgYXMgYW55KS5qUXVlcnkoZG9jdW1lbnQpLnJlYWR5KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBFbGVtZW50b3IgYW5kIG90aGVyIHNjcmlwdHMgd2lsbCBpbml0aWFsaXplXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSkuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgLy8gU2NyaXB0cyBmYWlsZWQgYnV0IGNvbnRpbnVlXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gU2hvdyBjb250ZW50IGFmdGVyIENTUyBpcyBsb2FkZWQgYW5kIGFwcGxpZWRcbiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKVxuICAgICAgICAgICAgICB9LCAxNTApXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAvLyBFdmVuIGlmIENTUyBmYWlscywgd2FpdCBhIGJpdCB0aGVuIHNob3cgY29udGVudFxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKVxuICAgICAgICAgIH0sIDMwMClcbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSBpZiAoc2NyaXB0UHJvbWlzZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyBObyBDU1MgYnV0IGhhcyBzY3JpcHRzXG4gICAgICAgIFByb21pc2UuYWxsKHNjcmlwdFByb21pc2VzKS50aGVuKCgpID0+IHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHNldElzTG9hZGluZyhmYWxzZSlcbiAgICAgICAgICB9LCAxMDApXG4gICAgICAgIH0pLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHNldElzTG9hZGluZyhmYWxzZSlcbiAgICAgICAgICB9LCAyMDApXG4gICAgICAgIH0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBObyBhc3NldHMgdG8gbG9hZCwgd2FpdCBhIGJpdCBmb3IgaW5pdGlhbCByZW5kZXJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKVxuICAgICAgICB9LCAyMDApXG4gICAgICB9XG4gICAgfVxuICB9LCBbaHRtbF0pXG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAge2lzTG9hZGluZyAmJiAoXG4gICAgICAgIDxkaXYgc3R5bGU9e3tcbiAgICAgICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgIGJhY2tncm91bmQ6ICdsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjNjY3ZWVhIDAlLCAjNzY0YmEyIDEwMCUpJyxcbiAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXG4gICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgICAgIHpJbmRleDogOTk5OSxcbiAgICAgICAgICBmb250RmFtaWx5OiAnc3lzdGVtLXVpLCAtYXBwbGUtc3lzdGVtLCBzYW5zLXNlcmlmJ1xuICAgICAgICB9fT5cbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7XG4gICAgICAgICAgICB3aWR0aDogJzgwcHgnLFxuICAgICAgICAgICAgaGVpZ2h0OiAnODBweCcsXG4gICAgICAgICAgICBib3JkZXI6ICc1cHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjMpJyxcbiAgICAgICAgICAgIGJvcmRlclRvcDogJzVweCBzb2xpZCAjZmZmZmZmJyxcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzUwJScsXG4gICAgICAgICAgICBhbmltYXRpb246ICdzcGluIDFzIGxpbmVhciBpbmZpbml0ZScsXG4gICAgICAgICAgICBtYXJnaW5Cb3R0b206ICczMHB4JyxcbiAgICAgICAgICAgIGJveFNoYWRvdzogJzAgNHB4IDIwcHggcmdiYSgwLCAwLCAwLCAwLjIpJ1xuICAgICAgICAgIH19IC8+XG4gICAgICAgICAgPGRpdiBzdHlsZT17e1xuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXG4gICAgICAgICAgICBmb250V2VpZ2h0OiA2MDAsXG4gICAgICAgICAgICBtYXJnaW5Cb3R0b206ICcxMHB4JyxcbiAgICAgICAgICAgIHRleHRTaGFkb3c6ICcwIDJweCAxMHB4IHJnYmEoMCwgMCwgMCwgMC4yKSdcbiAgICAgICAgICB9fT5cbiAgICAgICAgICAgIFJpbWFsd2ViXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBzdHlsZT17e1xuICAgICAgICAgICAgY29sb3I6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOSknLFxuICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcbiAgICAgICAgICAgIGZvbnRXZWlnaHQ6IDQwMFxuICAgICAgICAgIH19PlxuICAgICAgICAgICAgTG9hZGluZy4uLlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxzdHlsZT57YFxuICAgICAgICAgICAgQGtleWZyYW1lcyBzcGluIHtcbiAgICAgICAgICAgICAgMCUgeyB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTsgfVxuICAgICAgICAgICAgICAxMDAlIHsgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIGB9PC9zdHlsZT5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgICAgPGRpdiBcbiAgICAgICAgcmVmPXtjb250YWluZXJSZWZ9IFxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIG9wYWNpdHk6IGlzTG9hZGluZyA/IDAgOiAxLFxuICAgICAgICAgIHRyYW5zaXRpb246ICdvcGFjaXR5IDAuM3MgZWFzZS1pbi1vdXQnXG4gICAgICAgIH19XG4gICAgICAvPlxuICAgIDwvPlxuICApXG59XG5cbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsImdldEFzc2V0RmlsZW5hbWUiLCJ1cmwiLCJ1cmxPYmoiLCJVUkwiLCJwYXRoUGFydHMiLCJwYXRobmFtZSIsInNwbGl0IiwiZmlsdGVyIiwicCIsImxlbmd0aCIsImluY2x1ZGVzIiwiZG9tYWluIiwiaG9zdG5hbWUiLCJyZXBsYWNlIiwiZnVsbFBhdGgiLCJmaWxlbmFtZSIsIlBhZ2VSZW5kZXJlciIsImh0bWwiLCJjb250YWluZXJSZWYiLCJzY3JpcHRzTG9hZGVkUmVmIiwiU2V0Iiwic3R5bGVzTG9hZGVkUmVmIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwiY3VycmVudCIsInBhcnNlciIsIkRPTVBhcnNlciIsImRvYyIsInBhcnNlRnJvbVN0cmluZyIsImhlYWQiLCJxdWVyeVNlbGVjdG9yIiwic3R5bGVQcm9taXNlcyIsImFsbEFzc2V0cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiZWwiLCJocmVmIiwiZ2V0QXR0cmlidXRlIiwicHVzaCIsImFzIiwic3JjIiwic3RhcnRzV2l0aCIsImJvZHkiLCJpbWFnZUNvdW50IiwiZml4ZWRTcmMiLCJzb21lIiwiYSIsImFzc2V0IiwiZG9jdW1lbnQiLCJwcmVsb2FkTGluayIsImNyZWF0ZUVsZW1lbnQiLCJyZWwiLCJjcm9zc09yaWdpbiIsImFwcGVuZENoaWxkIiwidGFnTmFtZSIsInN0eWxlSWQiLCJoYXMiLCJjbG9uZSIsImNsb25lTm9kZSIsInNldEF0dHJpYnV0ZSIsInN0eWxlUHJvbWlzZSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVzb2x2ZWQiLCJyZXNvbHZlT25jZSIsInNldFRpbWVvdXQiLCJvbmxvYWQiLCJvbmVycm9yIiwiYWRkIiwidGV4dENvbnRlbnQiLCJzdWJzdHJpbmciLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJ0aXRsZVRleHQiLCJyZXBsYWNlZFRleHQiLCJ0aXRsZSIsImV4aXN0aW5nVGl0bGUiLCJuZXdUaXRsZSIsInRpdGxlRWwiLCJleGlzdGluZyIsImNvbnRlbnQiLCJyZXBsYWNlZENvbnRlbnQiLCJib2R5Q2xhc3NlcyIsImNsYXNzTmFtZSIsIkFycmF5IiwiZnJvbSIsImF0dHJpYnV0ZXMiLCJhdHRyIiwibmFtZSIsInZhbHVlIiwiY2hlY2tBc3NldEV4aXN0cyIsInBhdGgiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwib2siLCJmaXhBc3NldFVybCIsImZpbGVuYW1lV2l0aG91dFNpemUiLCJvcmlnaW5hbFVybCIsImltZyIsIndlbGNvbWVTZWN0aW9uIiwiY2xvc2VzdCIsImlzV2VsY29tZVNlY3Rpb24iLCJpbWdFbGVtZW50Iiwib3JpZ2luYWxXaWR0aCIsInBhcnNlSW50Iiwib2Zmc2V0V2lkdGgiLCJvcmlnaW5hbEhlaWdodCIsIm9mZnNldEhlaWdodCIsIndpZHRoIiwicm91bmQiLCJoZWlnaHQiLCJjdXJyZW50U3R5bGUiLCJzcmNMb3dlciIsInRvTG93ZXJDYXNlIiwiaXNMb2dvSW1hZ2UiLCJpc0luSGVhZGVyIiwiaXNJbkZvb3RlciIsImhhc0xvZ29DbGFzcyIsInBhcmVudCIsInBhcmVudEVsZW1lbnQiLCJjbGFzc2VzIiwic3R5bGUiLCJhbHQiLCJuZXdMb2dvIiwib3BhY2l0eVN0eWxlIiwiaGVhZGVyUG9zaXRpb25TdHlsZSIsImxpbmsiLCJyZXBsYWNlQ2hpbGQiLCJuZXdTdHlsZSIsIm1hdGNoIiwiZml4ZWQiLCJyZW1vdmVBdHRyaWJ1dGUiLCJsaW5rRWwiLCJwb2ludGVyRXZlbnRzIiwiY3Vyc29yIiwidGV4dERlY29yYXRpb24iLCJkdW1teVBob25lIiwiZHVtbXlFbWFpbCIsImVuZHNXaXRoIiwic2xpY2UiLCJyb3V0ZU1hcCIsImUiLCJwYXRoTWF0Y2giLCJyZXBsYWNlQnJhbmRpbmciLCJ0ZW1wRGl2IiwiaW5uZXJIVE1MIiwid2Fsa2VyIiwiY3JlYXRlVHJlZVdhbGtlciIsIk5vZGVGaWx0ZXIiLCJTSE9XX1RFWFQiLCJub2RlIiwibmV4dE5vZGUiLCJoYXNBdHRyaWJ1dGUiLCJ0ZXh0Iiwib3JpZ2luYWxUZXh0IiwiaGVhZGluZyIsIm5ld1RleHQiLCJjaGlsZHJlbiIsImRpcmVjdFRleHROb2RlcyIsImNoaWxkTm9kZXMiLCJub2RlVHlwZSIsIk5vZGUiLCJURVhUX05PREUiLCJ0ZXh0Tm9kZSIsInJlcGxhY2VkIiwic2NyaXB0IiwianNvbkRhdGEiLCJKU09OIiwicGFyc2UiLCJqc29uU3RyaW5nIiwic3RyaW5naWZ5IiwicmVwbGFjZUluT2JqZWN0Iiwib2JqIiwiaXNBcnJheSIsIm1hcCIsImtleSIsInJlcGxhY2VDb250YWN0SW5mbyIsImR1bW15QWRkcmVzcyIsInRyaW0iLCJub2RlVGV4dCIsIm9yaWdpbmFsTm9kZVRleHQiLCJodG1sRWwiLCJib2R5SHRtbCIsImpzb25TdHIiLCJkZWNvZGVkIiwicGFyc2VkIiwicGFyc2VFcnJvciIsInVybE1hdGNoIiwic3ViZG9tYWluIiwidXJsVG9GaXgiLCJmaXhlZFVybCIsImZpeFVybHNJbk9iamVjdCIsImJhY2tncm91bmRfYmFja2dyb3VuZCIsImJhY2tncm91bmRfc2xpZGVzaG93X2dhbGxlcnkiLCJpZCIsImJhY2tncm91bmRfaW1hZ2UiLCJmaXhlZE9iaiIsImZpeGVkSnNvbiIsInJlRW5jb2RlZCIsImNvbnNvbGUiLCJ3YXJuIiwic3Jjc2V0IiwiZml4ZWRTcmNzZXQiLCJwYXJ0cyIsImpvaW4iLCJjbGVhbmVkSHRtbCIsIm1vZGlmeUhvbWVwYWdlSGVhZGluZ3MiLCJoZWFkaW5nUmVwbGFjZW1lbnRzIiwib3JpZ2luYWwiLCJyZXBsYWNlbWVudCIsIk9iamVjdCIsImVudHJpZXMiLCJzZXR0aW5ncyIsInJvdGF0aW5nX3RleHQiLCJyb3RhdGluZ1RleHQiLCJpc0hvbWVwYWdlIiwid2luZG93IiwibG9jYXRpb24iLCJmb290ZXIiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJ2aXNpYmlsaXR5Iiwib3BhY2l0eSIsImNyZWF0ZVBsYWNlaG9sZGVyU3ZnIiwidyIsImgiLCJwbGFjZWhvbGRlclN2ZyIsIm9iamVjdEZpdCIsImJhY2tncm91bmRDb2xvciIsInRlc3RJbWciLCJJbWFnZSIsImVsZW1lbnQiLCJjb250YWlucyIsImRlc2t0b3BJbWFnZXMiLCJpbWFnZUluZGV4IiwidHJ5TmV4dEltYWdlIiwiYmFja2dyb3VuZEltYWdlIiwiYmFja2dyb3VuZFNpemUiLCJiYWNrZ3JvdW5kUG9zaXRpb24iLCJiYWNrZ3JvdW5kUmVwZWF0IiwiYmdNYXRjaCIsImJnVXJsIiwiZmFsbGJhY2tTdHlsZSIsImhvbWVwYWdlSGVyb1NlY3Rpb24iLCJoZXJvRWwiLCJhYm91dEJhbm5lclVybCIsIkRhdGUiLCJub3ciLCJzbGlkZXNob3ciLCJzZXRQcm9wZXJ0eSIsImhlcm9JbWciLCJtaW5IZWlnaHQiLCJhbHRVcmwiLCJpc0hvbWVwYWdlSGVybyIsInNlY3Rpb24iLCJzZWN0aW9uRWwiLCJmaXJzdEltYWdlIiwiZmlyc3RJbWFnZVVybCIsImZpcnN0SW1nIiwiaXRlbSIsImluZGV4IiwiaW1hZ2VVcmwiLCJzbGlkZSIsInNsaWRlRWwiLCJiZ0ltYWdlIiwiY29tcHV0ZWRTdHlsZSIsImdldENvbXB1dGVkU3R5bGUiLCJhbGxTY3JpcHRzIiwic2NyaXB0UHJvbWlzZXMiLCJzY3JpcHRJZCIsIm5ld1NjcmlwdCIsImFzeW5jIiwiZGVmZXIiLCJsb2FkUHJvbWlzZSIsInNjcmlwdFRleHQiLCJhbGwiLCJ0aGVuIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwicmVhZHlTdGF0ZSIsImRpc3BhdGNoRXZlbnQiLCJFdmVudCIsImpRdWVyeSIsInJlYWR5IiwiY2F0Y2giLCJkaXYiLCJwb3NpdGlvbiIsInRvcCIsImxlZnQiLCJiYWNrZ3JvdW5kIiwiZGlzcGxheSIsImZsZXhEaXJlY3Rpb24iLCJhbGlnbkl0ZW1zIiwianVzdGlmeUNvbnRlbnQiLCJ6SW5kZXgiLCJmb250RmFtaWx5IiwiYm9yZGVyIiwiYm9yZGVyVG9wIiwiYm9yZGVyUmFkaXVzIiwiYW5pbWF0aW9uIiwibWFyZ2luQm90dG9tIiwiYm94U2hhZG93IiwiY29sb3IiLCJmb250U2l6ZSIsImZvbnRXZWlnaHQiLCJ0ZXh0U2hhZG93IiwicmVmIiwidHJhbnNpdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/PageRenderer.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js ***!
  \****************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("/**\n * @license React\n * react-jsx-dev-runtime.development.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\nif (true) {\n  (function() {\n'use strict';\n\nvar React = __webpack_require__(/*! next/dist/compiled/react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n\n// ATTENTION\n// When adding new symbols to this file,\n// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\n// The Symbol used to tag the ReactElement-like types.\nvar REACT_ELEMENT_TYPE = Symbol.for('react.element');\nvar REACT_PORTAL_TYPE = Symbol.for('react.portal');\nvar REACT_FRAGMENT_TYPE = Symbol.for('react.fragment');\nvar REACT_STRICT_MODE_TYPE = Symbol.for('react.strict_mode');\nvar REACT_PROFILER_TYPE = Symbol.for('react.profiler');\nvar REACT_PROVIDER_TYPE = Symbol.for('react.provider'); // TODO: Delete with enableRenderableContext\n\nvar REACT_CONSUMER_TYPE = Symbol.for('react.consumer');\nvar REACT_CONTEXT_TYPE = Symbol.for('react.context');\nvar REACT_FORWARD_REF_TYPE = Symbol.for('react.forward_ref');\nvar REACT_SUSPENSE_TYPE = Symbol.for('react.suspense');\nvar REACT_SUSPENSE_LIST_TYPE = Symbol.for('react.suspense_list');\nvar REACT_MEMO_TYPE = Symbol.for('react.memo');\nvar REACT_LAZY_TYPE = Symbol.for('react.lazy');\nvar REACT_OFFSCREEN_TYPE = Symbol.for('react.offscreen');\nvar REACT_CACHE_TYPE = Symbol.for('react.cache');\nvar MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nvar FAUX_ITERATOR_SYMBOL = '@@iterator';\nfunction getIteratorFn(maybeIterable) {\n  if (maybeIterable === null || typeof maybeIterable !== 'object') {\n    return null;\n  }\n\n  var maybeIterator = MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL];\n\n  if (typeof maybeIterator === 'function') {\n    return maybeIterator;\n  }\n\n  return null;\n}\n\nvar ReactSharedInternals = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\nfunction error(format) {\n  {\n    {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      printWarning('error', format, args);\n    }\n  }\n}\n\nfunction printWarning(level, format, args) {\n  // When changing this logic, you might want to also\n  // update consoleWithStackDev.www.js as well.\n  {\n    var ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n    var stack = ReactDebugCurrentFrame.getStackAddendum();\n\n    if (stack !== '') {\n      format += '%s';\n      args = args.concat([stack]);\n    } // eslint-disable-next-line react-internal/safe-string-coercion\n\n\n    var argsWithFormat = args.map(function (item) {\n      return String(item);\n    }); // Careful: RN currently depends on this prefix\n\n    argsWithFormat.unshift('Warning: ' + format); // We intentionally don't use spread (or .apply) directly because it\n    // breaks IE9: https://github.com/facebook/react/issues/13610\n    // eslint-disable-next-line react-internal/no-production-logging\n\n    Function.prototype.apply.call(console[level], console, argsWithFormat);\n  }\n}\n\n// -----------------------------------------------------------------------------\n\nvar enableScopeAPI = false; // Experimental Create Event Handle API.\nvar enableCacheElement = false;\nvar enableTransitionTracing = false; // No known bugs, but needs performance testing\n\nvar enableLegacyHidden = false; // Enables unstable_avoidThisFallback feature in Fiber\nvar enableRenderableContext = false;\n// stuff. Intended to enable React core members to more easily debug scheduling\n// issues in DEV builds.\n\nvar enableDebugTracing = false;\n\nfunction getWrappedName(outerType, innerType, wrapperName) {\n  var displayName = outerType.displayName;\n\n  if (displayName) {\n    return displayName;\n  }\n\n  var functionName = innerType.displayName || innerType.name || '';\n  return functionName !== '' ? wrapperName + \"(\" + functionName + \")\" : wrapperName;\n} // Keep in sync with react-reconciler/getComponentNameFromFiber\n\n\nfunction getContextName(type) {\n  return type.displayName || 'Context';\n}\n\nvar REACT_CLIENT_REFERENCE$2 = Symbol.for('react.client.reference'); // Note that the reconciler package should generally prefer to use getComponentNameFromFiber() instead.\n\nfunction getComponentNameFromType(type) {\n  if (type == null) {\n    // Host root, text node or just invalid type.\n    return null;\n  }\n\n  if (typeof type === 'function') {\n    if (type.$$typeof === REACT_CLIENT_REFERENCE$2) {\n      // TODO: Create a convention for naming client references with debug info.\n      return null;\n    }\n\n    return type.displayName || type.name || null;\n  }\n\n  if (typeof type === 'string') {\n    return type;\n  }\n\n  switch (type) {\n    case REACT_FRAGMENT_TYPE:\n      return 'Fragment';\n\n    case REACT_PORTAL_TYPE:\n      return 'Portal';\n\n    case REACT_PROFILER_TYPE:\n      return 'Profiler';\n\n    case REACT_STRICT_MODE_TYPE:\n      return 'StrictMode';\n\n    case REACT_SUSPENSE_TYPE:\n      return 'Suspense';\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return 'SuspenseList';\n\n    case REACT_CACHE_TYPE:\n      {\n        return 'Cache';\n      }\n\n  }\n\n  if (typeof type === 'object') {\n    {\n      if (typeof type.tag === 'number') {\n        error('Received an unexpected object in getComponentNameFromType(). ' + 'This is likely a bug in React. Please file an issue.');\n      }\n    }\n\n    switch (type.$$typeof) {\n      case REACT_PROVIDER_TYPE:\n        {\n          var provider = type;\n          return getContextName(provider._context) + '.Provider';\n        }\n\n      case REACT_CONTEXT_TYPE:\n        var context = type;\n\n        {\n          return getContextName(context) + '.Consumer';\n        }\n\n      case REACT_CONSUMER_TYPE:\n        {\n          return null;\n        }\n\n      case REACT_FORWARD_REF_TYPE:\n        return getWrappedName(type, type.render, 'ForwardRef');\n\n      case REACT_MEMO_TYPE:\n        var outerName = type.displayName || null;\n\n        if (outerName !== null) {\n          return outerName;\n        }\n\n        return getComponentNameFromType(type.type) || 'Memo';\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            return getComponentNameFromType(init(payload));\n          } catch (x) {\n            return null;\n          }\n        }\n    }\n  }\n\n  return null;\n}\n\n// $FlowFixMe[method-unbinding]\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar assign = Object.assign;\n\n/*\n * The `'' + value` pattern (used in perf-sensitive code) throws for Symbol\n * and Temporal.* types. See https://github.com/facebook/react/pull/22064.\n *\n * The functions in this module will throw an easier-to-understand,\n * easier-to-debug exception with a clear errors message message explaining the\n * problem. (Instead of a confusing exception thrown inside the implementation\n * of the `value` object).\n */\n// $FlowFixMe[incompatible-return] only called in DEV, so void return is not possible.\nfunction typeName(value) {\n  {\n    // toStringTag is needed for namespaced types like Temporal.Instant\n    var hasToStringTag = typeof Symbol === 'function' && Symbol.toStringTag;\n    var type = hasToStringTag && value[Symbol.toStringTag] || value.constructor.name || 'Object'; // $FlowFixMe[incompatible-return]\n\n    return type;\n  }\n} // $FlowFixMe[incompatible-return] only called in DEV, so void return is not possible.\n\n\nfunction willCoercionThrow(value) {\n  {\n    try {\n      testStringCoercion(value);\n      return false;\n    } catch (e) {\n      return true;\n    }\n  }\n}\n\nfunction testStringCoercion(value) {\n  // If you ended up here by following an exception call stack, here's what's\n  // happened: you supplied an object or symbol value to React (as a prop, key,\n  // DOM attribute, CSS property, string ref, etc.) and when React tried to\n  // coerce it to a string using `'' + value`, an exception was thrown.\n  //\n  // The most common types that will cause this exception are `Symbol` instances\n  // and Temporal objects like `Temporal.Instant`. But any object that has a\n  // `valueOf` or `[Symbol.toPrimitive]` method that throws will also cause this\n  // exception. (Library authors do this to prevent users from using built-in\n  // numeric operators like `+` or comparison operators like `>=` because custom\n  // methods are needed to perform accurate arithmetic or comparison.)\n  //\n  // To fix the problem, coerce this object or symbol value to a string before\n  // passing it to React. The most reliable way is usually `String(value)`.\n  //\n  // To find which value is throwing, check the browser or debugger console.\n  // Before this exception was thrown, there should be `console.error` output\n  // that shows the type (Symbol, Temporal.PlainDate, etc.) that caused the\n  // problem and how that type was used: key, atrribute, input value prop, etc.\n  // In most cases, this console output also shows the component and its\n  // ancestor components where the exception happened.\n  //\n  // eslint-disable-next-line react-internal/safe-string-coercion\n  return '' + value;\n}\nfunction checkKeyStringCoercion(value) {\n  {\n    if (willCoercionThrow(value)) {\n      error('The provided key is an unsupported type %s.' + ' This value must be coerced to a string before using it here.', typeName(value));\n\n      return testStringCoercion(value); // throw (to help callers find troubleshooting comments)\n    }\n  }\n}\n\nvar REACT_CLIENT_REFERENCE$1 = Symbol.for('react.client.reference');\nfunction isValidElementType(type) {\n  if (typeof type === 'string' || typeof type === 'function') {\n    return true;\n  } // Note: typeof might be other than 'symbol' or 'number' (e.g. if it's a polyfill).\n\n\n  if (type === REACT_FRAGMENT_TYPE || type === REACT_PROFILER_TYPE || enableDebugTracing  || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || enableLegacyHidden  || type === REACT_OFFSCREEN_TYPE || enableScopeAPI  || enableCacheElement  || enableTransitionTracing ) {\n    return true;\n  }\n\n  if (typeof type === 'object' && type !== null) {\n    if (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || enableRenderableContext  || type.$$typeof === REACT_FORWARD_REF_TYPE || // This needs to include all possible module reference object\n    // types supported by any Flight configuration anywhere since\n    // we don't know which Flight build this will end up being used\n    // with.\n    type.$$typeof === REACT_CLIENT_REFERENCE$1 || type.getModuleId !== undefined) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nvar isArrayImpl = Array.isArray; // eslint-disable-next-line no-redeclare\n\nfunction isArray(a) {\n  return isArrayImpl(a);\n}\n\n// Helpers to patch console.logs to avoid logging during side-effect free\n// replaying on render function. This currently only patches the object\n// lazily which won't cover if the log function was extracted eagerly.\n// We could also eagerly patch the method.\nvar disabledDepth = 0;\nvar prevLog;\nvar prevInfo;\nvar prevWarn;\nvar prevError;\nvar prevGroup;\nvar prevGroupCollapsed;\nvar prevGroupEnd;\n\nfunction disabledLog() {}\n\ndisabledLog.__reactDisabledLog = true;\nfunction disableLogs() {\n  {\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      prevLog = console.log;\n      prevInfo = console.info;\n      prevWarn = console.warn;\n      prevError = console.error;\n      prevGroup = console.group;\n      prevGroupCollapsed = console.groupCollapsed;\n      prevGroupEnd = console.groupEnd; // https://github.com/facebook/react/issues/19099\n\n      var props = {\n        configurable: true,\n        enumerable: true,\n        value: disabledLog,\n        writable: true\n      }; // $FlowFixMe[cannot-write] Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        info: props,\n        log: props,\n        warn: props,\n        error: props,\n        group: props,\n        groupCollapsed: props,\n        groupEnd: props\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    disabledDepth++;\n  }\n}\nfunction reenableLogs() {\n  {\n    disabledDepth--;\n\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      var props = {\n        configurable: true,\n        enumerable: true,\n        writable: true\n      }; // $FlowFixMe[cannot-write] Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        log: assign({}, props, {\n          value: prevLog\n        }),\n        info: assign({}, props, {\n          value: prevInfo\n        }),\n        warn: assign({}, props, {\n          value: prevWarn\n        }),\n        error: assign({}, props, {\n          value: prevError\n        }),\n        group: assign({}, props, {\n          value: prevGroup\n        }),\n        groupCollapsed: assign({}, props, {\n          value: prevGroupCollapsed\n        }),\n        groupEnd: assign({}, props, {\n          value: prevGroupEnd\n        })\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    if (disabledDepth < 0) {\n      error('disabledDepth fell below zero. ' + 'This is a bug in React. Please file an issue.');\n    }\n  }\n}\n\nvar ReactCurrentDispatcher = ReactSharedInternals.ReactCurrentDispatcher;\nvar prefix;\nfunction describeBuiltInComponentFrame(name, ownerFn) {\n  {\n    if (prefix === undefined) {\n      // Extract the VM specific prefix used by each line.\n      try {\n        throw Error();\n      } catch (x) {\n        var match = x.stack.trim().match(/\\n( *(at )?)/);\n        prefix = match && match[1] || '';\n      }\n    } // We use the prefix to ensure our stacks line up with native stack frames.\n\n\n    return '\\n' + prefix + name;\n  }\n}\nvar reentry = false;\nvar componentFrameCache;\n\n{\n  var PossiblyWeakMap = typeof WeakMap === 'function' ? WeakMap : Map;\n  componentFrameCache = new PossiblyWeakMap();\n}\n/**\n * Leverages native browser/VM stack frames to get proper details (e.g.\n * filename, line + col number) for a single component in a component stack. We\n * do this by:\n *   (1) throwing and catching an error in the function - this will be our\n *       control error.\n *   (2) calling the component which will eventually throw an error that we'll\n *       catch - this will be our sample error.\n *   (3) diffing the control and sample error stacks to find the stack frame\n *       which represents our component.\n */\n\n\nfunction describeNativeComponentFrame(fn, construct) {\n  // If something asked for a stack inside a fake render, it should get ignored.\n  if (!fn || reentry) {\n    return '';\n  }\n\n  {\n    var frame = componentFrameCache.get(fn);\n\n    if (frame !== undefined) {\n      return frame;\n    }\n  }\n\n  reentry = true;\n  var previousPrepareStackTrace = Error.prepareStackTrace; // $FlowFixMe[incompatible-type] It does accept undefined.\n\n  Error.prepareStackTrace = undefined;\n  var previousDispatcher;\n\n  {\n    previousDispatcher = ReactCurrentDispatcher.current; // Set the dispatcher in DEV because this might be call in the render function\n    // for warnings.\n\n    ReactCurrentDispatcher.current = null;\n    disableLogs();\n  }\n  /**\n   * Finding a common stack frame between sample and control errors can be\n   * tricky given the different types and levels of stack trace truncation from\n   * different JS VMs. So instead we'll attempt to control what that common\n   * frame should be through this object method:\n   * Having both the sample and control errors be in the function under the\n   * `DescribeNativeComponentFrameRoot` property, + setting the `name` and\n   * `displayName` properties of the function ensures that a stack\n   * frame exists that has the method name `DescribeNativeComponentFrameRoot` in\n   * it for both control and sample stacks.\n   */\n\n\n  var RunInRootFrame = {\n    DetermineComponentFrameRoot: function () {\n      var control;\n\n      try {\n        // This should throw.\n        if (construct) {\n          // Something should be setting the props in the constructor.\n          var Fake = function () {\n            throw Error();\n          }; // $FlowFixMe[prop-missing]\n\n\n          Object.defineProperty(Fake.prototype, 'props', {\n            set: function () {\n              // We use a throwing setter instead of frozen or non-writable props\n              // because that won't throw in a non-strict mode function.\n              throw Error();\n            }\n          });\n\n          if (typeof Reflect === 'object' && Reflect.construct) {\n            // We construct a different control for this case to include any extra\n            // frames added by the construct call.\n            try {\n              Reflect.construct(Fake, []);\n            } catch (x) {\n              control = x;\n            }\n\n            Reflect.construct(fn, [], Fake);\n          } else {\n            try {\n              Fake.call();\n            } catch (x) {\n              control = x;\n            } // $FlowFixMe[prop-missing] found when upgrading Flow\n\n\n            fn.call(Fake.prototype);\n          }\n        } else {\n          try {\n            throw Error();\n          } catch (x) {\n            control = x;\n          } // TODO(luna): This will currently only throw if the function component\n          // tries to access React/ReactDOM/props. We should probably make this throw\n          // in simple components too\n\n\n          var maybePromise = fn(); // If the function component returns a promise, it's likely an async\n          // component, which we don't yet support. Attach a noop catch handler to\n          // silence the error.\n          // TODO: Implement component stacks for async client components?\n\n          if (maybePromise && typeof maybePromise.catch === 'function') {\n            maybePromise.catch(function () {});\n          }\n        }\n      } catch (sample) {\n        // This is inlined manually because closure doesn't do it for us.\n        if (sample && control && typeof sample.stack === 'string') {\n          return [sample.stack, control.stack];\n        }\n      }\n\n      return [null, null];\n    }\n  }; // $FlowFixMe[prop-missing]\n\n  RunInRootFrame.DetermineComponentFrameRoot.displayName = 'DetermineComponentFrameRoot';\n  var namePropDescriptor = Object.getOwnPropertyDescriptor(RunInRootFrame.DetermineComponentFrameRoot, 'name'); // Before ES6, the `name` property was not configurable.\n\n  if (namePropDescriptor && namePropDescriptor.configurable) {\n    // V8 utilizes a function's `name` property when generating a stack trace.\n    Object.defineProperty(RunInRootFrame.DetermineComponentFrameRoot, // Configurable properties can be updated even if its writable descriptor\n    // is set to `false`.\n    // $FlowFixMe[cannot-write]\n    'name', {\n      value: 'DetermineComponentFrameRoot'\n    });\n  }\n\n  try {\n    var _RunInRootFrame$Deter = RunInRootFrame.DetermineComponentFrameRoot(),\n        sampleStack = _RunInRootFrame$Deter[0],\n        controlStack = _RunInRootFrame$Deter[1];\n\n    if (sampleStack && controlStack) {\n      // This extracts the first frame from the sample that isn't also in the control.\n      // Skipping one frame that we assume is the frame that calls the two.\n      var sampleLines = sampleStack.split('\\n');\n      var controlLines = controlStack.split('\\n');\n      var s = 0;\n      var c = 0;\n\n      while (s < sampleLines.length && !sampleLines[s].includes('DetermineComponentFrameRoot')) {\n        s++;\n      }\n\n      while (c < controlLines.length && !controlLines[c].includes('DetermineComponentFrameRoot')) {\n        c++;\n      } // We couldn't find our intentionally injected common root frame, attempt\n      // to find another common root frame by search from the bottom of the\n      // control stack...\n\n\n      if (s === sampleLines.length || c === controlLines.length) {\n        s = sampleLines.length - 1;\n        c = controlLines.length - 1;\n\n        while (s >= 1 && c >= 0 && sampleLines[s] !== controlLines[c]) {\n          // We expect at least one stack frame to be shared.\n          // Typically this will be the root most one. However, stack frames may be\n          // cut off due to maximum stack limits. In this case, one maybe cut off\n          // earlier than the other. We assume that the sample is longer or the same\n          // and there for cut off earlier. So we should find the root most frame in\n          // the sample somewhere in the control.\n          c--;\n        }\n      }\n\n      for (; s >= 1 && c >= 0; s--, c--) {\n        // Next we find the first one that isn't the same which should be the\n        // frame that called our sample function and the control.\n        if (sampleLines[s] !== controlLines[c]) {\n          // In V8, the first line is describing the message but other VMs don't.\n          // If we're about to return the first line, and the control is also on the same\n          // line, that's a pretty good indicator that our sample threw at same line as\n          // the control. I.e. before we entered the sample frame. So we ignore this result.\n          // This can happen if you passed a class to function component, or non-function.\n          if (s !== 1 || c !== 1) {\n            do {\n              s--;\n              c--; // We may still have similar intermediate frames from the construct call.\n              // The next one that isn't the same should be our match though.\n\n              if (c < 0 || sampleLines[s] !== controlLines[c]) {\n                // V8 adds a \"new\" prefix for native classes. Let's remove it to make it prettier.\n                var _frame = '\\n' + sampleLines[s].replace(' at new ', ' at '); // If our component frame is labeled \"<anonymous>\"\n                // but we have a user-provided \"displayName\"\n                // splice it in to make the stack more readable.\n\n\n                if (fn.displayName && _frame.includes('<anonymous>')) {\n                  _frame = _frame.replace('<anonymous>', fn.displayName);\n                }\n\n                if (true) {\n                  if (typeof fn === 'function') {\n                    componentFrameCache.set(fn, _frame);\n                  }\n                } // Return the line we found.\n\n\n                return _frame;\n              }\n            } while (s >= 1 && c >= 0);\n          }\n\n          break;\n        }\n      }\n    }\n  } finally {\n    reentry = false;\n\n    {\n      ReactCurrentDispatcher.current = previousDispatcher;\n      reenableLogs();\n    }\n\n    Error.prepareStackTrace = previousPrepareStackTrace;\n  } // Fallback to just using the name if we couldn't make it throw.\n\n\n  var name = fn ? fn.displayName || fn.name : '';\n  var syntheticFrame = name ? describeBuiltInComponentFrame(name) : '';\n\n  {\n    if (typeof fn === 'function') {\n      componentFrameCache.set(fn, syntheticFrame);\n    }\n  }\n\n  return syntheticFrame;\n}\nfunction describeFunctionComponentFrame(fn, ownerFn) {\n  {\n    return describeNativeComponentFrame(fn, false);\n  }\n}\n\nfunction shouldConstruct(Component) {\n  var prototype = Component.prototype;\n  return !!(prototype && prototype.isReactComponent);\n}\n\nfunction describeUnknownElementTypeFrameInDEV(type, ownerFn) {\n\n  if (type == null) {\n    return '';\n  }\n\n  if (typeof type === 'function') {\n    {\n      return describeNativeComponentFrame(type, shouldConstruct(type));\n    }\n  }\n\n  if (typeof type === 'string') {\n    return describeBuiltInComponentFrame(type);\n  }\n\n  switch (type) {\n    case REACT_SUSPENSE_TYPE:\n      return describeBuiltInComponentFrame('Suspense');\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return describeBuiltInComponentFrame('SuspenseList');\n  }\n\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case REACT_FORWARD_REF_TYPE:\n        return describeFunctionComponentFrame(type.render);\n\n      case REACT_MEMO_TYPE:\n        // Memo may contain any component type so we recursively resolve it.\n        return describeUnknownElementTypeFrameInDEV(type.type, ownerFn);\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            // Lazy may contain any component type so we recursively resolve it.\n            return describeUnknownElementTypeFrameInDEV(init(payload), ownerFn);\n          } catch (x) {}\n        }\n    }\n  }\n\n  return '';\n}\n\nvar ReactCurrentOwner = ReactSharedInternals.ReactCurrentOwner;\nvar ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\nvar REACT_CLIENT_REFERENCE = Symbol.for('react.client.reference');\nvar specialPropKeyWarningShown;\nvar specialPropRefWarningShown;\nvar didWarnAboutStringRefs;\n\n{\n  didWarnAboutStringRefs = {};\n}\n\nfunction hasValidRef(config) {\n  {\n    if (hasOwnProperty.call(config, 'ref')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'ref').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.ref !== undefined;\n}\n\nfunction hasValidKey(config) {\n  {\n    if (hasOwnProperty.call(config, 'key')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'key').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.key !== undefined;\n}\n\nfunction warnIfStringRefCannotBeAutoConverted(config, self) {\n  {\n    if (typeof config.ref === 'string' && ReactCurrentOwner.current && self && ReactCurrentOwner.current.stateNode !== self) {\n      var componentName = getComponentNameFromType(ReactCurrentOwner.current.type);\n\n      if (!didWarnAboutStringRefs[componentName]) {\n        error('Component \"%s\" contains the string ref \"%s\". ' + 'Support for string refs will be removed in a future major release. ' + 'This case cannot be automatically converted to an arrow function. ' + 'We ask you to manually fix this case by using useRef() or createRef() instead. ' + 'Learn more about using refs safely here: ' + 'https://reactjs.org/link/strict-mode-string-ref', getComponentNameFromType(ReactCurrentOwner.current.type), config.ref);\n\n        didWarnAboutStringRefs[componentName] = true;\n      }\n    }\n  }\n}\n\nfunction defineKeyPropWarningGetter(props, displayName) {\n  {\n    var warnAboutAccessingKey = function () {\n      if (!specialPropKeyWarningShown) {\n        specialPropKeyWarningShown = true;\n\n        error('%s: `key` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n      }\n    };\n\n    warnAboutAccessingKey.isReactWarning = true;\n    Object.defineProperty(props, 'key', {\n      get: warnAboutAccessingKey,\n      configurable: true\n    });\n  }\n}\n\nfunction defineRefPropWarningGetter(props, displayName) {\n  {\n    {\n      var warnAboutAccessingRef = function () {\n        if (!specialPropRefWarningShown) {\n          specialPropRefWarningShown = true;\n\n          error('%s: `ref` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n        }\n      };\n\n      warnAboutAccessingRef.isReactWarning = true;\n      Object.defineProperty(props, 'ref', {\n        get: warnAboutAccessingRef,\n        configurable: true\n      });\n    }\n  }\n}\n/**\n * Factory method to create a new React element. This no longer adheres to\n * the class pattern, so do not use new to call it. Also, instanceof check\n * will not work. Instead test $$typeof field against Symbol.for('react.element') to check\n * if something is a React Element.\n *\n * @param {*} type\n * @param {*} props\n * @param {*} key\n * @param {string|object} ref\n * @param {*} owner\n * @param {*} self A *temporary* helper to detect places where `this` is\n * different from the `owner` when React.createElement is called, so that we\n * can warn. We want to get rid of owner and replace string `ref`s with arrow\n * functions, and as long as `this` and owner are the same, there will be no\n * change in behavior.\n * @param {*} source An annotation object (added by a transpiler or otherwise)\n * indicating filename, line number, and/or other information.\n * @internal\n */\n\n\nfunction ReactElement(type, key, _ref, self, source, owner, props) {\n  var ref;\n\n  {\n    ref = _ref;\n  }\n\n  var element;\n\n  {\n    // In prod, `ref` is a regular property. It will be removed in a\n    // future release.\n    element = {\n      // This tag allows us to uniquely identify this as a React Element\n      $$typeof: REACT_ELEMENT_TYPE,\n      // Built-in properties that belong on the element\n      type: type,\n      key: key,\n      ref: ref,\n      props: props,\n      // Record the component responsible for creating this element.\n      _owner: owner\n    };\n  }\n\n  {\n    // The validation flag is currently mutative. We put it on\n    // an external backing store so that we can freeze the whole object.\n    // This can be replaced with a WeakMap once they are implemented in\n    // commonly used development environments.\n    element._store = {}; // To make comparing ReactElements easier for testing purposes, we make\n    // the validation flag non-enumerable (where possible, which should\n    // include every environment we run tests in), so the test framework\n    // ignores it.\n\n    Object.defineProperty(element._store, 'validated', {\n      configurable: false,\n      enumerable: false,\n      writable: true,\n      value: false\n    }); // debugInfo contains Server Component debug information.\n\n    Object.defineProperty(element, '_debugInfo', {\n      configurable: false,\n      enumerable: false,\n      writable: true,\n      value: null\n    });\n\n    if (Object.freeze) {\n      Object.freeze(element.props);\n      Object.freeze(element);\n    }\n  }\n\n  return element;\n}\nvar didWarnAboutKeySpread = {};\n/**\n * https://github.com/reactjs/rfcs/pull/107\n * @param {*} type\n * @param {object} props\n * @param {string} key\n */\n\nfunction jsxDEV$1(type, config, maybeKey, isStaticChildren, source, self) {\n  {\n    if (!isValidElementType(type)) {\n      // This is an invalid element type.\n      //\n      // We warn in this case but don't throw. We expect the element creation to\n      // succeed and there will likely be errors in render.\n      var info = '';\n\n      if (type === undefined || typeof type === 'object' && type !== null && Object.keys(type).length === 0) {\n        info += ' You likely forgot to export your component from the file ' + \"it's defined in, or you might have mixed up default and named imports.\";\n      }\n\n      var typeString;\n\n      if (type === null) {\n        typeString = 'null';\n      } else if (isArray(type)) {\n        typeString = 'array';\n      } else if (type !== undefined && type.$$typeof === REACT_ELEMENT_TYPE) {\n        typeString = \"<\" + (getComponentNameFromType(type.type) || 'Unknown') + \" />\";\n        info = ' Did you accidentally export a JSX literal instead of a component?';\n      } else {\n        typeString = typeof type;\n      }\n\n      error('React.jsx: type is invalid -- expected a string (for ' + 'built-in components) or a class/function (for composite ' + 'components) but got: %s.%s', typeString, info);\n    } else {\n      // This is a valid element type.\n      // Skip key warning if the type isn't valid since our key validation logic\n      // doesn't expect a non-string/function type and can throw confusing\n      // errors. We don't want exception behavior to differ between dev and\n      // prod. (Rendering will throw with a helpful message and as soon as the\n      // type is fixed, the key warnings will appear.)\n      var children = config.children;\n\n      if (children !== undefined) {\n        if (isStaticChildren) {\n          if (isArray(children)) {\n            for (var i = 0; i < children.length; i++) {\n              validateChildKeys(children[i], type);\n            }\n\n            if (Object.freeze) {\n              Object.freeze(children);\n            }\n          } else {\n            error('React.jsx: Static children should always be an array. ' + 'You are likely explicitly calling React.jsxs or React.jsxDEV. ' + 'Use the Babel transform instead.');\n          }\n        } else {\n          validateChildKeys(children, type);\n        }\n      }\n    } // Warn about key spread regardless of whether the type is valid.\n\n\n    if (hasOwnProperty.call(config, 'key')) {\n      var componentName = getComponentNameFromType(type);\n      var keys = Object.keys(config).filter(function (k) {\n        return k !== 'key';\n      });\n      var beforeExample = keys.length > 0 ? '{key: someKey, ' + keys.join(': ..., ') + ': ...}' : '{key: someKey}';\n\n      if (!didWarnAboutKeySpread[componentName + beforeExample]) {\n        var afterExample = keys.length > 0 ? '{' + keys.join(': ..., ') + ': ...}' : '{}';\n\n        error('A props object containing a \"key\" prop is being spread into JSX:\\n' + '  let props = %s;\\n' + '  <%s {...props} />\\n' + 'React keys must be passed directly to JSX without using spread:\\n' + '  let props = %s;\\n' + '  <%s key={someKey} {...props} />', beforeExample, componentName, afterExample, componentName);\n\n        didWarnAboutKeySpread[componentName + beforeExample] = true;\n      }\n    }\n\n    var propName; // Reserved names are extracted\n\n    var props = {};\n    var key = null;\n    var ref = null; // Currently, key can be spread in as a prop. This causes a potential\n    // issue if key is also explicitly declared (ie. <div {...props} key=\"Hi\" />\n    // or <div key=\"Hi\" {...props} /> ). We want to deprecate key spread,\n    // but as an intermediary step, we will use jsxDEV for everything except\n    // <div {...props} key=\"Hi\" />, because we aren't currently able to tell if\n    // key is explicitly declared to be undefined or not.\n\n    if (maybeKey !== undefined) {\n      {\n        checkKeyStringCoercion(maybeKey);\n      }\n\n      key = '' + maybeKey;\n    }\n\n    if (hasValidKey(config)) {\n      {\n        checkKeyStringCoercion(config.key);\n      }\n\n      key = '' + config.key;\n    }\n\n    if (hasValidRef(config)) {\n      {\n        ref = config.ref;\n      }\n\n      warnIfStringRefCannotBeAutoConverted(config, self);\n    } // Remaining properties are added to a new props object\n\n\n    for (propName in config) {\n      if (hasOwnProperty.call(config, propName) && // Skip over reserved prop names\n      propName !== 'key' && (propName !== 'ref')) {\n        props[propName] = config[propName];\n      }\n    } // Resolve default props\n\n\n    if (type && type.defaultProps) {\n      var defaultProps = type.defaultProps;\n\n      for (propName in defaultProps) {\n        if (props[propName] === undefined) {\n          props[propName] = defaultProps[propName];\n        }\n      }\n    }\n\n    if (key || ref) {\n      var displayName = typeof type === 'function' ? type.displayName || type.name || 'Unknown' : type;\n\n      if (key) {\n        defineKeyPropWarningGetter(props, displayName);\n      }\n\n      if (ref) {\n        defineRefPropWarningGetter(props, displayName);\n      }\n    }\n\n    var element = ReactElement(type, key, ref, self, source, ReactCurrentOwner.current, props);\n\n    if (type === REACT_FRAGMENT_TYPE) {\n      validateFragmentProps(element);\n    }\n\n    return element;\n  }\n}\n\nfunction getDeclarationErrorAddendum() {\n  {\n    if (ReactCurrentOwner.current) {\n      var name = getComponentNameFromType(ReactCurrentOwner.current.type);\n\n      if (name) {\n        return '\\n\\nCheck the render method of `' + name + '`.';\n      }\n    }\n\n    return '';\n  }\n}\n/**\n * Ensure that every element either is passed in a static location, in an\n * array with an explicit keys property defined, or in an object literal\n * with valid key property.\n *\n * @internal\n * @param {ReactNode} node Statically passed child of any type.\n * @param {*} parentType node's parent's type.\n */\n\n\nfunction validateChildKeys(node, parentType) {\n  {\n    if (typeof node !== 'object' || !node) {\n      return;\n    }\n\n    if (node.$$typeof === REACT_CLIENT_REFERENCE) ; else if (isArray(node)) {\n      for (var i = 0; i < node.length; i++) {\n        var child = node[i];\n\n        if (isValidElement(child)) {\n          validateExplicitKey(child, parentType);\n        }\n      }\n    } else if (isValidElement(node)) {\n      // This element was passed in a valid location.\n      if (node._store) {\n        node._store.validated = true;\n      }\n    } else {\n      var iteratorFn = getIteratorFn(node);\n\n      if (typeof iteratorFn === 'function') {\n        // Entry iterators used to provide implicit keys,\n        // but now we print a separate warning for them later.\n        if (iteratorFn !== node.entries) {\n          var iterator = iteratorFn.call(node);\n          var step;\n\n          while (!(step = iterator.next()).done) {\n            if (isValidElement(step.value)) {\n              validateExplicitKey(step.value, parentType);\n            }\n          }\n        }\n      }\n    }\n  }\n}\n/**\n * Verifies the object is a ReactElement.\n * See https://reactjs.org/docs/react-api.html#isvalidelement\n * @param {?object} object\n * @return {boolean} True if `object` is a ReactElement.\n * @final\n */\n\n\nfunction isValidElement(object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n}\nvar ownerHasKeyUseWarning = {};\n/**\n * Warn if the element doesn't have an explicit key assigned to it.\n * This element is in an array. The array could grow and shrink or be\n * reordered. All children that haven't already been validated are required to\n * have a \"key\" property assigned to it. Error statuses are cached so a warning\n * will only be shown once.\n *\n * @internal\n * @param {ReactElement} element Element that requires a key.\n * @param {*} parentType element's parent's type.\n */\n\nfunction validateExplicitKey(element, parentType) {\n  {\n    if (!element._store || element._store.validated || element.key != null) {\n      return;\n    }\n\n    element._store.validated = true;\n    var currentComponentErrorInfo = getCurrentComponentErrorInfo(parentType);\n\n    if (ownerHasKeyUseWarning[currentComponentErrorInfo]) {\n      return;\n    }\n\n    ownerHasKeyUseWarning[currentComponentErrorInfo] = true; // Usually the current owner is the offender, but if it accepts children as a\n    // property, it may be the creator of the child that's responsible for\n    // assigning it a key.\n\n    var childOwner = '';\n\n    if (element && element._owner && element._owner !== ReactCurrentOwner.current) {\n      // Give the component that originally created this child.\n      childOwner = \" It was passed a child from \" + getComponentNameFromType(element._owner.type) + \".\";\n    }\n\n    setCurrentlyValidatingElement(element);\n\n    error('Each child in a list should have a unique \"key\" prop.' + '%s%s See https://reactjs.org/link/warning-keys for more information.', currentComponentErrorInfo, childOwner);\n\n    setCurrentlyValidatingElement(null);\n  }\n}\n\nfunction setCurrentlyValidatingElement(element) {\n  {\n    if (element) {\n      var owner = element._owner;\n      var stack = describeUnknownElementTypeFrameInDEV(element.type, owner ? owner.type : null);\n      ReactDebugCurrentFrame.setExtraStackFrame(stack);\n    } else {\n      ReactDebugCurrentFrame.setExtraStackFrame(null);\n    }\n  }\n}\n\nfunction getCurrentComponentErrorInfo(parentType) {\n  {\n    var info = getDeclarationErrorAddendum();\n\n    if (!info) {\n      var parentName = getComponentNameFromType(parentType);\n\n      if (parentName) {\n        info = \"\\n\\nCheck the top-level render call using <\" + parentName + \">.\";\n      }\n    }\n\n    return info;\n  }\n}\n/**\n * Given a fragment, validate that it can only be provided with fragment props\n * @param {ReactElement} fragment\n */\n\n\nfunction validateFragmentProps(fragment) {\n  // TODO: Move this to render phase instead of at element creation.\n  {\n    var keys = Object.keys(fragment.props);\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n\n      if (key !== 'children' && key !== 'key') {\n        setCurrentlyValidatingElement(fragment);\n\n        error('Invalid prop `%s` supplied to `React.Fragment`. ' + 'React.Fragment can only have `key` and `children` props.', key);\n\n        setCurrentlyValidatingElement(null);\n        break;\n      }\n    }\n\n    if (fragment.ref !== null) {\n      setCurrentlyValidatingElement(fragment);\n\n      error('Invalid attribute `ref` supplied to `React.Fragment`.');\n\n      setCurrentlyValidatingElement(null);\n    }\n  }\n}\n\nvar jsxDEV = jsxDEV$1 ;\n\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.jsxDEV = jsxDEV;\n  })();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvcmVhY3QvY2pzL3JlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7O0FBRWIsSUFBSSxJQUFxQztBQUN6QztBQUNBOztBQUVBLFlBQVksbUJBQU8sQ0FBQyxzR0FBMEI7O0FBRTlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RDs7QUFFeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlHQUFpRyxlQUFlO0FBQ2hIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07OztBQUdOO0FBQ0E7QUFDQSxLQUFLLEdBQUc7O0FBRVIsa0RBQWtEO0FBQ2xEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBLDRCQUE0QjtBQUM1QjtBQUNBLHFDQUFxQzs7QUFFckMsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7O0FBR0Y7QUFDQTtBQUNBOztBQUVBLHFFQUFxRTs7QUFFckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0dBQWtHOztBQUVsRztBQUNBO0FBQ0EsRUFBRTs7O0FBR0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsd0NBQXdDO0FBQ3hDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7OztBQUdKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxpQ0FBaUM7O0FBRWpDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1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O0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZCxXQUFXLEdBQUc7QUFDZCxXQUFXLEdBQUc7QUFDZCxXQUFXLGVBQWU7QUFDMUIsV0FBVyxHQUFHO0FBQ2QsV0FBVyxHQUFHO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZDtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtB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QUFXLGNBQWM7QUFDekI7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG9CQUFvQixpQkFBaUI7QUFDckM7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLGdCQUFnQjtBQUNoQixjQUFjO0FBQ2QsR0FBRztBQUNIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvcmVhY3QvY2pzL3JlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qcz84MDgzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2UgUmVhY3RcbiAqIHJlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qc1xuICpcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIChmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0ID0gcmVxdWlyZShcIm5leHQvZGlzdC9jb21waWxlZC9yZWFjdFwiKTtcblxuLy8gQVRURU5USU9OXG4vLyBXaGVuIGFkZGluZyBuZXcgc3ltYm9scyB0byB0aGlzIGZpbGUsXG4vLyBQbGVhc2UgY29uc2lkZXIgYWxzbyBhZGRpbmcgdG8gJ3JlYWN0LWRldnRvb2xzLXNoYXJlZC9zcmMvYmFja2VuZC9SZWFjdFN5bWJvbHMnXG4vLyBUaGUgU3ltYm9sIHVzZWQgdG8gdGFnIHRoZSBSZWFjdEVsZW1lbnQtbGlrZSB0eXBlcy5cbnZhciBSRUFDVF9FTEVNRU5UX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50Jyk7XG52YXIgUkVBQ1RfUE9SVEFMX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5wb3J0YWwnKTtcbnZhciBSRUFDVF9GUkFHTUVOVF9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QuZnJhZ21lbnQnKTtcbnZhciBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFID0gU3ltYm9sLmZvcigncmVhY3Quc3RyaWN0X21vZGUnKTtcbnZhciBSRUFDVF9QUk9GSUxFUl9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QucHJvZmlsZXInKTtcbnZhciBSRUFDVF9QUk9WSURFUl9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QucHJvdmlkZXInKTsgLy8gVE9ETzogRGVsZXRlIHdpdGggZW5hYmxlUmVuZGVyYWJsZUNvbnRleHRcblxudmFyIFJFQUNUX0NPTlNVTUVSX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5jb25zdW1lcicpO1xudmFyIFJFQUNUX0NPTlRFWFRfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LmNvbnRleHQnKTtcbnZhciBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QuZm9yd2FyZF9yZWYnKTtcbnZhciBSRUFDVF9TVVNQRU5TRV9UWVBFID0gU3ltYm9sLmZvcigncmVhY3Quc3VzcGVuc2UnKTtcbnZhciBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5zdXNwZW5zZV9saXN0Jyk7XG52YXIgUkVBQ1RfTUVNT19UWVBFID0gU3ltYm9sLmZvcigncmVhY3QubWVtbycpO1xudmFyIFJFQUNUX0xBWllfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LmxhenknKTtcbnZhciBSRUFDVF9PRkZTQ1JFRU5fVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0Lm9mZnNjcmVlbicpO1xudmFyIFJFQUNUX0NBQ0hFX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5jYWNoZScpO1xudmFyIE1BWUJFX0lURVJBVE9SX1NZTUJPTCA9IFN5bWJvbC5pdGVyYXRvcjtcbnZhciBGQVVYX0lURVJBVE9SX1NZTUJPTCA9ICdAQGl0ZXJhdG9yJztcbmZ1bmN0aW9uIGdldEl0ZXJhdG9yRm4obWF5YmVJdGVyYWJsZSkge1xuICBpZiAobWF5YmVJdGVyYWJsZSA9PT0gbnVsbCB8fCB0eXBlb2YgbWF5YmVJdGVyYWJsZSAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBtYXliZUl0ZXJhdG9yID0gTUFZQkVfSVRFUkFUT1JfU1lNQk9MICYmIG1heWJlSXRlcmFibGVbTUFZQkVfSVRFUkFUT1JfU1lNQk9MXSB8fCBtYXliZUl0ZXJhYmxlW0ZBVVhfSVRFUkFUT1JfU1lNQk9MXTtcblxuICBpZiAodHlwZW9mIG1heWJlSXRlcmF0b3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gbWF5YmVJdGVyYXRvcjtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG52YXIgUmVhY3RTaGFyZWRJbnRlcm5hbHMgPSBSZWFjdC5fX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRDtcblxuZnVuY3Rpb24gZXJyb3IoZm9ybWF0KSB7XG4gIHtcbiAgICB7XG4gICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIgPiAxID8gX2xlbjIgLSAxIDogMCksIF9rZXkyID0gMTsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICBhcmdzW19rZXkyIC0gMV0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuXG4gICAgICBwcmludFdhcm5pbmcoJ2Vycm9yJywgZm9ybWF0LCBhcmdzKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJpbnRXYXJuaW5nKGxldmVsLCBmb3JtYXQsIGFyZ3MpIHtcbiAgLy8gV2hlbiBjaGFuZ2luZyB0aGlzIGxvZ2ljLCB5b3UgbWlnaHQgd2FudCB0byBhbHNvXG4gIC8vIHVwZGF0ZSBjb25zb2xlV2l0aFN0YWNrRGV2Lnd3dy5qcyBhcyB3ZWxsLlxuICB7XG4gICAgdmFyIFJlYWN0RGVidWdDdXJyZW50RnJhbWUgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdERlYnVnQ3VycmVudEZyYW1lO1xuICAgIHZhciBzdGFjayA9IFJlYWN0RGVidWdDdXJyZW50RnJhbWUuZ2V0U3RhY2tBZGRlbmR1bSgpO1xuXG4gICAgaWYgKHN0YWNrICE9PSAnJykge1xuICAgICAgZm9ybWF0ICs9ICclcyc7XG4gICAgICBhcmdzID0gYXJncy5jb25jYXQoW3N0YWNrXSk7XG4gICAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaW50ZXJuYWwvc2FmZS1zdHJpbmctY29lcmNpb25cblxuXG4gICAgdmFyIGFyZ3NXaXRoRm9ybWF0ID0gYXJncy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHJldHVybiBTdHJpbmcoaXRlbSk7XG4gICAgfSk7IC8vIENhcmVmdWw6IFJOIGN1cnJlbnRseSBkZXBlbmRzIG9uIHRoaXMgcHJlZml4XG5cbiAgICBhcmdzV2l0aEZvcm1hdC51bnNoaWZ0KCdXYXJuaW5nOiAnICsgZm9ybWF0KTsgLy8gV2UgaW50ZW50aW9uYWxseSBkb24ndCB1c2Ugc3ByZWFkIChvciAuYXBwbHkpIGRpcmVjdGx5IGJlY2F1c2UgaXRcbiAgICAvLyBicmVha3MgSUU5OiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzEzNjEwXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZ1xuXG4gICAgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwoY29uc29sZVtsZXZlbF0sIGNvbnNvbGUsIGFyZ3NXaXRoRm9ybWF0KTtcbiAgfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG52YXIgZW5hYmxlU2NvcGVBUEkgPSBmYWxzZTsgLy8gRXhwZXJpbWVudGFsIENyZWF0ZSBFdmVudCBIYW5kbGUgQVBJLlxudmFyIGVuYWJsZUNhY2hlRWxlbWVudCA9IGZhbHNlO1xudmFyIGVuYWJsZVRyYW5zaXRpb25UcmFjaW5nID0gZmFsc2U7IC8vIE5vIGtub3duIGJ1Z3MsIGJ1dCBuZWVkcyBwZXJmb3JtYW5jZSB0ZXN0aW5nXG5cbnZhciBlbmFibGVMZWdhY3lIaWRkZW4gPSBmYWxzZTsgLy8gRW5hYmxlcyB1bnN0YWJsZV9hdm9pZFRoaXNGYWxsYmFjayBmZWF0dXJlIGluIEZpYmVyXG52YXIgZW5hYmxlUmVuZGVyYWJsZUNvbnRleHQgPSBmYWxzZTtcbi8vIHN0dWZmLiBJbnRlbmRlZCB0byBlbmFibGUgUmVhY3QgY29yZSBtZW1iZXJzIHRvIG1vcmUgZWFzaWx5IGRlYnVnIHNjaGVkdWxpbmdcbi8vIGlzc3VlcyBpbiBERVYgYnVpbGRzLlxuXG52YXIgZW5hYmxlRGVidWdUcmFjaW5nID0gZmFsc2U7XG5cbmZ1bmN0aW9uIGdldFdyYXBwZWROYW1lKG91dGVyVHlwZSwgaW5uZXJUeXBlLCB3cmFwcGVyTmFtZSkge1xuICB2YXIgZGlzcGxheU5hbWUgPSBvdXRlclR5cGUuZGlzcGxheU5hbWU7XG5cbiAgaWYgKGRpc3BsYXlOYW1lKSB7XG4gICAgcmV0dXJuIGRpc3BsYXlOYW1lO1xuICB9XG5cbiAgdmFyIGZ1bmN0aW9uTmFtZSA9IGlubmVyVHlwZS5kaXNwbGF5TmFtZSB8fCBpbm5lclR5cGUubmFtZSB8fCAnJztcbiAgcmV0dXJuIGZ1bmN0aW9uTmFtZSAhPT0gJycgPyB3cmFwcGVyTmFtZSArIFwiKFwiICsgZnVuY3Rpb25OYW1lICsgXCIpXCIgOiB3cmFwcGVyTmFtZTtcbn0gLy8gS2VlcCBpbiBzeW5jIHdpdGggcmVhY3QtcmVjb25jaWxlci9nZXRDb21wb25lbnROYW1lRnJvbUZpYmVyXG5cblxuZnVuY3Rpb24gZ2V0Q29udGV4dE5hbWUodHlwZSkge1xuICByZXR1cm4gdHlwZS5kaXNwbGF5TmFtZSB8fCAnQ29udGV4dCc7XG59XG5cbnZhciBSRUFDVF9DTElFTlRfUkVGRVJFTkNFJDIgPSBTeW1ib2wuZm9yKCdyZWFjdC5jbGllbnQucmVmZXJlbmNlJyk7IC8vIE5vdGUgdGhhdCB0aGUgcmVjb25jaWxlciBwYWNrYWdlIHNob3VsZCBnZW5lcmFsbHkgcHJlZmVyIHRvIHVzZSBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKCkgaW5zdGVhZC5cblxuZnVuY3Rpb24gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUpIHtcbiAgaWYgKHR5cGUgPT0gbnVsbCkge1xuICAgIC8vIEhvc3Qgcm9vdCwgdGV4dCBub2RlIG9yIGp1c3QgaW52YWxpZCB0eXBlLlxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgaWYgKHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UkMikge1xuICAgICAgLy8gVE9ETzogQ3JlYXRlIGEgY29udmVudGlvbiBmb3IgbmFtaW5nIGNsaWVudCByZWZlcmVuY2VzIHdpdGggZGVidWcgaW5mby5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiB0eXBlLmRpc3BsYXlOYW1lIHx8IHR5cGUubmFtZSB8fCBudWxsO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB0eXBlO1xuICB9XG5cbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBSRUFDVF9GUkFHTUVOVF9UWVBFOlxuICAgICAgcmV0dXJuICdGcmFnbWVudCc7XG5cbiAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgcmV0dXJuICdQb3J0YWwnO1xuXG4gICAgY2FzZSBSRUFDVF9QUk9GSUxFUl9UWVBFOlxuICAgICAgcmV0dXJuICdQcm9maWxlcic7XG5cbiAgICBjYXNlIFJFQUNUX1NUUklDVF9NT0RFX1RZUEU6XG4gICAgICByZXR1cm4gJ1N0cmljdE1vZGUnO1xuXG4gICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9UWVBFOlxuICAgICAgcmV0dXJuICdTdXNwZW5zZSc7XG5cbiAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRTpcbiAgICAgIHJldHVybiAnU3VzcGVuc2VMaXN0JztcblxuICAgIGNhc2UgUkVBQ1RfQ0FDSEVfVFlQRTpcbiAgICAgIHtcbiAgICAgICAgcmV0dXJuICdDYWNoZSc7XG4gICAgICB9XG5cbiAgfVxuXG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICB7XG4gICAgICBpZiAodHlwZW9mIHR5cGUudGFnID09PSAnbnVtYmVyJykge1xuICAgICAgICBlcnJvcignUmVjZWl2ZWQgYW4gdW5leHBlY3RlZCBvYmplY3QgaW4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKCkuICcgKyAnVGhpcyBpcyBsaWtlbHkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHN3aXRjaCAodHlwZS4kJHR5cGVvZikge1xuICAgICAgY2FzZSBSRUFDVF9QUk9WSURFUl9UWVBFOlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIHByb3ZpZGVyID0gdHlwZTtcbiAgICAgICAgICByZXR1cm4gZ2V0Q29udGV4dE5hbWUocHJvdmlkZXIuX2NvbnRleHQpICsgJy5Qcm92aWRlcic7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSBSRUFDVF9DT05URVhUX1RZUEU6XG4gICAgICAgIHZhciBjb250ZXh0ID0gdHlwZTtcblxuICAgICAgICB7XG4gICAgICAgICAgcmV0dXJuIGdldENvbnRleHROYW1lKGNvbnRleHQpICsgJy5Db25zdW1lcic7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSBSRUFDVF9DT05TVU1FUl9UWVBFOlxuICAgICAgICB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFOlxuICAgICAgICByZXR1cm4gZ2V0V3JhcHBlZE5hbWUodHlwZSwgdHlwZS5yZW5kZXIsICdGb3J3YXJkUmVmJyk7XG5cbiAgICAgIGNhc2UgUkVBQ1RfTUVNT19UWVBFOlxuICAgICAgICB2YXIgb3V0ZXJOYW1lID0gdHlwZS5kaXNwbGF5TmFtZSB8fCBudWxsO1xuXG4gICAgICAgIGlmIChvdXRlck5hbWUgIT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gb3V0ZXJOYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlLnR5cGUpIHx8ICdNZW1vJztcblxuICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgbGF6eUNvbXBvbmVudCA9IHR5cGU7XG4gICAgICAgICAgdmFyIHBheWxvYWQgPSBsYXp5Q29tcG9uZW50Ll9wYXlsb2FkO1xuICAgICAgICAgIHZhciBpbml0ID0gbGF6eUNvbXBvbmVudC5faW5pdDtcblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKGluaXQocGF5bG9hZCkpO1xuICAgICAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG4vLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG52YXIgYXNzaWduID0gT2JqZWN0LmFzc2lnbjtcblxuLypcbiAqIFRoZSBgJycgKyB2YWx1ZWAgcGF0dGVybiAodXNlZCBpbiBwZXJmLXNlbnNpdGl2ZSBjb2RlKSB0aHJvd3MgZm9yIFN5bWJvbFxuICogYW5kIFRlbXBvcmFsLiogdHlwZXMuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvcHVsbC8yMjA2NC5cbiAqXG4gKiBUaGUgZnVuY3Rpb25zIGluIHRoaXMgbW9kdWxlIHdpbGwgdGhyb3cgYW4gZWFzaWVyLXRvLXVuZGVyc3RhbmQsXG4gKiBlYXNpZXItdG8tZGVidWcgZXhjZXB0aW9uIHdpdGggYSBjbGVhciBlcnJvcnMgbWVzc2FnZSBtZXNzYWdlIGV4cGxhaW5pbmcgdGhlXG4gKiBwcm9ibGVtLiAoSW5zdGVhZCBvZiBhIGNvbmZ1c2luZyBleGNlcHRpb24gdGhyb3duIGluc2lkZSB0aGUgaW1wbGVtZW50YXRpb25cbiAqIG9mIHRoZSBgdmFsdWVgIG9iamVjdCkuXG4gKi9cbi8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXJldHVybl0gb25seSBjYWxsZWQgaW4gREVWLCBzbyB2b2lkIHJldHVybiBpcyBub3QgcG9zc2libGUuXG5mdW5jdGlvbiB0eXBlTmFtZSh2YWx1ZSkge1xuICB7XG4gICAgLy8gdG9TdHJpbmdUYWcgaXMgbmVlZGVkIGZvciBuYW1lc3BhY2VkIHR5cGVzIGxpa2UgVGVtcG9yYWwuSW5zdGFudFxuICAgIHZhciBoYXNUb1N0cmluZ1RhZyA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLnRvU3RyaW5nVGFnO1xuICAgIHZhciB0eXBlID0gaGFzVG9TdHJpbmdUYWcgJiYgdmFsdWVbU3ltYm9sLnRvU3RyaW5nVGFnXSB8fCB2YWx1ZS5jb25zdHJ1Y3Rvci5uYW1lIHx8ICdPYmplY3QnOyAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS1yZXR1cm5dXG5cbiAgICByZXR1cm4gdHlwZTtcbiAgfVxufSAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS1yZXR1cm5dIG9ubHkgY2FsbGVkIGluIERFViwgc28gdm9pZCByZXR1cm4gaXMgbm90IHBvc3NpYmxlLlxuXG5cbmZ1bmN0aW9uIHdpbGxDb2VyY2lvblRocm93KHZhbHVlKSB7XG4gIHtcbiAgICB0cnkge1xuICAgICAgdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKSB7XG4gIC8vIElmIHlvdSBlbmRlZCB1cCBoZXJlIGJ5IGZvbGxvd2luZyBhbiBleGNlcHRpb24gY2FsbCBzdGFjaywgaGVyZSdzIHdoYXQnc1xuICAvLyBoYXBwZW5lZDogeW91IHN1cHBsaWVkIGFuIG9iamVjdCBvciBzeW1ib2wgdmFsdWUgdG8gUmVhY3QgKGFzIGEgcHJvcCwga2V5LFxuICAvLyBET00gYXR0cmlidXRlLCBDU1MgcHJvcGVydHksIHN0cmluZyByZWYsIGV0Yy4pIGFuZCB3aGVuIFJlYWN0IHRyaWVkIHRvXG4gIC8vIGNvZXJjZSBpdCB0byBhIHN0cmluZyB1c2luZyBgJycgKyB2YWx1ZWAsIGFuIGV4Y2VwdGlvbiB3YXMgdGhyb3duLlxuICAvL1xuICAvLyBUaGUgbW9zdCBjb21tb24gdHlwZXMgdGhhdCB3aWxsIGNhdXNlIHRoaXMgZXhjZXB0aW9uIGFyZSBgU3ltYm9sYCBpbnN0YW5jZXNcbiAgLy8gYW5kIFRlbXBvcmFsIG9iamVjdHMgbGlrZSBgVGVtcG9yYWwuSW5zdGFudGAuIEJ1dCBhbnkgb2JqZWN0IHRoYXQgaGFzIGFcbiAgLy8gYHZhbHVlT2ZgIG9yIGBbU3ltYm9sLnRvUHJpbWl0aXZlXWAgbWV0aG9kIHRoYXQgdGhyb3dzIHdpbGwgYWxzbyBjYXVzZSB0aGlzXG4gIC8vIGV4Y2VwdGlvbi4gKExpYnJhcnkgYXV0aG9ycyBkbyB0aGlzIHRvIHByZXZlbnQgdXNlcnMgZnJvbSB1c2luZyBidWlsdC1pblxuICAvLyBudW1lcmljIG9wZXJhdG9ycyBsaWtlIGArYCBvciBjb21wYXJpc29uIG9wZXJhdG9ycyBsaWtlIGA+PWAgYmVjYXVzZSBjdXN0b21cbiAgLy8gbWV0aG9kcyBhcmUgbmVlZGVkIHRvIHBlcmZvcm0gYWNjdXJhdGUgYXJpdGhtZXRpYyBvciBjb21wYXJpc29uLilcbiAgLy9cbiAgLy8gVG8gZml4IHRoZSBwcm9ibGVtLCBjb2VyY2UgdGhpcyBvYmplY3Qgb3Igc3ltYm9sIHZhbHVlIHRvIGEgc3RyaW5nIGJlZm9yZVxuICAvLyBwYXNzaW5nIGl0IHRvIFJlYWN0LiBUaGUgbW9zdCByZWxpYWJsZSB3YXkgaXMgdXN1YWxseSBgU3RyaW5nKHZhbHVlKWAuXG4gIC8vXG4gIC8vIFRvIGZpbmQgd2hpY2ggdmFsdWUgaXMgdGhyb3dpbmcsIGNoZWNrIHRoZSBicm93c2VyIG9yIGRlYnVnZ2VyIGNvbnNvbGUuXG4gIC8vIEJlZm9yZSB0aGlzIGV4Y2VwdGlvbiB3YXMgdGhyb3duLCB0aGVyZSBzaG91bGQgYmUgYGNvbnNvbGUuZXJyb3JgIG91dHB1dFxuICAvLyB0aGF0IHNob3dzIHRoZSB0eXBlIChTeW1ib2wsIFRlbXBvcmFsLlBsYWluRGF0ZSwgZXRjLikgdGhhdCBjYXVzZWQgdGhlXG4gIC8vIHByb2JsZW0gYW5kIGhvdyB0aGF0IHR5cGUgd2FzIHVzZWQ6IGtleSwgYXRycmlidXRlLCBpbnB1dCB2YWx1ZSBwcm9wLCBldGMuXG4gIC8vIEluIG1vc3QgY2FzZXMsIHRoaXMgY29uc29sZSBvdXRwdXQgYWxzbyBzaG93cyB0aGUgY29tcG9uZW50IGFuZCBpdHNcbiAgLy8gYW5jZXN0b3IgY29tcG9uZW50cyB3aGVyZSB0aGUgZXhjZXB0aW9uIGhhcHBlbmVkLlxuICAvL1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaW50ZXJuYWwvc2FmZS1zdHJpbmctY29lcmNpb25cbiAgcmV0dXJuICcnICsgdmFsdWU7XG59XG5mdW5jdGlvbiBjaGVja0tleVN0cmluZ0NvZXJjaW9uKHZhbHVlKSB7XG4gIHtcbiAgICBpZiAod2lsbENvZXJjaW9uVGhyb3codmFsdWUpKSB7XG4gICAgICBlcnJvcignVGhlIHByb3ZpZGVkIGtleSBpcyBhbiB1bnN1cHBvcnRlZCB0eXBlICVzLicgKyAnIFRoaXMgdmFsdWUgbXVzdCBiZSBjb2VyY2VkIHRvIGEgc3RyaW5nIGJlZm9yZSB1c2luZyBpdCBoZXJlLicsIHR5cGVOYW1lKHZhbHVlKSk7XG5cbiAgICAgIHJldHVybiB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpOyAvLyB0aHJvdyAodG8gaGVscCBjYWxsZXJzIGZpbmQgdHJvdWJsZXNob290aW5nIGNvbW1lbnRzKVxuICAgIH1cbiAgfVxufVxuXG52YXIgUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRSQxID0gU3ltYm9sLmZvcigncmVhY3QuY2xpZW50LnJlZmVyZW5jZScpO1xuZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnRUeXBlKHR5cGUpIHtcbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9IC8vIE5vdGU6IHR5cGVvZiBtaWdodCBiZSBvdGhlciB0aGFuICdzeW1ib2wnIG9yICdudW1iZXInIChlLmcuIGlmIGl0J3MgYSBwb2x5ZmlsbCkuXG5cblxuICBpZiAodHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSB8fCB0eXBlID09PSBSRUFDVF9QUk9GSUxFUl9UWVBFIHx8IGVuYWJsZURlYnVnVHJhY2luZyAgfHwgdHlwZSA9PT0gUkVBQ1RfU1RSSUNUX01PREVfVFlQRSB8fCB0eXBlID09PSBSRUFDVF9TVVNQRU5TRV9UWVBFIHx8IHR5cGUgPT09IFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRSB8fCBlbmFibGVMZWdhY3lIaWRkZW4gIHx8IHR5cGUgPT09IFJFQUNUX09GRlNDUkVFTl9UWVBFIHx8IGVuYWJsZVNjb3BlQVBJICB8fCBlbmFibGVDYWNoZUVsZW1lbnQgIHx8IGVuYWJsZVRyYW5zaXRpb25UcmFjaW5nICkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0JyAmJiB0eXBlICE9PSBudWxsKSB7XG4gICAgaWYgKHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0xBWllfVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9NRU1PX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ09OVEVYVF9UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX1BST1ZJREVSX1RZUEUgfHwgZW5hYmxlUmVuZGVyYWJsZUNvbnRleHQgIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUgfHwgLy8gVGhpcyBuZWVkcyB0byBpbmNsdWRlIGFsbCBwb3NzaWJsZSBtb2R1bGUgcmVmZXJlbmNlIG9iamVjdFxuICAgIC8vIHR5cGVzIHN1cHBvcnRlZCBieSBhbnkgRmxpZ2h0IGNvbmZpZ3VyYXRpb24gYW55d2hlcmUgc2luY2VcbiAgICAvLyB3ZSBkb24ndCBrbm93IHdoaWNoIEZsaWdodCBidWlsZCB0aGlzIHdpbGwgZW5kIHVwIGJlaW5nIHVzZWRcbiAgICAvLyB3aXRoLlxuICAgIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UkMSB8fCB0eXBlLmdldE1vZHVsZUlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxudmFyIGlzQXJyYXlJbXBsID0gQXJyYXkuaXNBcnJheTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlZGVjbGFyZVxuXG5mdW5jdGlvbiBpc0FycmF5KGEpIHtcbiAgcmV0dXJuIGlzQXJyYXlJbXBsKGEpO1xufVxuXG4vLyBIZWxwZXJzIHRvIHBhdGNoIGNvbnNvbGUubG9ncyB0byBhdm9pZCBsb2dnaW5nIGR1cmluZyBzaWRlLWVmZmVjdCBmcmVlXG4vLyByZXBsYXlpbmcgb24gcmVuZGVyIGZ1bmN0aW9uLiBUaGlzIGN1cnJlbnRseSBvbmx5IHBhdGNoZXMgdGhlIG9iamVjdFxuLy8gbGF6aWx5IHdoaWNoIHdvbid0IGNvdmVyIGlmIHRoZSBsb2cgZnVuY3Rpb24gd2FzIGV4dHJhY3RlZCBlYWdlcmx5LlxuLy8gV2UgY291bGQgYWxzbyBlYWdlcmx5IHBhdGNoIHRoZSBtZXRob2QuXG52YXIgZGlzYWJsZWREZXB0aCA9IDA7XG52YXIgcHJldkxvZztcbnZhciBwcmV2SW5mbztcbnZhciBwcmV2V2FybjtcbnZhciBwcmV2RXJyb3I7XG52YXIgcHJldkdyb3VwO1xudmFyIHByZXZHcm91cENvbGxhcHNlZDtcbnZhciBwcmV2R3JvdXBFbmQ7XG5cbmZ1bmN0aW9uIGRpc2FibGVkTG9nKCkge31cblxuZGlzYWJsZWRMb2cuX19yZWFjdERpc2FibGVkTG9nID0gdHJ1ZTtcbmZ1bmN0aW9uIGRpc2FibGVMb2dzKCkge1xuICB7XG4gICAgaWYgKGRpc2FibGVkRGVwdGggPT09IDApIHtcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZyAqL1xuICAgICAgcHJldkxvZyA9IGNvbnNvbGUubG9nO1xuICAgICAgcHJldkluZm8gPSBjb25zb2xlLmluZm87XG4gICAgICBwcmV2V2FybiA9IGNvbnNvbGUud2FybjtcbiAgICAgIHByZXZFcnJvciA9IGNvbnNvbGUuZXJyb3I7XG4gICAgICBwcmV2R3JvdXAgPSBjb25zb2xlLmdyb3VwO1xuICAgICAgcHJldkdyb3VwQ29sbGFwc2VkID0gY29uc29sZS5ncm91cENvbGxhcHNlZDtcbiAgICAgIHByZXZHcm91cEVuZCA9IGNvbnNvbGUuZ3JvdXBFbmQ7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTkwOTlcblxuICAgICAgdmFyIHByb3BzID0ge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBkaXNhYmxlZExvZyxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH07IC8vICRGbG93Rml4TWVbY2Fubm90LXdyaXRlXSBGbG93IHRoaW5rcyBjb25zb2xlIGlzIGltbXV0YWJsZS5cblxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoY29uc29sZSwge1xuICAgICAgICBpbmZvOiBwcm9wcyxcbiAgICAgICAgbG9nOiBwcm9wcyxcbiAgICAgICAgd2FybjogcHJvcHMsXG4gICAgICAgIGVycm9yOiBwcm9wcyxcbiAgICAgICAgZ3JvdXA6IHByb3BzLFxuICAgICAgICBncm91cENvbGxhcHNlZDogcHJvcHMsXG4gICAgICAgIGdyb3VwRW5kOiBwcm9wc1xuICAgICAgfSk7XG4gICAgICAvKiBlc2xpbnQtZW5hYmxlIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZyAqL1xuICAgIH1cblxuICAgIGRpc2FibGVkRGVwdGgrKztcbiAgfVxufVxuZnVuY3Rpb24gcmVlbmFibGVMb2dzKCkge1xuICB7XG4gICAgZGlzYWJsZWREZXB0aC0tO1xuXG4gICAgaWYgKGRpc2FibGVkRGVwdGggPT09IDApIHtcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZyAqL1xuICAgICAgdmFyIHByb3BzID0ge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICB9OyAvLyAkRmxvd0ZpeE1lW2Nhbm5vdC13cml0ZV0gRmxvdyB0aGlua3MgY29uc29sZSBpcyBpbW11dGFibGUuXG5cbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGNvbnNvbGUsIHtcbiAgICAgICAgbG9nOiBhc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgICAgdmFsdWU6IHByZXZMb2dcbiAgICAgICAgfSksXG4gICAgICAgIGluZm86IGFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgICB2YWx1ZTogcHJldkluZm9cbiAgICAgICAgfSksXG4gICAgICAgIHdhcm46IGFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgICB2YWx1ZTogcHJldldhcm5cbiAgICAgICAgfSksXG4gICAgICAgIGVycm9yOiBhc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgICAgdmFsdWU6IHByZXZFcnJvclxuICAgICAgICB9KSxcbiAgICAgICAgZ3JvdXA6IGFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgICB2YWx1ZTogcHJldkdyb3VwXG4gICAgICAgIH0pLFxuICAgICAgICBncm91cENvbGxhcHNlZDogYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgICAgIHZhbHVlOiBwcmV2R3JvdXBDb2xsYXBzZWRcbiAgICAgICAgfSksXG4gICAgICAgIGdyb3VwRW5kOiBhc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgICAgdmFsdWU6IHByZXZHcm91cEVuZFxuICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgICAvKiBlc2xpbnQtZW5hYmxlIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZyAqL1xuICAgIH1cblxuICAgIGlmIChkaXNhYmxlZERlcHRoIDwgMCkge1xuICAgICAgZXJyb3IoJ2Rpc2FibGVkRGVwdGggZmVsbCBiZWxvdyB6ZXJvLiAnICsgJ1RoaXMgaXMgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpO1xuICAgIH1cbiAgfVxufVxuXG52YXIgUmVhY3RDdXJyZW50RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlJlYWN0Q3VycmVudERpc3BhdGNoZXI7XG52YXIgcHJlZml4O1xuZnVuY3Rpb24gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUobmFtZSwgb3duZXJGbikge1xuICB7XG4gICAgaWYgKHByZWZpeCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBFeHRyYWN0IHRoZSBWTSBzcGVjaWZpYyBwcmVmaXggdXNlZCBieSBlYWNoIGxpbmUuXG4gICAgICB0cnkge1xuICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICB2YXIgbWF0Y2ggPSB4LnN0YWNrLnRyaW0oKS5tYXRjaCgvXFxuKCAqKGF0ICk/KS8pO1xuICAgICAgICBwcmVmaXggPSBtYXRjaCAmJiBtYXRjaFsxXSB8fCAnJztcbiAgICAgIH1cbiAgICB9IC8vIFdlIHVzZSB0aGUgcHJlZml4IHRvIGVuc3VyZSBvdXIgc3RhY2tzIGxpbmUgdXAgd2l0aCBuYXRpdmUgc3RhY2sgZnJhbWVzLlxuXG5cbiAgICByZXR1cm4gJ1xcbicgKyBwcmVmaXggKyBuYW1lO1xuICB9XG59XG52YXIgcmVlbnRyeSA9IGZhbHNlO1xudmFyIGNvbXBvbmVudEZyYW1lQ2FjaGU7XG5cbntcbiAgdmFyIFBvc3NpYmx5V2Vha01hcCA9IHR5cGVvZiBXZWFrTWFwID09PSAnZnVuY3Rpb24nID8gV2Vha01hcCA6IE1hcDtcbiAgY29tcG9uZW50RnJhbWVDYWNoZSA9IG5ldyBQb3NzaWJseVdlYWtNYXAoKTtcbn1cbi8qKlxuICogTGV2ZXJhZ2VzIG5hdGl2ZSBicm93c2VyL1ZNIHN0YWNrIGZyYW1lcyB0byBnZXQgcHJvcGVyIGRldGFpbHMgKGUuZy5cbiAqIGZpbGVuYW1lLCBsaW5lICsgY29sIG51bWJlcikgZm9yIGEgc2luZ2xlIGNvbXBvbmVudCBpbiBhIGNvbXBvbmVudCBzdGFjay4gV2VcbiAqIGRvIHRoaXMgYnk6XG4gKiAgICgxKSB0aHJvd2luZyBhbmQgY2F0Y2hpbmcgYW4gZXJyb3IgaW4gdGhlIGZ1bmN0aW9uIC0gdGhpcyB3aWxsIGJlIG91clxuICogICAgICAgY29udHJvbCBlcnJvci5cbiAqICAgKDIpIGNhbGxpbmcgdGhlIGNvbXBvbmVudCB3aGljaCB3aWxsIGV2ZW50dWFsbHkgdGhyb3cgYW4gZXJyb3IgdGhhdCB3ZSdsbFxuICogICAgICAgY2F0Y2ggLSB0aGlzIHdpbGwgYmUgb3VyIHNhbXBsZSBlcnJvci5cbiAqICAgKDMpIGRpZmZpbmcgdGhlIGNvbnRyb2wgYW5kIHNhbXBsZSBlcnJvciBzdGFja3MgdG8gZmluZCB0aGUgc3RhY2sgZnJhbWVcbiAqICAgICAgIHdoaWNoIHJlcHJlc2VudHMgb3VyIGNvbXBvbmVudC5cbiAqL1xuXG5cbmZ1bmN0aW9uIGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUoZm4sIGNvbnN0cnVjdCkge1xuICAvLyBJZiBzb21ldGhpbmcgYXNrZWQgZm9yIGEgc3RhY2sgaW5zaWRlIGEgZmFrZSByZW5kZXIsIGl0IHNob3VsZCBnZXQgaWdub3JlZC5cbiAgaWYgKCFmbiB8fCByZWVudHJ5KSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAge1xuICAgIHZhciBmcmFtZSA9IGNvbXBvbmVudEZyYW1lQ2FjaGUuZ2V0KGZuKTtcblxuICAgIGlmIChmcmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZnJhbWU7XG4gICAgfVxuICB9XG5cbiAgcmVlbnRyeSA9IHRydWU7XG4gIHZhciBwcmV2aW91c1ByZXBhcmVTdGFja1RyYWNlID0gRXJyb3IucHJlcGFyZVN0YWNrVHJhY2U7IC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGVdIEl0IGRvZXMgYWNjZXB0IHVuZGVmaW5lZC5cblxuICBFcnJvci5wcmVwYXJlU3RhY2tUcmFjZSA9IHVuZGVmaW5lZDtcbiAgdmFyIHByZXZpb3VzRGlzcGF0Y2hlcjtcblxuICB7XG4gICAgcHJldmlvdXNEaXNwYXRjaGVyID0gUmVhY3RDdXJyZW50RGlzcGF0Y2hlci5jdXJyZW50OyAvLyBTZXQgdGhlIGRpc3BhdGNoZXIgaW4gREVWIGJlY2F1c2UgdGhpcyBtaWdodCBiZSBjYWxsIGluIHRoZSByZW5kZXIgZnVuY3Rpb25cbiAgICAvLyBmb3Igd2FybmluZ3MuXG5cbiAgICBSZWFjdEN1cnJlbnREaXNwYXRjaGVyLmN1cnJlbnQgPSBudWxsO1xuICAgIGRpc2FibGVMb2dzKCk7XG4gIH1cbiAgLyoqXG4gICAqIEZpbmRpbmcgYSBjb21tb24gc3RhY2sgZnJhbWUgYmV0d2VlbiBzYW1wbGUgYW5kIGNvbnRyb2wgZXJyb3JzIGNhbiBiZVxuICAgKiB0cmlja3kgZ2l2ZW4gdGhlIGRpZmZlcmVudCB0eXBlcyBhbmQgbGV2ZWxzIG9mIHN0YWNrIHRyYWNlIHRydW5jYXRpb24gZnJvbVxuICAgKiBkaWZmZXJlbnQgSlMgVk1zLiBTbyBpbnN0ZWFkIHdlJ2xsIGF0dGVtcHQgdG8gY29udHJvbCB3aGF0IHRoYXQgY29tbW9uXG4gICAqIGZyYW1lIHNob3VsZCBiZSB0aHJvdWdoIHRoaXMgb2JqZWN0IG1ldGhvZDpcbiAgICogSGF2aW5nIGJvdGggdGhlIHNhbXBsZSBhbmQgY29udHJvbCBlcnJvcnMgYmUgaW4gdGhlIGZ1bmN0aW9uIHVuZGVyIHRoZVxuICAgKiBgRGVzY3JpYmVOYXRpdmVDb21wb25lbnRGcmFtZVJvb3RgIHByb3BlcnR5LCArIHNldHRpbmcgdGhlIGBuYW1lYCBhbmRcbiAgICogYGRpc3BsYXlOYW1lYCBwcm9wZXJ0aWVzIG9mIHRoZSBmdW5jdGlvbiBlbnN1cmVzIHRoYXQgYSBzdGFja1xuICAgKiBmcmFtZSBleGlzdHMgdGhhdCBoYXMgdGhlIG1ldGhvZCBuYW1lIGBEZXNjcmliZU5hdGl2ZUNvbXBvbmVudEZyYW1lUm9vdGAgaW5cbiAgICogaXQgZm9yIGJvdGggY29udHJvbCBhbmQgc2FtcGxlIHN0YWNrcy5cbiAgICovXG5cblxuICB2YXIgUnVuSW5Sb290RnJhbWUgPSB7XG4gICAgRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290OiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgY29udHJvbDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyBzaG91bGQgdGhyb3cuXG4gICAgICAgIGlmIChjb25zdHJ1Y3QpIHtcbiAgICAgICAgICAvLyBTb21ldGhpbmcgc2hvdWxkIGJlIHNldHRpbmcgdGhlIHByb3BzIGluIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICB2YXIgRmFrZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgICAgfTsgLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddXG5cblxuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGYWtlLnByb3RvdHlwZSwgJ3Byb3BzJywge1xuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIC8vIFdlIHVzZSBhIHRocm93aW5nIHNldHRlciBpbnN0ZWFkIG9mIGZyb3plbiBvciBub24td3JpdGFibGUgcHJvcHNcbiAgICAgICAgICAgICAgLy8gYmVjYXVzZSB0aGF0IHdvbid0IHRocm93IGluIGEgbm9uLXN0cmljdCBtb2RlIGZ1bmN0aW9uLlxuICAgICAgICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSAnb2JqZWN0JyAmJiBSZWZsZWN0LmNvbnN0cnVjdCkge1xuICAgICAgICAgICAgLy8gV2UgY29uc3RydWN0IGEgZGlmZmVyZW50IGNvbnRyb2wgZm9yIHRoaXMgY2FzZSB0byBpbmNsdWRlIGFueSBleHRyYVxuICAgICAgICAgICAgLy8gZnJhbWVzIGFkZGVkIGJ5IHRoZSBjb25zdHJ1Y3QgY2FsbC5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIFJlZmxlY3QuY29uc3RydWN0KEZha2UsIFtdKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgICAgICAgY29udHJvbCA9IHg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIFJlZmxlY3QuY29uc3RydWN0KGZuLCBbXSwgRmFrZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIEZha2UuY2FsbCgpO1xuICAgICAgICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICAgICAgICBjb250cm9sID0geDtcbiAgICAgICAgICAgIH0gLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddIGZvdW5kIHdoZW4gdXBncmFkaW5nIEZsb3dcblxuXG4gICAgICAgICAgICBmbi5jYWxsKEZha2UucHJvdG90eXBlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICAgICAgY29udHJvbCA9IHg7XG4gICAgICAgICAgfSAvLyBUT0RPKGx1bmEpOiBUaGlzIHdpbGwgY3VycmVudGx5IG9ubHkgdGhyb3cgaWYgdGhlIGZ1bmN0aW9uIGNvbXBvbmVudFxuICAgICAgICAgIC8vIHRyaWVzIHRvIGFjY2VzcyBSZWFjdC9SZWFjdERPTS9wcm9wcy4gV2Ugc2hvdWxkIHByb2JhYmx5IG1ha2UgdGhpcyB0aHJvd1xuICAgICAgICAgIC8vIGluIHNpbXBsZSBjb21wb25lbnRzIHRvb1xuXG5cbiAgICAgICAgICB2YXIgbWF5YmVQcm9taXNlID0gZm4oKTsgLy8gSWYgdGhlIGZ1bmN0aW9uIGNvbXBvbmVudCByZXR1cm5zIGEgcHJvbWlzZSwgaXQncyBsaWtlbHkgYW4gYXN5bmNcbiAgICAgICAgICAvLyBjb21wb25lbnQsIHdoaWNoIHdlIGRvbid0IHlldCBzdXBwb3J0LiBBdHRhY2ggYSBub29wIGNhdGNoIGhhbmRsZXIgdG9cbiAgICAgICAgICAvLyBzaWxlbmNlIHRoZSBlcnJvci5cbiAgICAgICAgICAvLyBUT0RPOiBJbXBsZW1lbnQgY29tcG9uZW50IHN0YWNrcyBmb3IgYXN5bmMgY2xpZW50IGNvbXBvbmVudHM/XG5cbiAgICAgICAgICBpZiAobWF5YmVQcm9taXNlICYmIHR5cGVvZiBtYXliZVByb21pc2UuY2F0Y2ggPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIG1heWJlUHJvbWlzZS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChzYW1wbGUpIHtcbiAgICAgICAgLy8gVGhpcyBpcyBpbmxpbmVkIG1hbnVhbGx5IGJlY2F1c2UgY2xvc3VyZSBkb2Vzbid0IGRvIGl0IGZvciB1cy5cbiAgICAgICAgaWYgKHNhbXBsZSAmJiBjb250cm9sICYmIHR5cGVvZiBzYW1wbGUuc3RhY2sgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgcmV0dXJuIFtzYW1wbGUuc3RhY2ssIGNvbnRyb2wuc3RhY2tdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBbbnVsbCwgbnVsbF07XG4gICAgfVxuICB9OyAvLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ11cblxuICBSdW5JblJvb3RGcmFtZS5EZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QuZGlzcGxheU5hbWUgPSAnRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290JztcbiAgdmFyIG5hbWVQcm9wRGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoUnVuSW5Sb290RnJhbWUuRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290LCAnbmFtZScpOyAvLyBCZWZvcmUgRVM2LCB0aGUgYG5hbWVgIHByb3BlcnR5IHdhcyBub3QgY29uZmlndXJhYmxlLlxuXG4gIGlmIChuYW1lUHJvcERlc2NyaXB0b3IgJiYgbmFtZVByb3BEZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSkge1xuICAgIC8vIFY4IHV0aWxpemVzIGEgZnVuY3Rpb24ncyBgbmFtZWAgcHJvcGVydHkgd2hlbiBnZW5lcmF0aW5nIGEgc3RhY2sgdHJhY2UuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJ1bkluUm9vdEZyYW1lLkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdCwgLy8gQ29uZmlndXJhYmxlIHByb3BlcnRpZXMgY2FuIGJlIHVwZGF0ZWQgZXZlbiBpZiBpdHMgd3JpdGFibGUgZGVzY3JpcHRvclxuICAgIC8vIGlzIHNldCB0byBgZmFsc2VgLlxuICAgIC8vICRGbG93Rml4TWVbY2Fubm90LXdyaXRlXVxuICAgICduYW1lJywge1xuICAgICAgdmFsdWU6ICdEZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QnXG4gICAgfSk7XG4gIH1cblxuICB0cnkge1xuICAgIHZhciBfUnVuSW5Sb290RnJhbWUkRGV0ZXIgPSBSdW5JblJvb3RGcmFtZS5EZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QoKSxcbiAgICAgICAgc2FtcGxlU3RhY2sgPSBfUnVuSW5Sb290RnJhbWUkRGV0ZXJbMF0sXG4gICAgICAgIGNvbnRyb2xTdGFjayA9IF9SdW5JblJvb3RGcmFtZSREZXRlclsxXTtcblxuICAgIGlmIChzYW1wbGVTdGFjayAmJiBjb250cm9sU3RhY2spIHtcbiAgICAgIC8vIFRoaXMgZXh0cmFjdHMgdGhlIGZpcnN0IGZyYW1lIGZyb20gdGhlIHNhbXBsZSB0aGF0IGlzbid0IGFsc28gaW4gdGhlIGNvbnRyb2wuXG4gICAgICAvLyBTa2lwcGluZyBvbmUgZnJhbWUgdGhhdCB3ZSBhc3N1bWUgaXMgdGhlIGZyYW1lIHRoYXQgY2FsbHMgdGhlIHR3by5cbiAgICAgIHZhciBzYW1wbGVMaW5lcyA9IHNhbXBsZVN0YWNrLnNwbGl0KCdcXG4nKTtcbiAgICAgIHZhciBjb250cm9sTGluZXMgPSBjb250cm9sU3RhY2suc3BsaXQoJ1xcbicpO1xuICAgICAgdmFyIHMgPSAwO1xuICAgICAgdmFyIGMgPSAwO1xuXG4gICAgICB3aGlsZSAocyA8IHNhbXBsZUxpbmVzLmxlbmd0aCAmJiAhc2FtcGxlTGluZXNbc10uaW5jbHVkZXMoJ0RldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdCcpKSB7XG4gICAgICAgIHMrKztcbiAgICAgIH1cblxuICAgICAgd2hpbGUgKGMgPCBjb250cm9sTGluZXMubGVuZ3RoICYmICFjb250cm9sTGluZXNbY10uaW5jbHVkZXMoJ0RldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdCcpKSB7XG4gICAgICAgIGMrKztcbiAgICAgIH0gLy8gV2UgY291bGRuJ3QgZmluZCBvdXIgaW50ZW50aW9uYWxseSBpbmplY3RlZCBjb21tb24gcm9vdCBmcmFtZSwgYXR0ZW1wdFxuICAgICAgLy8gdG8gZmluZCBhbm90aGVyIGNvbW1vbiByb290IGZyYW1lIGJ5IHNlYXJjaCBmcm9tIHRoZSBib3R0b20gb2YgdGhlXG4gICAgICAvLyBjb250cm9sIHN0YWNrLi4uXG5cblxuICAgICAgaWYgKHMgPT09IHNhbXBsZUxpbmVzLmxlbmd0aCB8fCBjID09PSBjb250cm9sTGluZXMubGVuZ3RoKSB7XG4gICAgICAgIHMgPSBzYW1wbGVMaW5lcy5sZW5ndGggLSAxO1xuICAgICAgICBjID0gY29udHJvbExpbmVzLmxlbmd0aCAtIDE7XG5cbiAgICAgICAgd2hpbGUgKHMgPj0gMSAmJiBjID49IDAgJiYgc2FtcGxlTGluZXNbc10gIT09IGNvbnRyb2xMaW5lc1tjXSkge1xuICAgICAgICAgIC8vIFdlIGV4cGVjdCBhdCBsZWFzdCBvbmUgc3RhY2sgZnJhbWUgdG8gYmUgc2hhcmVkLlxuICAgICAgICAgIC8vIFR5cGljYWxseSB0aGlzIHdpbGwgYmUgdGhlIHJvb3QgbW9zdCBvbmUuIEhvd2V2ZXIsIHN0YWNrIGZyYW1lcyBtYXkgYmVcbiAgICAgICAgICAvLyBjdXQgb2ZmIGR1ZSB0byBtYXhpbXVtIHN0YWNrIGxpbWl0cy4gSW4gdGhpcyBjYXNlLCBvbmUgbWF5YmUgY3V0IG9mZlxuICAgICAgICAgIC8vIGVhcmxpZXIgdGhhbiB0aGUgb3RoZXIuIFdlIGFzc3VtZSB0aGF0IHRoZSBzYW1wbGUgaXMgbG9uZ2VyIG9yIHRoZSBzYW1lXG4gICAgICAgICAgLy8gYW5kIHRoZXJlIGZvciBjdXQgb2ZmIGVhcmxpZXIuIFNvIHdlIHNob3VsZCBmaW5kIHRoZSByb290IG1vc3QgZnJhbWUgaW5cbiAgICAgICAgICAvLyB0aGUgc2FtcGxlIHNvbWV3aGVyZSBpbiB0aGUgY29udHJvbC5cbiAgICAgICAgICBjLS07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZm9yICg7IHMgPj0gMSAmJiBjID49IDA7IHMtLSwgYy0tKSB7XG4gICAgICAgIC8vIE5leHQgd2UgZmluZCB0aGUgZmlyc3Qgb25lIHRoYXQgaXNuJ3QgdGhlIHNhbWUgd2hpY2ggc2hvdWxkIGJlIHRoZVxuICAgICAgICAvLyBmcmFtZSB0aGF0IGNhbGxlZCBvdXIgc2FtcGxlIGZ1bmN0aW9uIGFuZCB0aGUgY29udHJvbC5cbiAgICAgICAgaWYgKHNhbXBsZUxpbmVzW3NdICE9PSBjb250cm9sTGluZXNbY10pIHtcbiAgICAgICAgICAvLyBJbiBWOCwgdGhlIGZpcnN0IGxpbmUgaXMgZGVzY3JpYmluZyB0aGUgbWVzc2FnZSBidXQgb3RoZXIgVk1zIGRvbid0LlxuICAgICAgICAgIC8vIElmIHdlJ3JlIGFib3V0IHRvIHJldHVybiB0aGUgZmlyc3QgbGluZSwgYW5kIHRoZSBjb250cm9sIGlzIGFsc28gb24gdGhlIHNhbWVcbiAgICAgICAgICAvLyBsaW5lLCB0aGF0J3MgYSBwcmV0dHkgZ29vZCBpbmRpY2F0b3IgdGhhdCBvdXIgc2FtcGxlIHRocmV3IGF0IHNhbWUgbGluZSBhc1xuICAgICAgICAgIC8vIHRoZSBjb250cm9sLiBJLmUuIGJlZm9yZSB3ZSBlbnRlcmVkIHRoZSBzYW1wbGUgZnJhbWUuIFNvIHdlIGlnbm9yZSB0aGlzIHJlc3VsdC5cbiAgICAgICAgICAvLyBUaGlzIGNhbiBoYXBwZW4gaWYgeW91IHBhc3NlZCBhIGNsYXNzIHRvIGZ1bmN0aW9uIGNvbXBvbmVudCwgb3Igbm9uLWZ1bmN0aW9uLlxuICAgICAgICAgIGlmIChzICE9PSAxIHx8IGMgIT09IDEpIHtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgcy0tO1xuICAgICAgICAgICAgICBjLS07IC8vIFdlIG1heSBzdGlsbCBoYXZlIHNpbWlsYXIgaW50ZXJtZWRpYXRlIGZyYW1lcyBmcm9tIHRoZSBjb25zdHJ1Y3QgY2FsbC5cbiAgICAgICAgICAgICAgLy8gVGhlIG5leHQgb25lIHRoYXQgaXNuJ3QgdGhlIHNhbWUgc2hvdWxkIGJlIG91ciBtYXRjaCB0aG91Z2guXG5cbiAgICAgICAgICAgICAgaWYgKGMgPCAwIHx8IHNhbXBsZUxpbmVzW3NdICE9PSBjb250cm9sTGluZXNbY10pIHtcbiAgICAgICAgICAgICAgICAvLyBWOCBhZGRzIGEgXCJuZXdcIiBwcmVmaXggZm9yIG5hdGl2ZSBjbGFzc2VzLiBMZXQncyByZW1vdmUgaXQgdG8gbWFrZSBpdCBwcmV0dGllci5cbiAgICAgICAgICAgICAgICB2YXIgX2ZyYW1lID0gJ1xcbicgKyBzYW1wbGVMaW5lc1tzXS5yZXBsYWNlKCcgYXQgbmV3ICcsICcgYXQgJyk7IC8vIElmIG91ciBjb21wb25lbnQgZnJhbWUgaXMgbGFiZWxlZCBcIjxhbm9ueW1vdXM+XCJcbiAgICAgICAgICAgICAgICAvLyBidXQgd2UgaGF2ZSBhIHVzZXItcHJvdmlkZWQgXCJkaXNwbGF5TmFtZVwiXG4gICAgICAgICAgICAgICAgLy8gc3BsaWNlIGl0IGluIHRvIG1ha2UgdGhlIHN0YWNrIG1vcmUgcmVhZGFibGUuXG5cblxuICAgICAgICAgICAgICAgIGlmIChmbi5kaXNwbGF5TmFtZSAmJiBfZnJhbWUuaW5jbHVkZXMoJzxhbm9ueW1vdXM+JykpIHtcbiAgICAgICAgICAgICAgICAgIF9mcmFtZSA9IF9mcmFtZS5yZXBsYWNlKCc8YW5vbnltb3VzPicsIGZuLmRpc3BsYXlOYW1lKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRGcmFtZUNhY2hlLnNldChmbiwgX2ZyYW1lKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IC8vIFJldHVybiB0aGUgbGluZSB3ZSBmb3VuZC5cblxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9mcmFtZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSB3aGlsZSAocyA+PSAxICYmIGMgPj0gMCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gZmluYWxseSB7XG4gICAgcmVlbnRyeSA9IGZhbHNlO1xuXG4gICAge1xuICAgICAgUmVhY3RDdXJyZW50RGlzcGF0Y2hlci5jdXJyZW50ID0gcHJldmlvdXNEaXNwYXRjaGVyO1xuICAgICAgcmVlbmFibGVMb2dzKCk7XG4gICAgfVxuXG4gICAgRXJyb3IucHJlcGFyZVN0YWNrVHJhY2UgPSBwcmV2aW91c1ByZXBhcmVTdGFja1RyYWNlO1xuICB9IC8vIEZhbGxiYWNrIHRvIGp1c3QgdXNpbmcgdGhlIG5hbWUgaWYgd2UgY291bGRuJ3QgbWFrZSBpdCB0aHJvdy5cblxuXG4gIHZhciBuYW1lID0gZm4gPyBmbi5kaXNwbGF5TmFtZSB8fCBmbi5uYW1lIDogJyc7XG4gIHZhciBzeW50aGV0aWNGcmFtZSA9IG5hbWUgPyBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZShuYW1lKSA6ICcnO1xuXG4gIHtcbiAgICBpZiAodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjb21wb25lbnRGcmFtZUNhY2hlLnNldChmbiwgc3ludGhldGljRnJhbWUpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzeW50aGV0aWNGcmFtZTtcbn1cbmZ1bmN0aW9uIGRlc2NyaWJlRnVuY3Rpb25Db21wb25lbnRGcmFtZShmbiwgb3duZXJGbikge1xuICB7XG4gICAgcmV0dXJuIGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUoZm4sIGZhbHNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzaG91bGRDb25zdHJ1Y3QoQ29tcG9uZW50KSB7XG4gIHZhciBwcm90b3R5cGUgPSBDb21wb25lbnQucHJvdG90eXBlO1xuICByZXR1cm4gISEocHJvdG90eXBlICYmIHByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50KTtcbn1cblxuZnVuY3Rpb24gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKHR5cGUsIG93bmVyRm4pIHtcblxuICBpZiAodHlwZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAge1xuICAgICAgcmV0dXJuIGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUodHlwZSwgc2hvdWxkQ29uc3RydWN0KHR5cGUpKTtcbiAgICB9XG4gIH1cblxuICBpZiAodHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKHR5cGUpO1xuICB9XG5cbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9UWVBFOlxuICAgICAgcmV0dXJuIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKCdTdXNwZW5zZScpO1xuXG4gICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEU6XG4gICAgICByZXR1cm4gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUoJ1N1c3BlbnNlTGlzdCcpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0Jykge1xuICAgIHN3aXRjaCAodHlwZS4kJHR5cGVvZikge1xuICAgICAgY2FzZSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFOlxuICAgICAgICByZXR1cm4gZGVzY3JpYmVGdW5jdGlvbkNvbXBvbmVudEZyYW1lKHR5cGUucmVuZGVyKTtcblxuICAgICAgY2FzZSBSRUFDVF9NRU1PX1RZUEU6XG4gICAgICAgIC8vIE1lbW8gbWF5IGNvbnRhaW4gYW55IGNvbXBvbmVudCB0eXBlIHNvIHdlIHJlY3Vyc2l2ZWx5IHJlc29sdmUgaXQuXG4gICAgICAgIHJldHVybiBkZXNjcmliZVVua25vd25FbGVtZW50VHlwZUZyYW1lSW5ERVYodHlwZS50eXBlLCBvd25lckZuKTtcblxuICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgbGF6eUNvbXBvbmVudCA9IHR5cGU7XG4gICAgICAgICAgdmFyIHBheWxvYWQgPSBsYXp5Q29tcG9uZW50Ll9wYXlsb2FkO1xuICAgICAgICAgIHZhciBpbml0ID0gbGF6eUNvbXBvbmVudC5faW5pdDtcblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBMYXp5IG1heSBjb250YWluIGFueSBjb21wb25lbnQgdHlwZSBzbyB3ZSByZWN1cnNpdmVseSByZXNvbHZlIGl0LlxuICAgICAgICAgICAgcmV0dXJuIGRlc2NyaWJlVW5rbm93bkVsZW1lbnRUeXBlRnJhbWVJbkRFVihpbml0KHBheWxvYWQpLCBvd25lckZuKTtcbiAgICAgICAgICB9IGNhdGNoICh4KSB7fVxuICAgICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuICcnO1xufVxuXG52YXIgUmVhY3RDdXJyZW50T3duZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdEN1cnJlbnRPd25lcjtcbnZhciBSZWFjdERlYnVnQ3VycmVudEZyYW1lID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZTtcbnZhciBSRUFDVF9DTElFTlRfUkVGRVJFTkNFID0gU3ltYm9sLmZvcigncmVhY3QuY2xpZW50LnJlZmVyZW5jZScpO1xudmFyIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duO1xudmFyIHNwZWNpYWxQcm9wUmVmV2FybmluZ1Nob3duO1xudmFyIGRpZFdhcm5BYm91dFN0cmluZ1JlZnM7XG5cbntcbiAgZGlkV2FybkFib3V0U3RyaW5nUmVmcyA9IHt9O1xufVxuXG5mdW5jdGlvbiBoYXNWYWxpZFJlZihjb25maWcpIHtcbiAge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgJ3JlZicpKSB7XG4gICAgICB2YXIgZ2V0dGVyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb25maWcsICdyZWYnKS5nZXQ7XG5cbiAgICAgIGlmIChnZXR0ZXIgJiYgZ2V0dGVyLmlzUmVhY3RXYXJuaW5nKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gY29uZmlnLnJlZiAhPT0gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBoYXNWYWxpZEtleShjb25maWcpIHtcbiAge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgJ2tleScpKSB7XG4gICAgICB2YXIgZ2V0dGVyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb25maWcsICdrZXknKS5nZXQ7XG5cbiAgICAgIGlmIChnZXR0ZXIgJiYgZ2V0dGVyLmlzUmVhY3RXYXJuaW5nKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gY29uZmlnLmtleSAhPT0gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiB3YXJuSWZTdHJpbmdSZWZDYW5ub3RCZUF1dG9Db252ZXJ0ZWQoY29uZmlnLCBzZWxmKSB7XG4gIHtcbiAgICBpZiAodHlwZW9mIGNvbmZpZy5yZWYgPT09ICdzdHJpbmcnICYmIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQgJiYgc2VsZiAmJiBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50LnN0YXRlTm9kZSAhPT0gc2VsZikge1xuICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoUmVhY3RDdXJyZW50T3duZXIuY3VycmVudC50eXBlKTtcblxuICAgICAgaWYgKCFkaWRXYXJuQWJvdXRTdHJpbmdSZWZzW2NvbXBvbmVudE5hbWVdKSB7XG4gICAgICAgIGVycm9yKCdDb21wb25lbnQgXCIlc1wiIGNvbnRhaW5zIHRoZSBzdHJpbmcgcmVmIFwiJXNcIi4gJyArICdTdXBwb3J0IGZvciBzdHJpbmcgcmVmcyB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgbWFqb3IgcmVsZWFzZS4gJyArICdUaGlzIGNhc2UgY2Fubm90IGJlIGF1dG9tYXRpY2FsbHkgY29udmVydGVkIHRvIGFuIGFycm93IGZ1bmN0aW9uLiAnICsgJ1dlIGFzayB5b3UgdG8gbWFudWFsbHkgZml4IHRoaXMgY2FzZSBieSB1c2luZyB1c2VSZWYoKSBvciBjcmVhdGVSZWYoKSBpbnN0ZWFkLiAnICsgJ0xlYXJuIG1vcmUgYWJvdXQgdXNpbmcgcmVmcyBzYWZlbHkgaGVyZTogJyArICdodHRwczovL3JlYWN0anMub3JnL2xpbmsvc3RyaWN0LW1vZGUtc3RyaW5nLXJlZicsIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50LnR5cGUpLCBjb25maWcucmVmKTtcblxuICAgICAgICBkaWRXYXJuQWJvdXRTdHJpbmdSZWZzW2NvbXBvbmVudE5hbWVdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKSB7XG4gIHtcbiAgICB2YXIgd2FybkFib3V0QWNjZXNzaW5nS2V5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93bikge1xuICAgICAgICBzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93biA9IHRydWU7XG5cbiAgICAgICAgZXJyb3IoJyVzOiBga2V5YCBpcyBub3QgYSBwcm9wLiBUcnlpbmcgdG8gYWNjZXNzIGl0IHdpbGwgcmVzdWx0ICcgKyAnaW4gYHVuZGVmaW5lZGAgYmVpbmcgcmV0dXJuZWQuIElmIHlvdSBuZWVkIHRvIGFjY2VzcyB0aGUgc2FtZSAnICsgJ3ZhbHVlIHdpdGhpbiB0aGUgY2hpbGQgY29tcG9uZW50LCB5b3Ugc2hvdWxkIHBhc3MgaXQgYXMgYSBkaWZmZXJlbnQgJyArICdwcm9wLiAoaHR0cHM6Ly9yZWFjdGpzLm9yZy9saW5rL3NwZWNpYWwtcHJvcHMpJywgZGlzcGxheU5hbWUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB3YXJuQWJvdXRBY2Nlc3NpbmdLZXkuaXNSZWFjdFdhcm5pbmcgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9wcywgJ2tleScsIHtcbiAgICAgIGdldDogd2FybkFib3V0QWNjZXNzaW5nS2V5LFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZGVmaW5lUmVmUHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKSB7XG4gIHtcbiAgICB7XG4gICAgICB2YXIgd2FybkFib3V0QWNjZXNzaW5nUmVmID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXNwZWNpYWxQcm9wUmVmV2FybmluZ1Nob3duKSB7XG4gICAgICAgICAgc3BlY2lhbFByb3BSZWZXYXJuaW5nU2hvd24gPSB0cnVlO1xuXG4gICAgICAgICAgZXJyb3IoJyVzOiBgcmVmYCBpcyBub3QgYSBwcm9wLiBUcnlpbmcgdG8gYWNjZXNzIGl0IHdpbGwgcmVzdWx0ICcgKyAnaW4gYHVuZGVmaW5lZGAgYmVpbmcgcmV0dXJuZWQuIElmIHlvdSBuZWVkIHRvIGFjY2VzcyB0aGUgc2FtZSAnICsgJ3ZhbHVlIHdpdGhpbiB0aGUgY2hpbGQgY29tcG9uZW50LCB5b3Ugc2hvdWxkIHBhc3MgaXQgYXMgYSBkaWZmZXJlbnQgJyArICdwcm9wLiAoaHR0cHM6Ly9yZWFjdGpzLm9yZy9saW5rL3NwZWNpYWwtcHJvcHMpJywgZGlzcGxheU5hbWUpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB3YXJuQWJvdXRBY2Nlc3NpbmdSZWYuaXNSZWFjdFdhcm5pbmcgPSB0cnVlO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3BzLCAncmVmJywge1xuICAgICAgICBnZXQ6IHdhcm5BYm91dEFjY2Vzc2luZ1JlZixcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cbi8qKlxuICogRmFjdG9yeSBtZXRob2QgdG8gY3JlYXRlIGEgbmV3IFJlYWN0IGVsZW1lbnQuIFRoaXMgbm8gbG9uZ2VyIGFkaGVyZXMgdG9cbiAqIHRoZSBjbGFzcyBwYXR0ZXJuLCBzbyBkbyBub3QgdXNlIG5ldyB0byBjYWxsIGl0LiBBbHNvLCBpbnN0YW5jZW9mIGNoZWNrXG4gKiB3aWxsIG5vdCB3b3JrLiBJbnN0ZWFkIHRlc3QgJCR0eXBlb2YgZmllbGQgYWdhaW5zdCBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50JykgdG8gY2hlY2tcbiAqIGlmIHNvbWV0aGluZyBpcyBhIFJlYWN0IEVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHsqfSB0eXBlXG4gKiBAcGFyYW0geyp9IHByb3BzXG4gKiBAcGFyYW0geyp9IGtleVxuICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0fSByZWZcbiAqIEBwYXJhbSB7Kn0gb3duZXJcbiAqIEBwYXJhbSB7Kn0gc2VsZiBBICp0ZW1wb3JhcnkqIGhlbHBlciB0byBkZXRlY3QgcGxhY2VzIHdoZXJlIGB0aGlzYCBpc1xuICogZGlmZmVyZW50IGZyb20gdGhlIGBvd25lcmAgd2hlbiBSZWFjdC5jcmVhdGVFbGVtZW50IGlzIGNhbGxlZCwgc28gdGhhdCB3ZVxuICogY2FuIHdhcm4uIFdlIHdhbnQgdG8gZ2V0IHJpZCBvZiBvd25lciBhbmQgcmVwbGFjZSBzdHJpbmcgYHJlZmBzIHdpdGggYXJyb3dcbiAqIGZ1bmN0aW9ucywgYW5kIGFzIGxvbmcgYXMgYHRoaXNgIGFuZCBvd25lciBhcmUgdGhlIHNhbWUsIHRoZXJlIHdpbGwgYmUgbm9cbiAqIGNoYW5nZSBpbiBiZWhhdmlvci5cbiAqIEBwYXJhbSB7Kn0gc291cmNlIEFuIGFubm90YXRpb24gb2JqZWN0IChhZGRlZCBieSBhIHRyYW5zcGlsZXIgb3Igb3RoZXJ3aXNlKVxuICogaW5kaWNhdGluZyBmaWxlbmFtZSwgbGluZSBudW1iZXIsIGFuZC9vciBvdGhlciBpbmZvcm1hdGlvbi5cbiAqIEBpbnRlcm5hbFxuICovXG5cblxuZnVuY3Rpb24gUmVhY3RFbGVtZW50KHR5cGUsIGtleSwgX3JlZiwgc2VsZiwgc291cmNlLCBvd25lciwgcHJvcHMpIHtcbiAgdmFyIHJlZjtcblxuICB7XG4gICAgcmVmID0gX3JlZjtcbiAgfVxuXG4gIHZhciBlbGVtZW50O1xuXG4gIHtcbiAgICAvLyBJbiBwcm9kLCBgcmVmYCBpcyBhIHJlZ3VsYXIgcHJvcGVydHkuIEl0IHdpbGwgYmUgcmVtb3ZlZCBpbiBhXG4gICAgLy8gZnV0dXJlIHJlbGVhc2UuXG4gICAgZWxlbWVudCA9IHtcbiAgICAgIC8vIFRoaXMgdGFnIGFsbG93cyB1cyB0byB1bmlxdWVseSBpZGVudGlmeSB0aGlzIGFzIGEgUmVhY3QgRWxlbWVudFxuICAgICAgJCR0eXBlb2Y6IFJFQUNUX0VMRU1FTlRfVFlQRSxcbiAgICAgIC8vIEJ1aWx0LWluIHByb3BlcnRpZXMgdGhhdCBiZWxvbmcgb24gdGhlIGVsZW1lbnRcbiAgICAgIHR5cGU6IHR5cGUsXG4gICAgICBrZXk6IGtleSxcbiAgICAgIHJlZjogcmVmLFxuICAgICAgcHJvcHM6IHByb3BzLFxuICAgICAgLy8gUmVjb3JkIHRoZSBjb21wb25lbnQgcmVzcG9uc2libGUgZm9yIGNyZWF0aW5nIHRoaXMgZWxlbWVudC5cbiAgICAgIF9vd25lcjogb3duZXJcbiAgICB9O1xuICB9XG5cbiAge1xuICAgIC8vIFRoZSB2YWxpZGF0aW9uIGZsYWcgaXMgY3VycmVudGx5IG11dGF0aXZlLiBXZSBwdXQgaXQgb25cbiAgICAvLyBhbiBleHRlcm5hbCBiYWNraW5nIHN0b3JlIHNvIHRoYXQgd2UgY2FuIGZyZWV6ZSB0aGUgd2hvbGUgb2JqZWN0LlxuICAgIC8vIFRoaXMgY2FuIGJlIHJlcGxhY2VkIHdpdGggYSBXZWFrTWFwIG9uY2UgdGhleSBhcmUgaW1wbGVtZW50ZWQgaW5cbiAgICAvLyBjb21tb25seSB1c2VkIGRldmVsb3BtZW50IGVudmlyb25tZW50cy5cbiAgICBlbGVtZW50Ll9zdG9yZSA9IHt9OyAvLyBUbyBtYWtlIGNvbXBhcmluZyBSZWFjdEVsZW1lbnRzIGVhc2llciBmb3IgdGVzdGluZyBwdXJwb3Nlcywgd2UgbWFrZVxuICAgIC8vIHRoZSB2YWxpZGF0aW9uIGZsYWcgbm9uLWVudW1lcmFibGUgKHdoZXJlIHBvc3NpYmxlLCB3aGljaCBzaG91bGRcbiAgICAvLyBpbmNsdWRlIGV2ZXJ5IGVudmlyb25tZW50IHdlIHJ1biB0ZXN0cyBpbiksIHNvIHRoZSB0ZXN0IGZyYW1ld29ya1xuICAgIC8vIGlnbm9yZXMgaXQuXG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWxlbWVudC5fc3RvcmUsICd2YWxpZGF0ZWQnLCB7XG4gICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiBmYWxzZVxuICAgIH0pOyAvLyBkZWJ1Z0luZm8gY29udGFpbnMgU2VydmVyIENvbXBvbmVudCBkZWJ1ZyBpbmZvcm1hdGlvbi5cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50LCAnX2RlYnVnSW5mbycsIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IG51bGxcbiAgICB9KTtcblxuICAgIGlmIChPYmplY3QuZnJlZXplKSB7XG4gICAgICBPYmplY3QuZnJlZXplKGVsZW1lbnQucHJvcHMpO1xuICAgICAgT2JqZWN0LmZyZWV6ZShlbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZWxlbWVudDtcbn1cbnZhciBkaWRXYXJuQWJvdXRLZXlTcHJlYWQgPSB7fTtcbi8qKlxuICogaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0anMvcmZjcy9wdWxsLzEwN1xuICogQHBhcmFtIHsqfSB0eXBlXG4gKiBAcGFyYW0ge29iamVjdH0gcHJvcHNcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAqL1xuXG5mdW5jdGlvbiBqc3hERVYkMSh0eXBlLCBjb25maWcsIG1heWJlS2V5LCBpc1N0YXRpY0NoaWxkcmVuLCBzb3VyY2UsIHNlbGYpIHtcbiAge1xuICAgIGlmICghaXNWYWxpZEVsZW1lbnRUeXBlKHR5cGUpKSB7XG4gICAgICAvLyBUaGlzIGlzIGFuIGludmFsaWQgZWxlbWVudCB0eXBlLlxuICAgICAgLy9cbiAgICAgIC8vIFdlIHdhcm4gaW4gdGhpcyBjYXNlIGJ1dCBkb24ndCB0aHJvdy4gV2UgZXhwZWN0IHRoZSBlbGVtZW50IGNyZWF0aW9uIHRvXG4gICAgICAvLyBzdWNjZWVkIGFuZCB0aGVyZSB3aWxsIGxpa2VseSBiZSBlcnJvcnMgaW4gcmVuZGVyLlxuICAgICAgdmFyIGluZm8gPSAnJztcblxuICAgICAgaWYgKHR5cGUgPT09IHVuZGVmaW5lZCB8fCB0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcgJiYgdHlwZSAhPT0gbnVsbCAmJiBPYmplY3Qua2V5cyh0eXBlKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgaW5mbyArPSAnIFlvdSBsaWtlbHkgZm9yZ290IHRvIGV4cG9ydCB5b3VyIGNvbXBvbmVudCBmcm9tIHRoZSBmaWxlICcgKyBcIml0J3MgZGVmaW5lZCBpbiwgb3IgeW91IG1pZ2h0IGhhdmUgbWl4ZWQgdXAgZGVmYXVsdCBhbmQgbmFtZWQgaW1wb3J0cy5cIjtcbiAgICAgIH1cblxuICAgICAgdmFyIHR5cGVTdHJpbmc7XG5cbiAgICAgIGlmICh0eXBlID09PSBudWxsKSB7XG4gICAgICAgIHR5cGVTdHJpbmcgPSAnbnVsbCc7XG4gICAgICB9IGVsc2UgaWYgKGlzQXJyYXkodHlwZSkpIHtcbiAgICAgICAgdHlwZVN0cmluZyA9ICdhcnJheSc7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgIT09IHVuZGVmaW5lZCAmJiB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEUpIHtcbiAgICAgICAgdHlwZVN0cmluZyA9IFwiPFwiICsgKGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlLnR5cGUpIHx8ICdVbmtub3duJykgKyBcIiAvPlwiO1xuICAgICAgICBpbmZvID0gJyBEaWQgeW91IGFjY2lkZW50YWxseSBleHBvcnQgYSBKU1ggbGl0ZXJhbCBpbnN0ZWFkIG9mIGEgY29tcG9uZW50Pyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0eXBlU3RyaW5nID0gdHlwZW9mIHR5cGU7XG4gICAgICB9XG5cbiAgICAgIGVycm9yKCdSZWFjdC5qc3g6IHR5cGUgaXMgaW52YWxpZCAtLSBleHBlY3RlZCBhIHN0cmluZyAoZm9yICcgKyAnYnVpbHQtaW4gY29tcG9uZW50cykgb3IgYSBjbGFzcy9mdW5jdGlvbiAoZm9yIGNvbXBvc2l0ZSAnICsgJ2NvbXBvbmVudHMpIGJ1dCBnb3Q6ICVzLiVzJywgdHlwZVN0cmluZywgaW5mbyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRoaXMgaXMgYSB2YWxpZCBlbGVtZW50IHR5cGUuXG4gICAgICAvLyBTa2lwIGtleSB3YXJuaW5nIGlmIHRoZSB0eXBlIGlzbid0IHZhbGlkIHNpbmNlIG91ciBrZXkgdmFsaWRhdGlvbiBsb2dpY1xuICAgICAgLy8gZG9lc24ndCBleHBlY3QgYSBub24tc3RyaW5nL2Z1bmN0aW9uIHR5cGUgYW5kIGNhbiB0aHJvdyBjb25mdXNpbmdcbiAgICAgIC8vIGVycm9ycy4gV2UgZG9uJ3Qgd2FudCBleGNlcHRpb24gYmVoYXZpb3IgdG8gZGlmZmVyIGJldHdlZW4gZGV2IGFuZFxuICAgICAgLy8gcHJvZC4gKFJlbmRlcmluZyB3aWxsIHRocm93IHdpdGggYSBoZWxwZnVsIG1lc3NhZ2UgYW5kIGFzIHNvb24gYXMgdGhlXG4gICAgICAvLyB0eXBlIGlzIGZpeGVkLCB0aGUga2V5IHdhcm5pbmdzIHdpbGwgYXBwZWFyLilcbiAgICAgIHZhciBjaGlsZHJlbiA9IGNvbmZpZy5jaGlsZHJlbjtcblxuICAgICAgaWYgKGNoaWxkcmVuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGlzU3RhdGljQ2hpbGRyZW4pIHtcbiAgICAgICAgICBpZiAoaXNBcnJheShjaGlsZHJlbikpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgdmFsaWRhdGVDaGlsZEtleXMoY2hpbGRyZW5baV0sIHR5cGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoT2JqZWN0LmZyZWV6ZSkge1xuICAgICAgICAgICAgICBPYmplY3QuZnJlZXplKGNoaWxkcmVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXJyb3IoJ1JlYWN0LmpzeDogU3RhdGljIGNoaWxkcmVuIHNob3VsZCBhbHdheXMgYmUgYW4gYXJyYXkuICcgKyAnWW91IGFyZSBsaWtlbHkgZXhwbGljaXRseSBjYWxsaW5nIFJlYWN0LmpzeHMgb3IgUmVhY3QuanN4REVWLiAnICsgJ1VzZSB0aGUgQmFiZWwgdHJhbnNmb3JtIGluc3RlYWQuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbGlkYXRlQ2hpbGRLZXlzKGNoaWxkcmVuLCB0eXBlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gV2FybiBhYm91dCBrZXkgc3ByZWFkIHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGUgdHlwZSBpcyB2YWxpZC5cblxuXG4gICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCAna2V5JykpIHtcbiAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUpO1xuICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhjb25maWcpLmZpbHRlcihmdW5jdGlvbiAoaykge1xuICAgICAgICByZXR1cm4gayAhPT0gJ2tleSc7XG4gICAgICB9KTtcbiAgICAgIHZhciBiZWZvcmVFeGFtcGxlID0ga2V5cy5sZW5ndGggPiAwID8gJ3trZXk6IHNvbWVLZXksICcgKyBrZXlzLmpvaW4oJzogLi4uLCAnKSArICc6IC4uLn0nIDogJ3trZXk6IHNvbWVLZXl9JztcblxuICAgICAgaWYgKCFkaWRXYXJuQWJvdXRLZXlTcHJlYWRbY29tcG9uZW50TmFtZSArIGJlZm9yZUV4YW1wbGVdKSB7XG4gICAgICAgIHZhciBhZnRlckV4YW1wbGUgPSBrZXlzLmxlbmd0aCA+IDAgPyAneycgKyBrZXlzLmpvaW4oJzogLi4uLCAnKSArICc6IC4uLn0nIDogJ3t9JztcblxuICAgICAgICBlcnJvcignQSBwcm9wcyBvYmplY3QgY29udGFpbmluZyBhIFwia2V5XCIgcHJvcCBpcyBiZWluZyBzcHJlYWQgaW50byBKU1g6XFxuJyArICcgIGxldCBwcm9wcyA9ICVzO1xcbicgKyAnICA8JXMgey4uLnByb3BzfSAvPlxcbicgKyAnUmVhY3Qga2V5cyBtdXN0IGJlIHBhc3NlZCBkaXJlY3RseSB0byBKU1ggd2l0aG91dCB1c2luZyBzcHJlYWQ6XFxuJyArICcgIGxldCBwcm9wcyA9ICVzO1xcbicgKyAnICA8JXMga2V5PXtzb21lS2V5fSB7Li4ucHJvcHN9IC8+JywgYmVmb3JlRXhhbXBsZSwgY29tcG9uZW50TmFtZSwgYWZ0ZXJFeGFtcGxlLCBjb21wb25lbnROYW1lKTtcblxuICAgICAgICBkaWRXYXJuQWJvdXRLZXlTcHJlYWRbY29tcG9uZW50TmFtZSArIGJlZm9yZUV4YW1wbGVdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcHJvcE5hbWU7IC8vIFJlc2VydmVkIG5hbWVzIGFyZSBleHRyYWN0ZWRcblxuICAgIHZhciBwcm9wcyA9IHt9O1xuICAgIHZhciBrZXkgPSBudWxsO1xuICAgIHZhciByZWYgPSBudWxsOyAvLyBDdXJyZW50bHksIGtleSBjYW4gYmUgc3ByZWFkIGluIGFzIGEgcHJvcC4gVGhpcyBjYXVzZXMgYSBwb3RlbnRpYWxcbiAgICAvLyBpc3N1ZSBpZiBrZXkgaXMgYWxzbyBleHBsaWNpdGx5IGRlY2xhcmVkIChpZS4gPGRpdiB7Li4ucHJvcHN9IGtleT1cIkhpXCIgLz5cbiAgICAvLyBvciA8ZGl2IGtleT1cIkhpXCIgey4uLnByb3BzfSAvPiApLiBXZSB3YW50IHRvIGRlcHJlY2F0ZSBrZXkgc3ByZWFkLFxuICAgIC8vIGJ1dCBhcyBhbiBpbnRlcm1lZGlhcnkgc3RlcCwgd2Ugd2lsbCB1c2UganN4REVWIGZvciBldmVyeXRoaW5nIGV4Y2VwdFxuICAgIC8vIDxkaXYgey4uLnByb3BzfSBrZXk9XCJIaVwiIC8+LCBiZWNhdXNlIHdlIGFyZW4ndCBjdXJyZW50bHkgYWJsZSB0byB0ZWxsIGlmXG4gICAgLy8ga2V5IGlzIGV4cGxpY2l0bHkgZGVjbGFyZWQgdG8gYmUgdW5kZWZpbmVkIG9yIG5vdC5cblxuICAgIGlmIChtYXliZUtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB7XG4gICAgICAgIGNoZWNrS2V5U3RyaW5nQ29lcmNpb24obWF5YmVLZXkpO1xuICAgICAgfVxuXG4gICAgICBrZXkgPSAnJyArIG1heWJlS2V5O1xuICAgIH1cblxuICAgIGlmIChoYXNWYWxpZEtleShjb25maWcpKSB7XG4gICAgICB7XG4gICAgICAgIGNoZWNrS2V5U3RyaW5nQ29lcmNpb24oY29uZmlnLmtleSk7XG4gICAgICB9XG5cbiAgICAgIGtleSA9ICcnICsgY29uZmlnLmtleTtcbiAgICB9XG5cbiAgICBpZiAoaGFzVmFsaWRSZWYoY29uZmlnKSkge1xuICAgICAge1xuICAgICAgICByZWYgPSBjb25maWcucmVmO1xuICAgICAgfVxuXG4gICAgICB3YXJuSWZTdHJpbmdSZWZDYW5ub3RCZUF1dG9Db252ZXJ0ZWQoY29uZmlnLCBzZWxmKTtcbiAgICB9IC8vIFJlbWFpbmluZyBwcm9wZXJ0aWVzIGFyZSBhZGRlZCB0byBhIG5ldyBwcm9wcyBvYmplY3RcblxuXG4gICAgZm9yIChwcm9wTmFtZSBpbiBjb25maWcpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgcHJvcE5hbWUpICYmIC8vIFNraXAgb3ZlciByZXNlcnZlZCBwcm9wIG5hbWVzXG4gICAgICBwcm9wTmFtZSAhPT0gJ2tleScgJiYgKHByb3BOYW1lICE9PSAncmVmJykpIHtcbiAgICAgICAgcHJvcHNbcHJvcE5hbWVdID0gY29uZmlnW3Byb3BOYW1lXTtcbiAgICAgIH1cbiAgICB9IC8vIFJlc29sdmUgZGVmYXVsdCBwcm9wc1xuXG5cbiAgICBpZiAodHlwZSAmJiB0eXBlLmRlZmF1bHRQcm9wcykge1xuICAgICAgdmFyIGRlZmF1bHRQcm9wcyA9IHR5cGUuZGVmYXVsdFByb3BzO1xuXG4gICAgICBmb3IgKHByb3BOYW1lIGluIGRlZmF1bHRQcm9wcykge1xuICAgICAgICBpZiAocHJvcHNbcHJvcE5hbWVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBwcm9wc1twcm9wTmFtZV0gPSBkZWZhdWx0UHJvcHNbcHJvcE5hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGtleSB8fCByZWYpIHtcbiAgICAgIHZhciBkaXNwbGF5TmFtZSA9IHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nID8gdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWUgfHwgJ1Vua25vd24nIDogdHlwZTtcblxuICAgICAgaWYgKGtleSkge1xuICAgICAgICBkZWZpbmVLZXlQcm9wV2FybmluZ0dldHRlcihwcm9wcywgZGlzcGxheU5hbWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVmKSB7XG4gICAgICAgIGRlZmluZVJlZlByb3BXYXJuaW5nR2V0dGVyKHByb3BzLCBkaXNwbGF5TmFtZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGVsZW1lbnQgPSBSZWFjdEVsZW1lbnQodHlwZSwga2V5LCByZWYsIHNlbGYsIHNvdXJjZSwgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCwgcHJvcHMpO1xuXG4gICAgaWYgKHR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUpIHtcbiAgICAgIHZhbGlkYXRlRnJhZ21lbnRQcm9wcyhlbGVtZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0oKSB7XG4gIHtcbiAgICBpZiAoUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCkge1xuICAgICAgdmFyIG5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoUmVhY3RDdXJyZW50T3duZXIuY3VycmVudC50eXBlKTtcblxuICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuICdcXG5cXG5DaGVjayB0aGUgcmVuZGVyIG1ldGhvZCBvZiBgJyArIG5hbWUgKyAnYC4nO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAnJztcbiAgfVxufVxuLyoqXG4gKiBFbnN1cmUgdGhhdCBldmVyeSBlbGVtZW50IGVpdGhlciBpcyBwYXNzZWQgaW4gYSBzdGF0aWMgbG9jYXRpb24sIGluIGFuXG4gKiBhcnJheSB3aXRoIGFuIGV4cGxpY2l0IGtleXMgcHJvcGVydHkgZGVmaW5lZCwgb3IgaW4gYW4gb2JqZWN0IGxpdGVyYWxcbiAqIHdpdGggdmFsaWQga2V5IHByb3BlcnR5LlxuICpcbiAqIEBpbnRlcm5hbFxuICogQHBhcmFtIHtSZWFjdE5vZGV9IG5vZGUgU3RhdGljYWxseSBwYXNzZWQgY2hpbGQgb2YgYW55IHR5cGUuXG4gKiBAcGFyYW0geyp9IHBhcmVudFR5cGUgbm9kZSdzIHBhcmVudCdzIHR5cGUuXG4gKi9cblxuXG5mdW5jdGlvbiB2YWxpZGF0ZUNoaWxkS2V5cyhub2RlLCBwYXJlbnRUeXBlKSB7XG4gIHtcbiAgICBpZiAodHlwZW9mIG5vZGUgIT09ICdvYmplY3QnIHx8ICFub2RlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKG5vZGUuJCR0eXBlb2YgPT09IFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UpIDsgZWxzZSBpZiAoaXNBcnJheShub2RlKSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjaGlsZCA9IG5vZGVbaV07XG5cbiAgICAgICAgaWYgKGlzVmFsaWRFbGVtZW50KGNoaWxkKSkge1xuICAgICAgICAgIHZhbGlkYXRlRXhwbGljaXRLZXkoY2hpbGQsIHBhcmVudFR5cGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc1ZhbGlkRWxlbWVudChub2RlKSkge1xuICAgICAgLy8gVGhpcyBlbGVtZW50IHdhcyBwYXNzZWQgaW4gYSB2YWxpZCBsb2NhdGlvbi5cbiAgICAgIGlmIChub2RlLl9zdG9yZSkge1xuICAgICAgICBub2RlLl9zdG9yZS52YWxpZGF0ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4obm9kZSk7XG5cbiAgICAgIGlmICh0eXBlb2YgaXRlcmF0b3JGbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBFbnRyeSBpdGVyYXRvcnMgdXNlZCB0byBwcm92aWRlIGltcGxpY2l0IGtleXMsXG4gICAgICAgIC8vIGJ1dCBub3cgd2UgcHJpbnQgYSBzZXBhcmF0ZSB3YXJuaW5nIGZvciB0aGVtIGxhdGVyLlxuICAgICAgICBpZiAoaXRlcmF0b3JGbiAhPT0gbm9kZS5lbnRyaWVzKSB7XG4gICAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKG5vZGUpO1xuICAgICAgICAgIHZhciBzdGVwO1xuXG4gICAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICAgICAgaWYgKGlzVmFsaWRFbGVtZW50KHN0ZXAudmFsdWUpKSB7XG4gICAgICAgICAgICAgIHZhbGlkYXRlRXhwbGljaXRLZXkoc3RlcC52YWx1ZSwgcGFyZW50VHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4vKipcbiAqIFZlcmlmaWVzIHRoZSBvYmplY3QgaXMgYSBSZWFjdEVsZW1lbnQuXG4gKiBTZWUgaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL3JlYWN0LWFwaS5odG1sI2lzdmFsaWRlbGVtZW50XG4gKiBAcGFyYW0gez9vYmplY3R9IG9iamVjdFxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBgb2JqZWN0YCBpcyBhIFJlYWN0RWxlbWVudC5cbiAqIEBmaW5hbFxuICovXG5cblxuZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnQob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJiBvYmplY3QgIT09IG51bGwgJiYgb2JqZWN0LiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEU7XG59XG52YXIgb3duZXJIYXNLZXlVc2VXYXJuaW5nID0ge307XG4vKipcbiAqIFdhcm4gaWYgdGhlIGVsZW1lbnQgZG9lc24ndCBoYXZlIGFuIGV4cGxpY2l0IGtleSBhc3NpZ25lZCB0byBpdC5cbiAqIFRoaXMgZWxlbWVudCBpcyBpbiBhbiBhcnJheS4gVGhlIGFycmF5IGNvdWxkIGdyb3cgYW5kIHNocmluayBvciBiZVxuICogcmVvcmRlcmVkLiBBbGwgY2hpbGRyZW4gdGhhdCBoYXZlbid0IGFscmVhZHkgYmVlbiB2YWxpZGF0ZWQgYXJlIHJlcXVpcmVkIHRvXG4gKiBoYXZlIGEgXCJrZXlcIiBwcm9wZXJ0eSBhc3NpZ25lZCB0byBpdC4gRXJyb3Igc3RhdHVzZXMgYXJlIGNhY2hlZCBzbyBhIHdhcm5pbmdcbiAqIHdpbGwgb25seSBiZSBzaG93biBvbmNlLlxuICpcbiAqIEBpbnRlcm5hbFxuICogQHBhcmFtIHtSZWFjdEVsZW1lbnR9IGVsZW1lbnQgRWxlbWVudCB0aGF0IHJlcXVpcmVzIGEga2V5LlxuICogQHBhcmFtIHsqfSBwYXJlbnRUeXBlIGVsZW1lbnQncyBwYXJlbnQncyB0eXBlLlxuICovXG5cbmZ1bmN0aW9uIHZhbGlkYXRlRXhwbGljaXRLZXkoZWxlbWVudCwgcGFyZW50VHlwZSkge1xuICB7XG4gICAgaWYgKCFlbGVtZW50Ll9zdG9yZSB8fCBlbGVtZW50Ll9zdG9yZS52YWxpZGF0ZWQgfHwgZWxlbWVudC5rZXkgIT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGVsZW1lbnQuX3N0b3JlLnZhbGlkYXRlZCA9IHRydWU7XG4gICAgdmFyIGN1cnJlbnRDb21wb25lbnRFcnJvckluZm8gPSBnZXRDdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvKHBhcmVudFR5cGUpO1xuXG4gICAgaWYgKG93bmVySGFzS2V5VXNlV2FybmluZ1tjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG93bmVySGFzS2V5VXNlV2FybmluZ1tjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvXSA9IHRydWU7IC8vIFVzdWFsbHkgdGhlIGN1cnJlbnQgb3duZXIgaXMgdGhlIG9mZmVuZGVyLCBidXQgaWYgaXQgYWNjZXB0cyBjaGlsZHJlbiBhcyBhXG4gICAgLy8gcHJvcGVydHksIGl0IG1heSBiZSB0aGUgY3JlYXRvciBvZiB0aGUgY2hpbGQgdGhhdCdzIHJlc3BvbnNpYmxlIGZvclxuICAgIC8vIGFzc2lnbmluZyBpdCBhIGtleS5cblxuICAgIHZhciBjaGlsZE93bmVyID0gJyc7XG5cbiAgICBpZiAoZWxlbWVudCAmJiBlbGVtZW50Ll9vd25lciAmJiBlbGVtZW50Ll9vd25lciAhPT0gUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCkge1xuICAgICAgLy8gR2l2ZSB0aGUgY29tcG9uZW50IHRoYXQgb3JpZ2luYWxseSBjcmVhdGVkIHRoaXMgY2hpbGQuXG4gICAgICBjaGlsZE93bmVyID0gXCIgSXQgd2FzIHBhc3NlZCBhIGNoaWxkIGZyb20gXCIgKyBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoZWxlbWVudC5fb3duZXIudHlwZSkgKyBcIi5cIjtcbiAgICB9XG5cbiAgICBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudChlbGVtZW50KTtcblxuICAgIGVycm9yKCdFYWNoIGNoaWxkIGluIGEgbGlzdCBzaG91bGQgaGF2ZSBhIHVuaXF1ZSBcImtleVwiIHByb3AuJyArICclcyVzIFNlZSBodHRwczovL3JlYWN0anMub3JnL2xpbmsvd2FybmluZy1rZXlzIGZvciBtb3JlIGluZm9ybWF0aW9uLicsIGN1cnJlbnRDb21wb25lbnRFcnJvckluZm8sIGNoaWxkT3duZXIpO1xuXG4gICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQobnVsbCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQoZWxlbWVudCkge1xuICB7XG4gICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgIHZhciBvd25lciA9IGVsZW1lbnQuX293bmVyO1xuICAgICAgdmFyIHN0YWNrID0gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKGVsZW1lbnQudHlwZSwgb3duZXIgPyBvd25lci50eXBlIDogbnVsbCk7XG4gICAgICBSZWFjdERlYnVnQ3VycmVudEZyYW1lLnNldEV4dHJhU3RhY2tGcmFtZShzdGFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIFJlYWN0RGVidWdDdXJyZW50RnJhbWUuc2V0RXh0cmFTdGFja0ZyYW1lKG51bGwpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRDdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvKHBhcmVudFR5cGUpIHtcbiAge1xuICAgIHZhciBpbmZvID0gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCk7XG5cbiAgICBpZiAoIWluZm8pIHtcbiAgICAgIHZhciBwYXJlbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHBhcmVudFR5cGUpO1xuXG4gICAgICBpZiAocGFyZW50TmFtZSkge1xuICAgICAgICBpbmZvID0gXCJcXG5cXG5DaGVjayB0aGUgdG9wLWxldmVsIHJlbmRlciBjYWxsIHVzaW5nIDxcIiArIHBhcmVudE5hbWUgKyBcIj4uXCI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGluZm87XG4gIH1cbn1cbi8qKlxuICogR2l2ZW4gYSBmcmFnbWVudCwgdmFsaWRhdGUgdGhhdCBpdCBjYW4gb25seSBiZSBwcm92aWRlZCB3aXRoIGZyYWdtZW50IHByb3BzXG4gKiBAcGFyYW0ge1JlYWN0RWxlbWVudH0gZnJhZ21lbnRcbiAqL1xuXG5cbmZ1bmN0aW9uIHZhbGlkYXRlRnJhZ21lbnRQcm9wcyhmcmFnbWVudCkge1xuICAvLyBUT0RPOiBNb3ZlIHRoaXMgdG8gcmVuZGVyIHBoYXNlIGluc3RlYWQgb2YgYXQgZWxlbWVudCBjcmVhdGlvbi5cbiAge1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZnJhZ21lbnQucHJvcHMpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpXTtcblxuICAgICAgaWYgKGtleSAhPT0gJ2NoaWxkcmVuJyAmJiBrZXkgIT09ICdrZXknKSB7XG4gICAgICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KGZyYWdtZW50KTtcblxuICAgICAgICBlcnJvcignSW52YWxpZCBwcm9wIGAlc2Agc3VwcGxpZWQgdG8gYFJlYWN0LkZyYWdtZW50YC4gJyArICdSZWFjdC5GcmFnbWVudCBjYW4gb25seSBoYXZlIGBrZXlgIGFuZCBgY2hpbGRyZW5gIHByb3BzLicsIGtleSk7XG5cbiAgICAgICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQobnVsbCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChmcmFnbWVudC5yZWYgIT09IG51bGwpIHtcbiAgICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KGZyYWdtZW50KTtcblxuICAgICAgZXJyb3IoJ0ludmFsaWQgYXR0cmlidXRlIGByZWZgIHN1cHBsaWVkIHRvIGBSZWFjdC5GcmFnbWVudGAuJyk7XG5cbiAgICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KG51bGwpO1xuICAgIH1cbiAgfVxufVxuXG52YXIganN4REVWID0ganN4REVWJDEgO1xuXG5leHBvcnRzLkZyYWdtZW50ID0gUkVBQ1RfRlJBR01FTlRfVFlQRTtcbmV4cG9ydHMuanN4REVWID0ganN4REVWO1xuICB9KSgpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js":
/*!******************************************************************!*\
  !*** ./node_modules/next/dist/compiled/react/jsx-dev-runtime.js ***!
  \******************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n\nif (false) {} else {\n  module.exports = __webpack_require__(/*! ./cjs/react-jsx-dev-runtime.development.js */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvcmVhY3QvanN4LWRldi1ydW50aW1lLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLElBQUksS0FBcUMsRUFBRSxFQUUxQyxDQUFDO0FBQ0YsRUFBRSw4TEFBc0U7QUFDeEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jb21waWxlZC9yZWFjdC9qc3gtZGV2LXJ1bnRpbWUuanM/MzBiYiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtanN4LWRldi1ydW50aW1lLnByb2R1Y3Rpb24ubWluLmpzJyk7XG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qcycpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\n"));

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }
/******/ __webpack_require__.O(0, ["main-app"], function() { return __webpack_exec__("(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22D%3A%5C%5Cusman%5C%5Csrc%5C%5Ccomponents%5C%5CPageRenderer.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&server=false!"); });
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ _N_E = __webpack_exports__;
/******/ }
]);